//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */

/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */

//     (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

//# sourceMappingURL=./backbone.radio.js.map;
// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v3.1.0
//
// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */

/*!
 * Bootstrap v3.0.3 (http://getbootstrap.com)
 * Copyright 2013 Twitter, Inc.
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 */

/* ========================================================================
 * Bootstrap: transition.js v3.0.3
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.0.3
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.0.3
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.0.3
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.0.3
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.0.3
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.0.3
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.0.3
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.0.3
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.0.3
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.0.3
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.0.3
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */

/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.8
 *
 */

if(function(){function t(t){function e(e,n,r,i,o,a){for(;o>=0&&o<a;o+=t){var s=i?i[o]:o;r=n(r,e[s],s,e)}return r}return function(n,r,i,o){r=b(r,o,4);var a=!E(n)&&y.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=t),e(n,r,i,a,u,s)}}function e(t){return function(e,n,r){n=w(n,r);for(var i=k(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(r,i,o){var a=0,s=k(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(c.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}function r(t,e){var n=R.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=R[n],o in t&&t[o]!==i[o]&&!y.contains(e,o)&&e.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,h=s.toString,f=s.hasOwnProperty,p=Array.isArray,d=Object.keys,g=u.bind,v=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},_=function(t){if(!y.isObject(t))return{};if(v)return v(t);m.prototype=t;var e=new m;return m.prototype=null,e},M=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,k=M("length"),E=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=C};y.each=y.forEach=function(t,e,n){e=b(e,n);var r,i;if(E(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var r=!E(t)&&y.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var r;if(r=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==r&&r!==-1)return t[r]},y.filter=y.select=function(t,e,n){var r=[];return e=w(e,n),y.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var r=!E(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var r=!E(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return E(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),r=y.isFunction(e);return y.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var s=0,u=t.length;s<u;s++)r=t[s],r>o&&(o=r)}else e=w(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},y.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var s=0,u=t.length;s<u;s++)r=t[s],r<o&&(o=r)}else e=w(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(i<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),r=n.length,i=Array(r),o=0;o<r;o++)e=y.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,r){var i={};return n=w(n,r),y.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};y.groupBy=T(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=T(function(t,e,n){t[n]=e}),y.countBy=T(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var r=[],i=[];return y.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var S=function(t,e,n,r){for(var i=[],o=0,a=r||0,s=k(t);a<s;a++){var u=t[a];if(E(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=S(u,e,n));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};y.flatten=function(t,e){return S(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=k(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&o===l||i.push(u),o=l):n?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=k(t);r<i;r++){var o=t[r];if(!y.contains(e,o)){for(var a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=function(t){var e=S(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,k).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.object=function(t,e){for(var n={},r=0,i=k(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,r){n=w(n,r,1);for(var i=n(e),o=0,a=k(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var A=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=_(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return A(t,r,e,this,n.concat(c.call(arguments)))};return r},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;a<i;a++)o[a]=e[a]===y?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return A(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return y.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:y.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var l=y.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return r=this,i=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=l,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},y.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var l=y.now()-a;l<e&&l>=0?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,i),o=i=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return N&&r(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&r(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=w(e,n);for(var r,i=y.keys(t),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=e(t[r],r,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var r,i=y.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r},y.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;y.isFunction(e)?(i=y.allKeys(a),r=b(e,n)):(i=S(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=i.length;s<u;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var r=y.map(S(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(r,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=_(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var j=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!j(t[u],e[u],n,r))return!1}else{var l,c=y.keys(t);if(u=c.length,y.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(e,l)||!j(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(t,e){return j(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&f.call(t,e)},y.noConflict=function(){return i._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=M,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=y.invert(D),V=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};y.escape=V(D),y.unescape=V(q),y.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),y.isFunction(r)?r.call(t):r};var L=0;y.uniqueId=function(t){var e=++L+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,P=function(t){return"\\"+$[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||O).source,(e.interpolate||O).source,(e.evaluate||O).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(I,P),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,y)},u=e.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var F=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),F(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],F(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return F(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(){define("config/underscore/templatesettings",["underscore"],function(t){return t.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{(.+?)\}\}/g}})}.call(this),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e){e=e||et;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function r(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){return dt.isFunction(e)?dt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?dt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?dt.grep(t,function(t){return at.call(e,t)>-1!==n}):Ct.test(e)?dt.filter(e,t,n):(e=dt.filter(e,t),dt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return dt.each(t.match(Nt)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function u(t){throw t}function l(t,e,n){var r;try{t&&dt.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&dt.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function c(){et.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),dt.ready()}function h(){this.expando=dt.expando+h.uid++}function f(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ot.test(t)?JSON.parse(t):t)}function p(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace($t,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n=f(n)}catch(t){}Lt.set(t,e,n)}else n=void 0;return n}function d(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return dt.css(t,e,"")},u=s(),l=n&&n[3]||(dt.cssNumber[e]?"":"px"),c=(dt.cssNumber[e]||"px"!==l&&+u)&&Pt.exec(dt.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,dt.style(t,e,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function g(t){var e,n=t.ownerDocument,r=t.nodeName,i=Bt[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=dt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Bt[r]=i,i)}function v(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=Vt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ht(r)&&(i[o]=g(r))):"none"!==n&&(i[o]="none",Vt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function m(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&dt.nodeName(t,e)?dt.merge([t],n):n}function y(t,e){for(var n=0,r=t.length;n<r;n++)Vt.set(t[n],"globalEval",!e||Vt.get(e[n],"globalEval"))}function b(t,e,n,r,i){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if(o=t[p],o||0===o)if("object"===dt.type(o))dt.merge(f,o.nodeType?[o]:o);else if(Jt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(Wt.exec(o)||["",""])[1].toLowerCase(),u=Yt[s]||Yt._default,a.innerHTML=u[1]+dt.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;dt.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(r&&dt.inArray(o,r)>-1)i&&i.push(o);else if(l=dt.contains(o.ownerDocument,o),a=m(h.appendChild(o),"script"),l&&y(a),n)for(c=0;o=a[c++];)Gt.test(o.type||"")&&n.push(o);return h}function w(){return!0}function x(){return!1}function _(){try{return et.activeElement}catch(t){}}function M(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)M(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=x;else if(!i)return t;return 1===o&&(a=i,i=function(t){return dt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,i,r,n)})}function C(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function k(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function E(t){var e=re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(Vt.hasData(t)&&(o=Vt.access(t),a=Vt.set(e,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)dt.event.add(e,i,l[i][n])}Lt.hasData(t)&&(s=Lt.access(t),u=dt.extend({},s),Lt.set(e,u))}}function S(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ut.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function A(t,e,r,i){e=it.apply([],e);var o,a,s,u,l,c,h=0,f=t.length,p=f-1,d=e[0],g=dt.isFunction(d);if(g||f>1&&"string"==typeof d&&!ft.checkClone&&ne.test(d))return t.each(function(n){var o=t.eq(n);g&&(e[0]=d.call(this,n,o.html())),A(o,e,r,i)});if(f&&(o=b(e,t[0].ownerDocument,!1,t,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=dt.map(m(o,"script"),k),u=s.length;h<f;h++)l=o,h!==p&&(l=dt.clone(l,!0,!0),u&&dt.merge(s,m(l,"script"))),r.call(t[h],l,h);if(u)for(c=s[s.length-1].ownerDocument,dt.map(s,E),h=0;h<u;h++)l=s[h],Gt.test(l.type||"")&&!Vt.access(l,"globalEval")&&dt.contains(c,l)&&(l.src?dt._evalUrl&&dt._evalUrl(l.src):n(l.textContent.replace(ie,""),c))}return t}function N(t,e,n){for(var r,i=e?dt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||dt.cleanData(m(r)),r.parentNode&&(n&&dt.contains(r.ownerDocument,r)&&y(m(r,"script")),r.parentNode.removeChild(r));return t}function R(t,e,n){var r,i,o,a,s=t.style;return n=n||se(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),!ft.pixelMarginRight()&&ae.test(a)&&oe.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function j(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){if(t in fe)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=he.length;n--;)if(t=he[n]+e,t in fe)return t}function q(t,e,n){var r=Pt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function V(t,e,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+Ft[o],!0,i)),r?("content"===n&&(a-=dt.css(t,"padding"+Ft[o],!0,i)),"margin"!==n&&(a-=dt.css(t,"border"+Ft[o]+"Width",!0,i))):(a+=dt.css(t,"padding"+Ft[o],!0,i),"padding"!==n&&(a+=dt.css(t,"border"+Ft[o]+"Width",!0,i)));return a}function L(t,e,n){var r,i=!0,o=se(t),a="border-box"===dt.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),r<=0||null==r){if(r=R(t,e,o),(r<0||null==r)&&(r=t.style[e]),ae.test(r))return r;i=a&&(ft.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+V(t,e,n||(a?"border":"content"),i,o)+"px"}function O(t,e,n,r,i){return new O.prototype.init(t,e,n,r,i)}function $(){de&&(t.requestAnimationFrame($),dt.fx.tick())}function I(){return t.setTimeout(function(){pe=void 0}),pe=dt.now()}function P(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Ft[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t,e,n){for(var r,i=(B.tweeners[e]||[]).concat(B.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function H(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&Ht(t),m=Vt.get(t,"fxshow");n.queue||(a=dt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,dt.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],ge.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}p[r]=m&&m[r]||dt.style(t,r)}if(u=!dt.isEmptyObject(e),u||!dt.isEmptyObject(p)){h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=m&&m.display,null==l&&(l=Vt.get(t,"display")),c=dt.css(t,"display"),"none"===c&&(l?c=l:(v([t],!0),l=t.style.display||l,c=dt.css(t,"display"),v([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===dt.css(t,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in p)u||(m?"hidden"in m&&(g=m.hidden):m=Vt.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&v([t],!0),f.done(function(){g||v([t]),Vt.remove(t,"fxshow");for(r in p)dt.style(t,r,p[r])})),u=F(g?m[r]:0,r,f),r in m||(m[r]=u.start,g&&(u.end=u.start,u.start=0))}}function z(t,e){var n,r,i,o,a;for(n in t)if(r=dt.camelCase(n),i=e[r],o=t[n],dt.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=dt.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function B(t,e,n){var r,i,o=0,a=B.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=pe||I(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:dt.extend({},e),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},n),originalProperties:e,originalOptions:n,startTime:pe||I(),duration:n.duration,tweens:[],createTween:function(e,n){var r=dt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(z(c,l.opts.specialEasing);o<a;o++)if(r=B.prefilters[o].call(l,t,c,l.opts))return dt.isFunction(r.stop)&&(dt._queueHooks(l.elem,l.opts.queue).stop=dt.proxy(r.stop,r)),r;return dt.map(c,F,l),dt.isFunction(l.opts.start)&&l.opts.start.call(t,l),dt.fx.timer(dt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function U(t){var e=t.match(Nt)||[];return e.join(" ")}function W(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t,e,n,r){var i;if(dt.isArray(e))dt.each(e,function(e,i){n||Ee.test(t)?r(t,i):G(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==dt.type(e))r(t,e);else for(i in e)G(t+"["+i+"]",e[i],n,r)}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Nt)||[];if(dt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function J(t,e,n,r){function i(s){var u;return o[s]=!0,dt.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===$e;return i(e.dataTypes[0])||!o["*"]&&i("*")}function X(t,e){var n,r,i=dt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&dt.extend(!0,t,r),t}function Q(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Z(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function K(t){return dt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,nt=Object.getPrototypeOf,rt=tt.slice,it=tt.concat,ot=tt.push,at=tt.indexOf,st={},ut=st.toString,lt=st.hasOwnProperty,ct=lt.toString,ht=ct.call(Object),ft={},pt="3.1.1",dt=function(t,e){return new dt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,vt=/^-ms-/,mt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:pt,constructor:dt,length:0,toArray:function(){return rt.call(this)},get:function(t){return null==t?rt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return dt.each(this,t)},map:function(t){return this.pushStack(dt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},dt.extend=dt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||dt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(l&&r&&(dt.isPlainObject(r)||(i=dt.isArray(r)))?(i?(i=!1,o=n&&dt.isArray(n)?n:[]):o=n&&dt.isPlainObject(n)?n:{},a[e]=dt.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},dt.extend({expando:"jQuery"+(pt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=dt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t))&&(!(e=nt(t))||(n=lt.call(e,"constructor")&&e.constructor,"function"==typeof n&&ct.call(n)===ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(vt,"ms-").replace(mt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;o<a;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,o,a=0,s=[];if(r(t))for(i=t.length;a<i;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return it.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),dt.isFunction(t))return r=rt.call(arguments,2),
i=function(){return t.apply(e||this,r.concat(rt.call(arguments)))},i.guid=t.guid=t.guid||dt.guid++,i},now:Date.now,support:ft}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=tt[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var bt=function(t){function e(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:F)!==D&&j(e),e=e||D,V)){if(11!==d&&(u=mt.exec(t)))if(i=u[1]){if(9===d){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&I(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(i)),n}if(_.qsa&&!W[t+" "]&&(!L||!L.test(t))){if(1!==d)f=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,_t):e.setAttribute("id",s=P),l=E(t),o=l.length;o--;)l[o]="#"+s+" "+p(l[o]);c=l.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(c)try{return Z.apply(n,f.querySelectorAll(c)),n}catch(t){}finally{s===P&&e.removeAttribute("id")}}}return S(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>M.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[P]=!0,t}function i(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)M.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ct(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function p(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=z++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,h,f=[H,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(h=e[P]||(e[P]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===H&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function g(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function y(t,e,n,i,o,a){return i&&!i[P]&&(i=y(i)),o&&!o[P]&&(o=y(o,a)),r(function(r,a,s,u){var l,c,h,f=[],p=[],d=a.length,g=r||v(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?g:m(g,f,t,s,u),b=n?o||(r?t:d||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=m(b,p),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(b[p[c]]=!(y[p[c]]=h));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(h=b[c])&&l.push(y[c]=h);o(null,b=[],l,u)}for(c=b.length;c--;)(h=b[c])&&(l=o?tt(r,h):f[c])>-1&&(r[l]=!(a[l]=h))}}else b=m(b===a?b.splice(d,b.length):b),o?o(null,a,b,u):Z.apply(a,b)})}function b(t){for(var e,n,r,i=t.length,o=M.relative[t[0].type],a=o||M.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),l=d(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==A)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];s<i;s++)if(n=M.relative[t[s].type])c=[d(g(c),n)];else{if(n=M.filter[t[s].type].apply(null,t[s].matches),n[P]){for(r=++s;r<i&&!M.relative[t[r].type];r++);return y(s>1&&g(c),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<r&&b(t.slice(s,r)),r<i&&b(t=t.slice(r)),r<i&&p(t))}c.push(n)}return g(c)}function w(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,h,f,p=0,d="0",g=r&&[],v=[],y=A,b=r||o&&M.find.TAG("*",l),w=H+=null==y?1:Math.random()||.1,x=b.length;for(l&&(A=a===D||a||l);d!==x&&null!=(c=b[d]);d++){if(o&&c){for(h=0,a||c.ownerDocument===D||(j(c),s=!V);f=t[h++];)if(f(c,a||D,s)){u.push(c);break}l&&(H=w)}i&&((c=!f&&c)&&p--,r&&g.push(c))}if(p+=d,i&&d!==p){for(h=0;f=n[h++];)f(g,v,a,s);if(r){if(p>0)for(;d--;)g[d]||v[d]||(v[d]=X.call(u));v=m(v)}Z.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(H=w,A=y),g};return i?r(a):a}var x,_,M,C,k,E,T,S,A,N,R,j,D,q,V,L,O,$,I,P="sizzle"+1*new Date,F=t.document,H=0,z=0,B=n(),U=n(),W=n(),G=function(t,e){return t===e&&(R=!0),0},Y={}.hasOwnProperty,J=[],X=J.pop,Q=J.push,Z=J.push,K=J.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Mt=function(){j()},Ct=d(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(J=K.call(F.childNodes),F.childNodes),J[F.childNodes.length].nodeType}catch(t){Z={apply:J.length?function(t,e){Q.apply(t,K.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}_=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},j=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:F;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,q=D.documentElement,V=!k(D),F!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Mt,!1):n.attachEvent&&n.attachEvent("onunload",Mt)),_.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=i(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(D.getElementsByClassName),_.getById=i(function(t){return q.appendChild(t).id=P,!D.getElementsByName||!D.getElementsByName(P).length}),_.getById?(M.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}},M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&V){var n=e.getElementById(t);return n?[n]:[]}}):(M.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&V){var n,r,i,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),M.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},M.find.CLASS=_.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&V)return e.getElementsByClassName(t)},O=[],L=[],(_.qsa=vt.test(D.querySelectorAll))&&(i(function(t){q.appendChild(t).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+P+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+P+"+*").length||L.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),q.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=vt.test($=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(t){_.disconnectedMatch=$.call(t,"*"),$.call(t,"[s!='']:x"),O.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),e=vt.test(q.compareDocumentPosition),I=e||vt.test(q.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===F&&I(F,t)?-1:e===D||e.ownerDocument===F&&I(F,e)?1:N?tt(N,t)-tt(N,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===D?-1:e===D?1:i?-1:o?1:N?tt(N,t)-tt(N,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===F?-1:u[r]===F?1:0},D):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&j(t),n=n.replace(ct,"='$1']"),_.matchesSelector&&V&&!W[n+" "]&&(!O||!O.test(n))&&(!L||!L.test(n)))try{var r=$.call(t,n);if(r||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&j(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&j(t);var n=M.attrHandle[e.toLowerCase()],r=n&&Y.call(M.attrHandle,e.toLowerCase())?n(t,e,!V):void 0;return void 0!==r?r:_.attributes||!V?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(xt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(R=!_.detectDuplicates,N=!_.sortStable&&t.slice(0),t.sort(G),R){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return N=null,t},C=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=C(e);return n},M=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(f=v,h=f[P]||(f[P]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],p=l[0]===H&&l[1],b=p&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[H,p,b];break}}else if(y&&(f=e,h=f[P]||(f[P]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],p=l[0]===H&&l[1],b=p),b===!1)for(;(f=++p&&f&&f[g]||(b=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&(h=f[P]||(f[P]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[H,b]),f!==e)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[P]?o(n):o.length>1?(i=[t,t,"",n],M.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=tt(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=T(t.replace(st,"$1"));return i[P]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:r(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=V?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===q},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},M.pseudos.nth=M.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})M.pseudos[x]=u(x);return f.prototype=M.filters=M.pseudos,M.setFilters=new f,E=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=U[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=M.preFilter;s;){r&&!(i=ut.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=lt.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(a in M.filter)!(i=pt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):U(t,u).slice(0)},T=e.compile=function(t,e){var n,r=[],i=[],o=W[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=b(e[n]),o[P]?r.push(o):i.push(o);o=W(t,w(i,r)),o.selector=t}return o},S=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,c=!r&&E(t=l.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&V&&M.relative[o[1].type]){if(e=(M.find.ID(a.matches[0].replace(bt,wt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!M.relative[s=a.type]);)if((u=M.find[s])&&(r=u(a.matches[0].replace(bt,wt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&p(o),!t)return Z.apply(n,r),n;break}}return(l||T(t,c))(r,e,!V,n,!e||yt.test(t)&&h(e.parentNode)||e),n},_.sortStable=P.split("").sort(G).join("")===P,_.detectDuplicates=!!R,j(),_.sortDetached=i(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);dt.find=bt,dt.expr=bt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=bt.uniqueSort,dt.text=bt.getText,dt.isXMLDoc=bt.isXML,dt.contains=bt.contains,dt.escapeSelector=bt.escape;var wt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&dt(t).is(n))break;r.push(t)}return r},xt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=dt.expr.match.needsContext,Mt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ct=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?dt.find.matchesSelector(r,t)?[r]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<r;e++)if(dt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)dt.find(t,i[e],n);return r>1?dt.uniqueSort(n):n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&_t.test(t)?dt(t):t||[],!1).length}});var kt,Et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=dt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||kt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Et.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),Mt.test(r[1])&&dt.isPlainObject(e))for(r in e)dt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=et.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):dt.isFunction(t)?void 0!==n.ready?n.ready(t):t(dt):dt.makeArray(t,this)};Tt.prototype=dt.fn,kt=dt(et);var St=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e=dt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(dt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&dt(t);if(!_t.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?at.call(dt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return wt(t,"parentNode")},parentsUntil:function(t,e,n){return wt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return wt(t,"nextSibling")},prevAll:function(t){return wt(t,"previousSibling")},nextUntil:function(t,e,n){return wt(t,"nextSibling",n)},prevUntil:function(t,e,n){return wt(t,"previousSibling",n)},siblings:function(t){return xt((t.parentNode||{}).firstChild,t)},children:function(t){return xt(t.firstChild)},contents:function(t){return t.contentDocument||dt.merge([],t.childNodes)}},function(t,e){dt.fn[t]=function(n,r){var i=dt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=dt.filter(r,i)),this.length>1&&(At[t]||dt.uniqueSort(i),St.test(t)&&i.reverse()),this.pushStack(i)}});var Nt=/[^\x20\t\r\n\f]+/g;dt.Callbacks=function(t){t="string"==typeof t?a(t):dt.extend({},t);var e,n,r,i,o=[],s=[],u=-1,l=function(){for(i=t.once,r=e=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(u=o.length-1,s.push(n)),function e(n){dt.each(n,function(n,r){dt.isFunction(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==dt.type(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;(n=dt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?dt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},dt.extend({Deferred:function(e){var n=[["notify","progress",dt.Callbacks("memory"),dt.Callbacks("memory"),2],["resolve","done",dt.Callbacks("once memory"),dt.Callbacks("once memory"),0,"resolved"],["reject","fail",dt.Callbacks("once memory"),dt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return dt.Deferred(function(e){dt.each(n,function(n,r){var i=dt.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var l=this,c=arguments,h=function(){var t,h;if(!(e<a)){if(t=r.apply(l,c),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,dt.isFunction(h)?i?h.call(t,o(a,n,s,i),o(a,n,u,i)):(a++,h.call(t,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(l=void 0,c=[t]),(i||n.resolveWith)(l,c))}},f=i?h:function(){try{h()}catch(t){dt.Deferred.exceptionHook&&dt.Deferred.exceptionHook(t,f.stackTrace),e+1>=a&&(r!==u&&(l=void 0,c=[t]),n.rejectWith(l,c))}};e?f():(dt.Deferred.getStackHook&&(f.stackTrace=dt.Deferred.getStackHook()),t.setTimeout(f))}}var a=0;return dt.Deferred(function(t){n[0][3].add(o(0,t,dt.isFunction(i)?i:s,t.notifyWith)),n[1][3].add(o(0,t,dt.isFunction(e)?e:s)),n[2][3].add(o(0,t,dt.isFunction(r)?r:u))}).promise()},promise:function(t){return null!=t?dt.extend(t,i):i}},o={};return dt.each(n,function(t,e){var a=e[2],s=e[5];i[e[1]]=a.add,s&&a.add(function(){r=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=rt.call(arguments),o=dt.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?rt.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(l(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||dt.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var Rt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;dt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Rt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},dt.readyException=function(e){t.setTimeout(function(){throw e})};var jt=dt.Deferred();dt.fn.ready=function(t){return jt.then(t).catch(function(t){dt.readyException(t)}),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(t===!0?--dt.readyWait:dt.isReady)||(dt.isReady=!0,t!==!0&&--dt.readyWait>0||jt.resolveWith(et,[dt]))}}),dt.ready.then=jt.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(dt.ready):(et.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Dt=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===dt.type(n)){i=!0;for(s in n)Dt(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,dt.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},qt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},qt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[dt.camelCase(e)]=n;else for(r in e)i[dt.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][dt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){dt.isArray(e)?e=e.map(dt.camelCase):(e=dt.camelCase(e),e=e in r?[e]:e.match(Nt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||dt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!dt.isEmptyObject(e)}};var Vt=new h,Lt=new h,Ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/[A-Z]/g;dt.extend({hasData:function(t){return Lt.hasData(t)||Vt.hasData(t)},data:function(t,e,n){return Lt.access(t,e,n)},removeData:function(t,e){Lt.remove(t,e)},_data:function(t,e,n){return Vt.access(t,e,n)},_removeData:function(t,e){Vt.remove(t,e)}}),dt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Lt.get(o),1===o.nodeType&&!Vt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=dt.camelCase(r.slice(5)),p(o,r,i[r])));Vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Lt.set(this,t)}):Dt(this,function(e){var n;if(o&&void 0===e){if(n=Lt.get(o,t),void 0!==n)return n;if(n=p(o,t),void 0!==n)return n}else this.each(function(){Lt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Lt.remove(this,t)})}}),dt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Vt.get(t,e),n&&(!r||dt.isArray(n)?r=Vt.access(t,e,dt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),r=n.length,i=n.shift(),o=dt._queueHooks(t,e),a=function(){dt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Vt.get(t,n)||Vt.access(t,n,{empty:dt.Callbacks("once memory").add(function(){Vt.remove(t,[e+"queue",n])})})}}),dt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?dt.queue(this[0],t):void 0===e?this:this.each(function(){var n=dt.queue(this,t,e);dt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&dt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=dt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Vt.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var It=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+It+")([a-z%]*)$","i"),Ft=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&dt.contains(t.ownerDocument,t)&&"none"===dt.css(t,"display")},zt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Bt={};dt.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?dt(this).show():dt(this).hide()})}});var Ut=/^(?:checkbox|radio)$/i,Wt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Gt=/^$|\/(?:java|ecma)script/i,Yt={
option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Jt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ft.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Xt=et.documentElement,Qt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,p,d,g,v=Vt.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&dt.find.matchesSelector(Xt,i),n.guid||(n.guid=dt.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof dt&&dt.event.triggered!==e.type?dt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Nt)||[""],l=e.length;l--;)s=Kt.exec(e[l])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p&&(h=dt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=dt.event.special[p]||{},c=dt.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&dt.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,d,a)!==!1||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),dt.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,p,d,g,v=Vt.hasData(t)&&Vt.get(t);if(v&&(u=v.events)){for(e=(e||"").match(Nt)||[""],l=e.length;l--;)if(s=Kt.exec(e[l])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p){for(h=dt.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&h.teardown.call(t,d,v.handle)!==!1||dt.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)dt.event.remove(t,p+e[l],n,r,!0);dt.isEmptyObject(u)&&Vt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=dt.event.fix(t),u=new Array(arguments.length),l=(Vt.get(this,"events")||{})[s.type]||[],c=dt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=dt.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((dt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)r=e[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?dt(i,this).index(l)>-1:dt.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(dt.Event.prototype,t,{enumerable:!0,configurable:!0,get:dt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[dt.expando]?t:new dt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&dt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},dt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},dt.Event=function(t,e){return this instanceof dt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?w:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),void(this[dt.expando]=!0)):new dt.Event(t,e)},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=w,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=w,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=w,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Qt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Zt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},dt.event.addProp),dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){dt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||dt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),dt.fn.extend({on:function(t,e,n,r){return M(this,t,e,n,r)},one:function(t,e,n,r){return M(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,dt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=x),this.each(function(){dt.event.remove(this,t,n,e)})}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^true\/(.*)/,ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;dt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=dt.contains(t.ownerDocument,t);if(!(ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(a=m(s),o=m(t),r=0,i=o.length;r<i;r++)S(o[r],a[r]);if(e)if(n)for(o=o||m(t),a=a||m(s),r=0,i=o.length;r<i;r++)T(o[r],a[r]);else T(t,s);return a=m(s,"script"),a.length>0&&y(a,!u&&m(t,"script")),s},cleanData:function(t){for(var e,n,r,i=dt.event.special,o=0;void 0!==(n=t[o]);o++)if(qt(n)){if(e=n[Vt.expando]){if(e.events)for(r in e.events)i[r]?dt.event.remove(n,r):dt.removeEvent(n,r,e.handle);n[Vt.expando]=void 0}n[Lt.expando]&&(n[Lt.expando]=void 0)}}}),dt.fn.extend({detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?dt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(dt.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ee.test(t)&&!Yt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(dt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return A(this,arguments,function(e){var n=this.parentNode;dt.inArray(this,t)<0&&(dt.cleanData(m(this)),n&&n.replaceChild(e,this))},t)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){dt.fn[t]=function(t){for(var n,r=[],i=dt(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),dt(i[a])[e](n),ot.apply(r,n.get());return this.pushStack(r)}});var oe=/^margin/,ae=new RegExp("^("+It+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Xt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,Xt.removeChild(a),s=null}}var n,r,i,o,a=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),dt.extend(ft,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),o}}))}();var ue=/^(none|table(?!-c[ea]).+)/,le={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],fe=et.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=R(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=dt.camelCase(e),u=t.style;return e=dt.cssProps[s]||(dt.cssProps[s]=D(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Pt.exec(n))&&i[1]&&(n=d(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(dt.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=dt.camelCase(e);return e=dt.cssProps[s]||(dt.cssProps[s]=D(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=R(t,e,r)),"normal"===i&&e in ce&&(i=ce[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),dt.each(["height","width"],function(t,e){dt.cssHooks[e]={get:function(t,n,r){if(n)return!ue.test(dt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?L(t,e,r):zt(t,le,function(){return L(t,e,r)})},set:function(t,n,r){var i,o=r&&se(t),a=r&&V(t,e,r,"border-box"===dt.css(t,"boxSizing",!1,o),o);return a&&(i=Pt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=dt.css(t,e)),q(t,n,a)}}}),dt.cssHooks.marginLeft=j(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(R(t,"marginLeft"))||t.getBoundingClientRect().left-zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(t,e){dt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ft[r]+e]=o[r]||o[r-2]||o[0];return i}},oe.test(t)||(dt.cssHooks[t+e].set=q)}),dt.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var r,i,o={},a=0;if(dt.isArray(e)){for(r=se(t),i=e.length;a<i;a++)o[e[a]]=dt.css(t,e[a],!1,r);return o}return void 0!==n?dt.style(t,e,n):dt.css(t,e)},t,e,arguments.length>1)}}),dt.Tween=O,O.prototype={constructor:O,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=O.prototype.init,dt.fx.step={};var pe,de,ge=/^(?:toggle|show|hide)$/,ve=/queueHooks$/;dt.Animation=dt.extend(B,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,Pt.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(e)},prefilters:[H],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),dt.speed=function(t,e,n){var r=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return dt.fx.off||et.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration in dt.fx.speeds?r.duration=dt.fx.speeds[r.duration]:r.duration=dt.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){dt.isFunction(r.old)&&r.old.call(this),r.queue&&dt.dequeue(this,r.queue)},r},dt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=dt.isEmptyObject(t),o=dt.speed(e,n,r),a=function(){var e=B(this,dt.extend({},t),o);(i||Vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=dt.timers,a=Vt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ve.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||dt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Vt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=dt.timers,a=r?r.length:0;for(n.finish=!0,dt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),dt.each(["toggle","show","hide"],function(t,e){var n=dt.fn[e];dt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,r,i)}}),dt.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){dt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),dt.timers=[],dt.fx.tick=function(){var t,e=0,n=dt.timers;for(pe=dt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||dt.fx.stop(),pe=void 0},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){de||(de=t.requestAnimationFrame?t.requestAnimationFrame($):t.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(de):t.clearInterval(de),de=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(e,n){return e=dt.fx?dt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",ft.checkOn=""!==t.value,ft.optSelected=n.selected,t=et.createElement("input"),t.value="t",t.type="radio",ft.radioValue="t"===t.value}();var me,ye=dt.expr.attrHandle;dt.fn.extend({attr:function(t,e){return Dt(this,dt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(i=dt.attrHooks[e.toLowerCase()]||(dt.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void dt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=dt.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Nt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return e===!1?dt.removeAttr(t,n):t.setAttribute(n,n),n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ye[e]||dt.find.attr;ye[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=ye[a],ye[a]=i,i=null!=n(t,e,r)?a:null,ye[a]=o),i}});var be=/^(?:input|select|textarea|button)$/i,we=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Dt(this,dt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[dt.propFix[t]||t]})}}),dt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,i=dt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ft.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),dt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Nt)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&" "+U(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=U(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Nt)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&" "+U(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=U(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):dt.isFunction(t)?this.each(function(n){dt(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=dt(this),o=t.match(Nt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=W(this),e&&Vt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Vt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+U(W(n))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;dt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=dt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,dt(this).val()):t,null==i?i="":"number"==typeof i?i+="":dt.isArray(i)&&(i=dt.map(i,function(t){return null==t?"":t+""})),e=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=dt.valHooks[i.type]||dt.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xe,""):null==n?"":n)}}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:U(dt.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!dt.nodeName(n.parentNode,"optgroup"))){if(e=dt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=dt.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=dt.inArray(dt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=dt.inArray(dt(t).val(),e)>-1}},ft.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e=/^(?:focusinfocus|focusoutblur)$/;dt.extend(dt.event,{trigger:function(e,n,r,i){var o,a,s,u,l,c,h,f=[r||et],p=lt.call(e,"type")?e.type:e,d=lt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||et,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+dt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[dt.expando]?e:new dt.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:dt.makeArray(n,[e]),h=dt.event.special[p]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!dt.isWindow(r)){for(u=h.delegateType||p,_e.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||et)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||p,c=(Vt.get(a,"events")||{})[e.type]&&Vt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&qt(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!qt(r)||l&&dt.isFunction(r[p])&&!dt.isWindow(r)&&(s=r[l],s&&(r[l]=null),dt.event.triggered=p,r[p](),dt.event.triggered=void 0,s&&(r[l]=s)),e.result}},simulate:function(t,e,n){var r=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(r,null,e)}}),dt.fn.extend({trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}}),dt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){dt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ft.focusin="onfocusin"in t,ft.focusin||dt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){dt.event.simulate(e,t.target,dt.event.fix(t))};dt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Vt.access(r,e);i||r.addEventListener(t,n,!0),Vt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Vt.access(r,e)-1;i?Vt.access(r,e,i):(r.removeEventListener(t,n,!0),Vt.remove(r,e))}}});var Me=t.location,Ce=dt.now(),ke=/\?/;dt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+e),n};var Ee=/\[\]$/,Te=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,r=[],i=function(t,e){var n=dt.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){i(this.name,this.value)});else for(n in t)G(n,t[n],e,i);return r.join("&")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&Ae.test(this.nodeName)&&!Se.test(t)&&(this.checked||!Ut.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:dt.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Ne=/%20/g,Re=/#.*$/,je=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Le=/^\/\//,Oe={},$e={},Ie="*/".concat("*"),Pe=et.createElement("a");Pe.href=Me.href,dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:qe.test(Me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,dt.ajaxSettings),e):X(dt.ajaxSettings,t)},ajaxPrefilter:Y(Oe),ajaxTransport:Y($e),ajax:function(e,n){function r(e,n,r,s){var l,f,p,w,x,_=n;c||(c=!0,u&&t.clearTimeout(u),i=void 0,a=s||"",M.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(w=Q(d,M,r)),w=Z(d,w,M,l),l?(d.ifModified&&(x=M.getResponseHeader("Last-Modified"),x&&(dt.lastModified[o]=x),x=M.getResponseHeader("etag"),x&&(dt.etag[o]=x)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=w.state,f=w.data,p=w.error,l=!p)):(p=_,!e&&_||(_="error",e<0&&(e=0))),M.status=e,M.statusText=(n||_)+"",l?m.resolveWith(g,[f,_,M]):m.rejectWith(g,[M,_,p]),M.statusCode(b),b=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[M,d,l?f:p]),y.fireWith(g,[M,_]),h&&(v.trigger("ajaxComplete",[M,d]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,a,s,u,l,c,h,f,p,d=dt.ajaxSetup({},n),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?dt(g):dt.event,m=dt.Deferred(),y=dt.Callbacks("once memory"),b=d.statusCode||{},w={},x={},_="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=De.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)M.always(t[M.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return i&&i.abort(e),r(0,e),this}};if(m.promise(M),d.url=((e||d.url||Me.href)+"").replace(Le,Me.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Nt)||[""],null==d.crossDomain){l=et.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Pe.protocol+"//"+Pe.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=dt.param(d.data,d.traditional)),J(Oe,d,n,M),c)return M;h=dt.event&&d.global,h&&0===dt.active++&&dt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ve.test(d.type),o=d.url.replace(Re,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ne,"+")):(p=d.url.slice(o.length),d.data&&(o+=(ke.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(je,"$1"),p=(ke.test(o)?"&":"?")+"_="+Ce++ +p),d.url=o+p),d.ifModified&&(dt.lastModified[o]&&M.setRequestHeader("If-Modified-Since",dt.lastModified[o]),dt.etag[o]&&M.setRequestHeader("If-None-Match",dt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ie+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)M.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(g,M,d)===!1||c))return M.abort();if(_="abort",y.add(d.complete),M.done(d.success),M.fail(d.error),i=J($e,d,n,M)){if(M.readyState=1,h&&v.trigger("ajaxSend",[M,d]),c)return M;d.async&&d.timeout>0&&(u=t.setTimeout(function(){M.abort("timeout")},d.timeout));try{c=!1,i.send(w,r)}catch(t){if(c)throw t;r(-1,t)}}else r(-1,"No Transport");return M},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,void 0,e,"script")}}),dt.each(["get","post"],function(t,e){dt[e]=function(t,n,r,i){return dt.isFunction(n)&&(i=i||r,r=n,n=void 0),dt.ajax(dt.extend({url:t,type:e,dataType:i,data:n,success:r},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},dt.fn.extend({wrapAll:function(t){var e;return this[0]&&(dt.isFunction(t)&&(t=t.call(this[0])),e=dt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},
wrapInner:function(t){return dt.isFunction(t)?this.each(function(e){dt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=dt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=dt.isFunction(t);return this.each(function(n){dt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){dt(this).replaceWith(this.childNodes)}),this}}),dt.expr.pseudos.hidden=function(t){return!dt.expr.pseudos.visible(t)},dt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},dt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Fe={0:200,1223:204},He=dt.ajaxSettings.xhr();ft.cors=!!He&&"withCredentials"in He,ft.ajax=He=!!He,dt.ajaxTransport(function(e){var n,r;if(ft.cors||He&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Fe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),dt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=dt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var ze=[],Be=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||dt.expando+"_"+Ce++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Be.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Be.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=dt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Be,"$1"+i):e.jsonp!==!1&&(e.url+=(ke.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||dt.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?dt(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,ze.push(i)),a&&dt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ft.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),dt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(ft.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=et.location.href,e.head.appendChild(r)):e=et),i=Mt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=b([t],e,o),o&&o.length&&dt(o).remove(),dt.merge([],i.childNodes))},dt.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=U(t.slice(s)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&dt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?dt("<div>").append(dt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.pseudos.animated=function(t){return dt.grep(dt.timers,function(e){return t===e.elem}).length},dt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=dt.css(t,"position"),h=dt(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},dt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){dt.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=K(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===dt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+dt.css(t[0],"borderTopWidth",!0),left:r.left+dt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-dt.css(n,"marginTop",!0),left:e.left-r.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||Xt})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;dt.fn[t]=function(r){return Dt(this,function(t,r,i){var o=K(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),dt.each(["top","left"],function(t,e){dt.cssHooks[e]=j(ft.pixelPosition,function(t,n){if(n)return n=R(t,e),ae.test(n)?dt(t).position()[e]+"px":n})}),dt.each({Height:"height",Width:"width"},function(t,e){dt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){dt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Dt(this,function(e,n,i){var o;return dt.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?dt.css(e,n,s):dt.style(e,n,i,s)},e,a?i:void 0,a)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var Ue=t.jQuery,We=t.$;return dt.noConflict=function(e){return t.$===dt&&(t.$=We),e&&t.jQuery===dt&&(t.jQuery=Ue),dt},e||(t.jQuery=t.$=dt),dt}),function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(t){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],u(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],u(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},s=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=a(e,i,r))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,f=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=f(t,e,a[s],r[a[s]],o)}else if(r&&h.test(r))for(a=r.split(h);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};c.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,r,i){if(t._events=f(d,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var o=t._listeners||(t._listeners={});o[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:t,objId:i,id:s,listeningTo:o,count:0}}return p(t,e,r,this,a),this};var d=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t};c.off=function(t,e,n){return this._events?(this._events=f(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this)}return this};var g=function(t,e,r,i){if(t){var o,a=0,s=i.context,u=i.listeners;if(e||r||s){for(var l=e?[e]:n.keys(t);a<l.length;a++){e=l[a];var c=t[e];if(!c)break;for(var h=[],f=0;f<c.length;f++){var p=c[f];r&&r!==p.callback&&r!==p.callback._callback||s&&s!==p.context?h.push(p):(o=p.listening,o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var d=n.keys(u);a<d.length;a++)o=u[d[a]],delete u[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,r){var i=f(v,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=f(v,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var v=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return f(m,this._events,t,void 0,n),this};var m=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&y(i,r),o&&y(o,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(l[f],e)||s.push(f),n.isEqual(h[f],e)?delete c[f]:c[f]=e,o?delete l[f]:l[f]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,l[s[p]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return!!e.set(i,t)&&(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},F(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(t){a.attributes=u;var e=r.parse?a.parse(t,r):t;return o&&(e=n.extend({},i,e)),!(e&&!a.set(e,r))&&(s&&s.call(r.context,a,t,r),void a.trigger("sync",a,t,r))},F(this,r),i&&o&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||P();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(b,w,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},M={add:!0,remove:!1},C=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(x.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,M))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},_,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],u=[],l=[],c=[],h={},f=e.add,p=e.merge,d=e.remove,g=!1,v=this.comparator&&null==i&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(p&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),l.push(y),v&&!g&&(g=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,s.push(y)),t[a]=y}else f&&(o=t[a]=this._prepareModel(o,e),o&&(u.push(o),this._addReference(o,e),h[o.cid]=!0,s.push(o)))}if(d){for(a=0;a<this.length;a++)o=this.models[a],h[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var w=!1,x=!v&&f&&d;if(s.length&&x?(w=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,C(this.models,s,0),this.length=this.models.length):u.length&&(v&&(g=!0),C(this.models,u,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(a=0;a<u.length;a++)null!=i&&(e.index=i+a),o=u[a],o.trigger("add",o,this,e);(g||w)&&this.trigger("sort",this,e),(u.length||c.length||l.length)&&(e.changes={added:u,removed:c,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var k={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};s(x,k,"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,S)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(T);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=A[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||P()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var N=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,D=/\*\w+/g,q=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(N.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(q,"\\$&").replace(R,"(?:$1)?").replace(j,function(t,e){return e?t:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var V=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,$=/#.*$/;V.started=!1,n.extend(V.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(V.started)throw new Error("Backbone.history has already been started");if(V.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),V.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!V.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace($,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new V;var I=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=x.extend=N.extend=E.extend=V.extend=I;var P=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define("backbone.radio",["underscore","backbone"],e):(t.Backbone=t.Backbone||{},t.Backbone.Radio=e(t._,t.Backbone))}(this,function(t,e){"use strict";function n(t,e,n,r){var i=t[e];if(!(n&&n!==i.callback&&n!==i.callback._callback||r&&r!==i.context))return delete t[e],!0}function r(e,r,i,o){e||(e={});for(var a=r?[r]:t.keys(e),s=!1,u=0,l=a.length;u<l;u++)r=a[u],e[r]&&n(e,r,i,o)&&(s=!0);return s}function i(e){return c[e]||(c[e]=t.bind(u.log,u,e))}function o(e){return t.isFunction(e)?e:function(){return e}}t="default"in t?t.default:t,e="default"in e?e.default:e;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=e.Radio,u=e.Radio={};u.VERSION="2.0.0",u.noConflict=function(){return e.Radio=s,this},u.DEBUG=!1,u._debugText=function(t,e,n){return t+(n?" on the "+n+" channel":"")+': "'+e+'"'},u.debugLog=function(t,e,n){u.DEBUG&&console&&console.warn&&console.warn(u._debugText(t,e,n))};var l=/\s+/;u._eventsApi=function(e,n,r,i){if(!r)return!1;var o={};if("object"===("undefined"==typeof r?"undefined":a(r))){for(var s in r){var u=e[n].apply(e,[s,r[s]].concat(i));l.test(s)?t.extend(o,u):o[s]=u}return o}if(l.test(r)){for(var c=r.split(l),h=0,f=c.length;h<f;h++)o[c[h]]=e[n].apply(e,[c[h]].concat(i));return o}return!1},u._callHandler=function(t,e,n){var r=n[0],i=n[1],o=n[2];switch(n.length){case 0:return t.call(e);case 1:return t.call(e,r);case 2:return t.call(e,r,i);case 3:return t.call(e,r,i,o);default:return t.apply(e,n)}};var c={};t.extend(u,{log:function(e,n){if("undefined"!=typeof console){var r=t.toArray(arguments).slice(2);console.log("["+e+'] "'+n+'"',r)}},tuneIn:function(t){var e=u.channel(t);return e._tunedIn=!0,e.on("all",i(t)),this},tuneOut:function(t){var e=u.channel(t);return e._tunedIn=!1,e.off("all",i(t)),delete c[t],this}}),u.Requests={
request:function(e){var n=t.toArray(arguments).slice(1),r=u._eventsApi(this,"request",e,n);if(r)return r;var i=this.channelName,o=this._requests;if(i&&this._tunedIn&&u.log.apply(this,[i,e].concat(n)),o&&(o[e]||o.default)){var a=o[e]||o.default;return n=o[e]?n:arguments,u._callHandler(a.callback,a.context,n)}u.debugLog("An unhandled request was fired",e,i)},reply:function(t,e,n){return u._eventsApi(this,"reply",t,[e,n])?this:(this._requests||(this._requests={}),this._requests[t]&&u.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:o(e),context:n||this},this)},replyOnce:function(e,n,r){if(u._eventsApi(this,"replyOnce",e,[n,r]))return this;var i=this,a=t.once(function(){return i.stopReplying(e),o(n).apply(this,arguments)});return this.reply(e,a,r)},stopReplying:function(t,e,n){return u._eventsApi(this,"stopReplying",t)?this:(t||e||n?r(this._requests,t,e,n)||u.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,this)}},u._channels={},u.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return u._channels[t]?u._channels[t]:u._channels[t]=new u.Channel(t)},u.Channel=function(t){this.channelName=t},t.extend(u.Channel.prototype,e.Events,u.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var h,f,p=[e.Events,u.Requests];return t.each(p,function(e){t.each(e,function(e,n){u[n]=function(e){return f=t.toArray(arguments).slice(1),h=this.channel(e),h[n].apply(h,f)}})}),u.reset=function(e){var n=e?[this._channels[e]]:this._channels;t.each(n,function(t){t.reset()})},u}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("backbone"),require("underscore"),require("backbone.radio")):"function"==typeof define&&define.amd?define("marionette",["backbone","underscore","backbone.radio"],e):t.Marionette=t.Mn=e(t.Backbone,t._,t.Backbone.Radio)}(this,function(t,e,n){"use strict";function r(t,e,n){return n.toUpperCase()}function i(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=W(t),a=z.call(this,o),s=void 0;return e.isFunction(a)&&(s=a.apply(this,r)),this.trigger.apply(this,arguments),s}function o(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e.isFunction(t.triggerMethod)?t.triggerMethod.apply(t,r):i.apply(t,r)}function a(t,n,r){t._getImmediateChildren&&e.each(t._getImmediateChildren(),function(t){r(t)&&o(t,n,t)})}function s(t){return!t._isAttached}function u(t){return!!s(t)&&(t._isAttached=!0,!0)}function l(t){return t._isAttached}function c(t){return!!l(t)&&(t._isAttached=!1,!0)}function h(t){t._isAttached&&t._isRendered&&o(t,"dom:refresh",t)}function f(){a(this,"before:attach",s)}function p(){a(this,"attach",u),h(this)}function d(){a(this,"before:detach",l)}function g(){a(this,"detach",c)}function v(){h(this)}function m(t){t._areViewEventsMonitored||(t._areViewEventsMonitored=!0,t.on({"before:attach":f,attach:p,"before:detach":d,detach:g,render:v}))}function y(t,n,r,i,o){var a=i.split(/\s+/);e.each(a,function(e){var i=t[e];if(!i)throw new Y('Method "'+e+'" was configured as an event handler, but does not exist.');t[o](n,r,i)})}function b(t,n,r,i){if(n&&r){if(!e.isObject(r))throw new Y({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});e.each(r,function(r,o){return e.isString(r)?void y(t,n,o,r,i):void t[i](n,o,r)})}}function w(t,e){return b(this,t,e,"listenTo"),this}function x(t,e){return b(this,t,e,"stopListening"),this}function _(t,n,r,i){if(n&&r){if(!e.isObject(r))throw new Y({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var o=B.call(t,r);n[i](o,t)}}function M(t,e){return _(this,t,e,"reply"),this}function C(t,e){return _(this,t,e,"stopReplying"),this}function k(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function E(t,n){return t.behaviorClass?t.behaviorClass:e.isFunction(t)?t:e.isFunction(qt.Behaviors.behaviorsLookup)?qt.Behaviors.behaviorsLookup(t,n)[n]:qt.Behaviors.behaviorsLookup[n]}function T(t,n){return e.chain(n).map(function(n,r){var i=E(n,r),o=n===i?{}:n,a=new i(o,t),s=T(t,e.result(a,"behaviors"));return[a].concat(s)}).flatten().value()}function S(t,n){return[t+e.uniqueId(".evt"),n].join(" ")}function A(t,n){e.isString(n)&&(n={event:n});var r=n.event,i=n.preventDefault!==!1,o=n.stopPropagation!==!1;return function(e){i&&e.preventDefault(),o&&e.stopPropagation(),t.triggerMethod(r,t)}}function N(t){t.supportsDestroyLifecycle||o(t,"before:destroy",t);var e=!!t._isAttached;e&&o(t,"before:detach",t),t.remove(),e&&(t._isAttached=!1,o(t,"detach",t)),t._isDestroyed=!0,t.supportsDestroyLifecycle||o(t,"destroy",t)}function R(t,e){return t instanceof pt?t:j(t,e)}function j(t,n){var r=e.extend({},n);if(e.isString(t))return e.extend(r,{el:t}),D(r);if(e.isFunction(t))return e.extend(r,{regionClass:t}),D(r);if(e.isObject(t))return t.selector&&P("The selector option on a Region definition object is deprecated. Use el to pass a selector string"),e.extend(r,{el:t.selector},t),D(r);throw new Y({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})}function D(t){var n=t.regionClass,r=e.omit(t,"regionClass");return new n(r)}function q(){throw new Y({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}function V(t){return!!jt[t]}function L(t,e){return jt[t]=e}t="default"in t?t.default:t,e="default"in e?e.default:e,n="default"in n?n.default:n;var O="3.1.0",$=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(e,r)}},I=t.Model.extend,P=function t(n,r){e.isObject(n)&&(n=n.prev+" is going to be removed in the future. Please use "+n.next+" instead."+(n.url?" See: "+n.url:"")),qt.DEV_MODE&&(void 0!==r&&r||t._cache[n]||(t._warn("Deprecation warning: "+n),t._cache[n]=!0))};P._console="undefined"!=typeof console?console:{},P._warn=function(){var t=P._console.warn||P._console.log||e.noop;return t.apply(P._console,arguments)},P._cache={};var F=function(e){return t.$.contains(document.documentElement,e)},H=function(t,n){var r=this;t&&e.each(n,function(e){var n=t[e];void 0!==n&&(r[e]=n)})},z=function(t){if(t)return this.options&&void 0!==this.options[t]?this.options[t]:this[t]},B=function(t){var n=this;return e.reduce(t,function(t,r,i){return e.isFunction(r)||(r=n[r]),r&&(t[i]=r),t},{})},U=/(^|:)(\w)/gi,W=e.memoize(function(t){return"on"+t.replace(U,r)}),G=["description","fileName","lineNumber","name","message","number"],Y=I.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+O+"/",constructor:function(t,n){e.isObject(t)?(n=t,t=n.message):n||(n={});var r=Error.call(this,t);e.extend(this,e.pick(r,G),e.pick(n,G)),this.captureStackTrace(),n.url&&(this.url=this.urlRoot+n.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,Y)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});Y.extend=I;var J=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.options=e.extend.apply(e,[{},e.result(this,"options")].concat(n))},X={normalizeMethods:B,_setOptions:J,mergeOptions:H,getOption:z,bindEvents:w,unbindEvents:x},Q={_initRadio:function(){var t=e.result(this,"channelName");if(t){if(!n)throw new Y({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var r=this._channel=n.channel(t),i=e.result(this,"radioEvents");this.bindEvents(r,i);var o=e.result(this,"radioRequests");this.bindRequests(r,o),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:w,unbindEvents:x,bindRequests:M,unbindRequests:C},Z=["channelName","radioEvents","radioRequests"],K=function(t){this._setOptions(t),this.mergeOptions(t,Z),this.cid=e.uniqueId(this.cidPrefix),this._initRadio(),this.initialize.apply(this,arguments)};K.extend=I,e.extend(K.prototype,t.Events,X,Q,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},destroy:function(){if(this._isDestroyed)return this;for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.triggerMethod.apply(this,["before:destroy",this].concat(e)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(e)),this.stopListening(),this},triggerMethod:i});var tt=function(t){this.templateId=t};e.extend(tt,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new tt(t),this.templateCaches[t]=n),n.load(e)},clear:function(){for(var t=void 0,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.length;if(i>0)for(t=0;t<i;t++)delete this.templateCaches[n[t]];else this.templateCaches={}}}),e.extend(tt.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(e,n){var r=t.$(e);if(!r.length)throw new Y({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return r.html()},compileTemplate:function(t,n){return e.template(t,n)}});var et=e.invokeMap||e.invoke,nt={_initBehaviors:function(){var t=e.result(this,"behaviors");this._behaviors=e.isObject(t)?T(this,t):{}},_getBehaviorTriggers:function(){var t=et(this._behaviors,"getTriggers");return e.extend.apply(e,[{}].concat(k(t)))},_getBehaviorEvents:function(){var t=et(this._behaviors,"getEvents");return e.extend.apply(e,[{}].concat(k(t)))},_proxyBehaviorViewProperties:function(){et(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){et(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){et(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(t){et.apply(void 0,[this._behaviors,"destroy"].concat(k(t)))},_bindBehaviorUIElements:function(){et(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){et(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var t=this._behaviors,e=0,n=t&&t.length;e<n;e++)i.apply(t[e],arguments)}},rt={_delegateEntityEvents:function(t,n){this._undelegateEntityEvents(t,n);var r=e.result(this,"modelEvents");w.call(this,t,r);var i=e.result(this,"collectionEvents");w.call(this,n,i)},_undelegateEntityEvents:function(t,n){var r=e.result(this,"modelEvents");x.call(this,t,r);var i=e.result(this,"collectionEvents");x.call(this,n,i)}},it=/^(\S+)\s*(.*)$/,ot=function(t){var e=t.match(it);return S(e[1],e[2])},at={_getViewTriggers:function(t,n){return e.reduce(n,function(e,n,r){return r=ot(r),e[r]=A(t,n),e},{})}},st=function(t,n){return e.reduce(t,function(t,e,r){var i=ut(r,n);return t[i]=e,t},{})},ut=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(t){return e[t.slice(4)]})},lt=function t(n,r,i){return e.each(n,function(o,a){e.isString(o)?n[a]=ut(o,r):e.isObject(o)&&e.isArray(i)&&(e.extend(o,t(e.pick(o,i),r)),e.each(i,function(t){var n=o[t];e.isString(n)&&(o[t]=ut(n,r))}))}),n},ct={normalizeUIKeys:function(t){var e=this._getUIBindings();return st(t,e)},normalizeUIString:function(t){var e=this._getUIBindings();return ut(t,e)},normalizeUIValues:function(t,e){var n=this._getUIBindings();return lt(t,n,e)},_getUIBindings:function(){var t=e.result(this,"_uiBindings"),n=e.result(this,"ui");return t||n},_bindUIElements:function(){var t=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var n=e.result(this,"_uiBindings");this._ui={},e.each(n,function(e,n){t._ui[n]=t.$(e)}),this.ui=this._ui}},_unbindUIElements:function(){var t=this;this.ui&&this._uiBindings&&(e.each(this.ui,function(e,n){delete t.ui[n]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(t){return this._ui[t]}},ht={supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(n){this._proxyBehaviorViewProperties(),this._buildEventProxies();var r=this._getEvents(n);"undefined"==typeof n&&(this.events=r);var i=e.extend({},this._getBehaviorEvents(),r,this._getBehaviorTriggers(),this.getTriggers());return t.View.prototype.delegateEvents.call(this,i),this},_getEvents:function(t){var n=t||this.events;return e.isFunction(n)?this.normalizeUIKeys(n.call(this)):this.normalizeUIKeys(n)},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this,t)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},_ensureViewIsIntact:function(){if(this._isDestroyed)throw new Y({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this._isDestroyed)return this;for(var t=!!this._isAttached,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.triggerMethod.apply(this,["before:destroy",this].concat(n)),t&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),t&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._destroyBehaviors(n),this._isDestroyed=!0,this._isRendered=!1,this.triggerMethod.apply(this,["destroy",this].concat(n)),this.stopListening(),this},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(t){return this._ensureViewIsIntact(),this._getUI(t)},childViewEventPrefix:"childview",triggerMethod:function(){var t=i.apply(this,arguments);return this._triggerEventOnBehaviors.apply(this,arguments),this._triggerEventOnParentLayout.apply(this,arguments),t},_buildEventProxies:function(){this._childViewEvents=e.result(this,"childViewEvents"),this._childViewTriggers=e.result(this,"childViewTriggers")},_triggerEventOnParentLayout:function(){var t=this._parentView();t&&t._childViewEventHandler.apply(t,arguments)},_parentView:function(){for(var t=this._parent;t;){if(t instanceof mt)return t;t=t._parent}},_childViewEventHandler:function(t){for(var n=this.normalizeMethods(this._childViewEvents),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];"undefined"!=typeof n&&e.isFunction(n[t])&&n[t].apply(this,i);var a=this._childViewTriggers;a&&e.isString(a[t])&&this.triggerMethod.apply(this,[a[t]].concat(i));var s=e.result(this,"childViewEventPrefix");if(s!==!1){var u=s+":"+t;this.triggerMethod.apply(this,[u].concat(i))}}};e.extend(ht,nt,X,rt,at,ct);var ft=["allowMissingEl","parentEl","replaceElement"],pt=K.extend({cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,constructor:function(e){if(this._setOptions(e),this.mergeOptions(e,ft),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new Y({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),K.call(this,e)},show:function(t,e){if(this._ensureElement(e))return this._ensureView(t),t===this.currentView?this:(this.triggerMethod("before:show",this,t,e),m(t),this.empty(e),t.on("destroy",this._empty,this),t._parent=this,this._renderView(t),this._attachView(t,e),this.triggerMethod("show",this,t,e),this)},_renderView:function(t){t._isRendered||(t.supportsRenderLifecycle||o(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,o(t,"render",t)))},_attachView:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!t._isAttached&&F(this.el),i="undefined"==typeof n.replaceElement?!!e.result(this,"replaceElement"):!!n.replaceElement;r&&o(t,"before:attach",t),i?this._replaceEl(t):this.attachHtml(t),r&&(t._isAttached=!0,o(t,"attach",t)),this.currentView=t},_ensureElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){var n="undefined"==typeof t.allowMissingEl?!!e.result(this,"allowMissingEl"):!!t.allowMissingEl;if(n)return!1;throw new Y('An "el" must exist in DOM for this region '+this.cid)}return!0},_ensureView:function(t){if(!t)throw new Y({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t._isDestroyed)throw new Y({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(n){return t.$(n,e.result(this,"parentEl"))},_replaceEl:function(t){this._restoreEl();var e=this.el.parentNode;e.replaceChild(t.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var t=this.currentView;if(t){var e=t.el.parentNode;e&&(e.replaceChild(this.el,t.el),this._isReplaced=!1)}}},isReplaced:function(){return!!this._isReplaced},attachHtml:function(t){this.el.appendChild(t.el)},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},e=this.currentView;if(!e)return this._ensureElement(t)&&this.detachHtml(),this;var n=!t.preventDestroy;return n||P("The preventDestroy option is deprecated. Use Region#detachView"),this._empty(e,n),this},_empty:function(t,e){t.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,t),this._restoreEl(),delete this.currentView,t._isDestroyed||(this._removeView(t,e),delete t._parent),this.triggerMethod("empty",this,t)},_removeView:function(t,e){return e?void(t.destroy?t.destroy():N(t)):void this._detachView(t)},detachView:function(){var t=this.currentView;if(t)return this._empty(t),t},_detachView:function(t){var e=!!t._isAttached;e&&o(t,"before:detach",t),this.detachHtml(),e&&(t._isAttached=!1,o(t,"detach",t))},detachHtml:function(){this.$el.contents().detach()},hasView:function(){return!!this.currentView},reset:function(t){return this.empty(t),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(t){return this.reset(t),K.prototype.destroy.apply(this,arguments)}}),dt={regionClass:pt,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(e.result(this,"regions"))},_reInitRegions:function(){et(this._regions,"reset")},addRegion:function(t,e){var n={};return n[t]=e,this.addRegions(n)[t]},addRegions:function(t){if(!e.isEmpty(t))return t=this.normalizeUIValues(t,["selector","el"]),this.regions=e.extend({},this.regions,t),this._addRegions(t)},_addRegions:function(t){var n=this,r={regionClass:this.regionClass,parentEl:e.partial(e.result,this,"el")};return e.reduce(t,function(t,e,i){return t[i]=R(e,r),n._addRegion(t[i],i),t},{})},_addRegion:function(t,e){this.triggerMethod("before:add:region",this,e,t),t._parent=this,this._regions[e]=t,this.triggerMethod("add:region",this,e,t)},removeRegion:function(t){var e=this._regions[t];return this._removeRegion(e,t),e},removeRegions:function(){var t=this.getRegions();return e.each(this._regions,e.bind(this._removeRegion,this)),t},_removeRegion:function(t,e){this.triggerMethod("before:remove:region",this,e,t),t.destroy(),delete this.regions[e],delete this._regions[e],this.triggerMethod("remove:region",this,e,t)},emptyRegions:function(){var t=this.getRegions();return et(t,"empty"),t},hasRegion:function(t){return!!this.getRegion(t)},getRegion:function(t){return this._regions[t]},getRegions:function(){return e.clone(this._regions)},showChildView:function(t,e){for(var n=this.getRegion(t),r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return n.show.apply(n,[e].concat(i))},detachChildView:function(t){return this.getRegion(t).detachView()},getChildView:function(t){return this.getRegion(t).currentView}},gt={render:function(t,n){if(!t)throw new Y({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var r=e.isFunction(t)?t:tt.get(t);return r(n)}},vt=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],mt=t.View.extend({constructor:function(n){this.render=e.bind(this.render,this),this._setOptions(n),this.mergeOptions(n,vt),m(this),this._initBehaviors(),this._initRegions();var r=Array.prototype.slice.call(arguments);r[0]=this.options,t.View.prototype.constructor.apply(this,r),this.delegateEntityEvents()},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?e.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(t){return e.clone(t.attributes)}):{}},setElement:function(){var e=!!this.el;return t.View.prototype.setElement.apply(this,arguments),e&&(this._isRendered=!!this.$el.length,this._isAttached=F(this.el)),this._isRendered&&this.bindUIElements(),this},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){var e=this.mixinTemplateContext(this.serializeData()),n=gt.render(t,e,this);this.attachElContent(n)}},getTemplate:function(){return this.template},mixinTemplateContext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.result(this,"templateContext");return e.extend(t,n)},attachElContent:function(t){return this.$el.html(t),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return e.chain(this.getRegions()).map("currentView").compact().value()}});e.extend(mt.prototype,ht,dt);var yt=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"],bt=function(t,n){e.each(yt,function(r){t[r]=function(){var t=e.values(e.result(this,n)),i=[t].concat(e.toArray(arguments));return e[r].apply(e,i)}})},wt=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,e.bind(this.add,this))};bt(wt.prototype,"_views"),e.extend(wt.prototype,{add:function(t,e){return this._add(t,e)._updateLength()},_add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){return this._remove(t)._updateLength()},_remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.some(this._indexByCustom,e.bind(function(t,e){if(t===n)return delete this._indexByCustom[e],!0},this)),delete this._views[n],this},_updateLength:function(){return this.length=e.size(this._views),this}});var xt=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],_t=t.View.extend({sort:!0,constructor:function(n){this.render=e.bind(this.render,this),this._setOptions(n),this.mergeOptions(n,xt),m(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var r=Array.prototype.slice.call(arguments);r[0]=this.options,t.View.prototype.constructor.apply(this,r),this.delegateEntityEvents()},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var t=!!this._isAttached,n=t?this._getImmediateChildren():[];this._isBuffering=!1,e.each(n,function(t){o(t,"before:attach",t)}),this.attachBuffer(this,this._createBuffer()),e.each(n,function(t){t._isAttached=!0,o(t,"attach",t)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return e.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,n,r){var i=void 0!==r.at&&(r.index||n.indexOf(t));(this.filter||i===!1)&&(i=e.indexOf(this._filteredSortedModels(i),t)),this._shouldAddChild(t,i)&&(this._destroyEmptyView(),this._addChild(t,i))},_onCollectionUpdate:function(t,e){var n=e.changes;this._removeChildModels(n.removed)},_removeChildModels:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.checkEmpty,r=n!==!1,i=this._getRemovedViews(t);i.length&&(this.children._updateLength(),this._updateIndices(i,!1),r&&this._checkEmpty())},_getRemovedViews:function(t){var n=this;return e.reduce(t,function(t,e){var r=n.children.findByModel(e);return!r||r._isDestroyed?t:(n._removeChildView(r),t.push(r),t)},[])},_findGreatestIndexedView:function(t){return e.reduce(t,function(t,e){return!t||t._index<e._index?e:t},void 0)},_removeChildView:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),t.destroy?t.destroy():N(t),delete t._parent,this.stopListening(t),this.triggerMethod("remove:child",this,t)},setElement:function(){var e=!!this.el;return t.View.prototype.setElement.apply(this,arguments),e&&(this._isAttached=F(this.el)),this},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this},setFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preventRender,r=this._isRendered&&!this._isDestroyed,i=this.filter!==t,o=r&&i&&!n;if(o){var a=this._filteredSortedModels();this.filter=t;var s=this._filteredSortedModels();this._applyModelDeltas(s,a)}else this.filter=t;return this},removeFilter:function(t){return this.setFilter(null,t)},_applyModelDeltas:function(t,n){var r=this,i={};e.each(t,function(t,e){var n=!r.children.findByModel(t);n&&r._onCollectionAdd(t,r.collection,{at:e}),i[t.cid]=!0});var o=e.filter(n,function(t){return!i[t.cid]&&r.children.findByModel(t)});this._removeChildModels(o)},reorder:function(){var t=this,n=this.children,r=this._filteredSortedModels();if(!r.length&&this._showingEmptyView)return this;var i=e.some(r,function(t){return!n.findByModel(t)});return i?this.render():!function(){var i=[],o=n.reduce(function(t,n){var o=e.indexOf(r,n.model);return o===-1?(i.push(n.model),t):(n._index=o,t[o]=n.el,t)},new Array(r.length));t.triggerMethod("before:reorder",t),t._appendReorderedChildren(o),t._removeChildModels(i),t.triggerMethod("reorder",t)}(),this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var t=this,n=this._filteredSortedModels(),r=e.find(n,function(e,n){var r=t.children.findByModel(e);return!r||r._index!==n});r&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren({checkEmpty:!1}));var t=this._filteredSortedModels();this.isEmpty({processedModels:t})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(t),this._endBuffering(),this.triggerMethod("render:children",this))},_createView:function(t,e){var n=this._getChildView(t),r=this._getChildViewOptions(t,e),i=this.buildChildView(t,n,r);return i},_setupChildView:function(t,e){t._parent=this,m(t),this._proxyChildEvents(t),this.sort&&(t._index=e)},_showCollection:function(t){e.each(t,e.bind(this._addChild,this)),this.children._updateLength()},_filteredSortedModels:function(t){if(!this.collection||!this.collection.length)return[];var e=this.getViewComparator(),n=this.collection.models;if(t=Math.min(Math.max(t,0),n.length-1),e){var r=void 0;t&&(r=n[t],n=n.slice(0,t).concat(n.slice(t+1))),n=this._sortModelsBy(n,e),r&&n.splice(t,0,r)}return n=this._filterModels(n)},getViewComparator:function(){return this.viewComparator},_filterModels:function(t){var n=this;return this.filter&&(t=e.filter(t,function(t,e){return n._shouldAddChild(t,e)})),t},_sortModelsBy:function(t,n){return"string"==typeof n?e.sortBy(t,function(t){return t.get(n)}):1===n.length?e.sortBy(t,e.bind(n,this)):t.sort(e.bind(n,this))},_showEmptyView:function(){var n=this._getEmptyView();if(n&&!this._showingEmptyView){this._showingEmptyView=!0;var r=new t.Model,i=this.emptyViewOptions||this.childViewOptions;e.isFunction(i)&&(i=i.call(this,r,this._emptyViewIndex));var o=this.buildChildView(r,n,i);this.triggerMethod("before:render:empty",this,o),this.addChildView(o,0),this.triggerMethod("render:empty",this,o)}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_getChildView:function(t){var e=this.childView;if(!e)throw new Y({name:"NoChildViewError",message:'A "childView" must be specified'});if(e=this._getView(e,t),!e)throw new Y({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},_getView:function(n,r){return n.prototype instanceof t.View||n===t.View?n:e.isFunction(n)?n.call(this,r):void 0},_addChild:function(t,e){var n=this._createView(t,e);return this.addChildView(n,e),n},_getChildViewOptions:function(t,n){return e.isFunction(this.childViewOptions)?this.childViewOptions(t,n):this.childViewOptions},addChildView:function(t,e){return this.triggerMethod("before:add:child",this,t),this._setupChildView(t,e),this._isBuffering?this.children._add(t):(this._updateIndices(t,!0),this.children.add(t)),this._renderView(t),this._attachView(t,e),this.triggerMethod("add:child",this,t),t},_updateIndices:function(t,n){if(this.sort){var r=e.isArray(t)?this._findGreatestIndexedView(t):t;this.children.each(function(t){t._index>=r._index&&(t._index+=n?1:-1)})}},_renderView:function(t){t._isRendered||(t.supportsRenderLifecycle||o(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,o(t,"render",t)))},_attachView:function(t,e){var n=!t._isAttached&&!this._isBuffering&&this._isAttached;n&&o(t,"before:attach",t),this.attachHtml(this,t,e),n&&(t._isAttached=!0,o(t,"attach",t))},buildChildView:function(t,n,r){var i=e.extend({model:t},r);return new n(i)},removeChildView:function(t){return!t||t._isDestroyed?t:(this._removeChildView(t),this.children._updateLength(),this._updateIndices(t,!1),t)},isEmpty:function(t){var n=void 0;return e.result(t,"processedModels")?n=t.processedModels:(n=this.collection?this.collection.models:[],n=this._filterModels(n)),0===n.length},_checkEmpty:function(){this.isEmpty()&&this._showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return e.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,n){t._isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){
var n=void 0,r=this.sort&&e<this.children.length-1;return r&&(n=this.children.find(function(t){return t._index===e+1})),!!n&&(n.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new wt},_removeChildren:function(){this._destroyChildren({checkEmpty:!1})},_destroyChildren:function(t){if(this.children.length){this.triggerMethod("before:destroy:children",this);var e=this.children.map("model");this._removeChildModels(e,t),this.triggerMethod("destroy:children",this)}},_shouldAddChild:function(t,n){var r=this.filter;return!e.isFunction(r)||r.call(this,t,n,this.collection)},_proxyChildEvents:function(t){this.listenTo(t,"all",this._childViewEventHandler)}});e.extend(_t.prototype,ht);var Mt=["childViewContainer","template","templateContext"],Ct=_t.extend({constructor:function(t){P("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(t,Mt),_t.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(t){var e=this.childView;if(!e)return this.constructor;if(e=this._getView(e,t),!e)throw new Y({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},serializeData:function(){return this.serializeModel()},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this},renderChildren:function(){(this._isRendered||this._isRendering)&&_t.prototype._renderChildren.call(this)},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t,n){if(t.$childViewContainer)return t.$childViewContainer;var r=void 0,i=t.childViewContainer;if(i){var o=e.result(t,"childViewContainer");if(r="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:t.$(o),r.length<=0)throw new Y({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else r=t.$el;return t.$childViewContainer=r,r},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),kt=e.pick(mt.prototype,"serializeModel","getTemplate","_renderTemplate","mixinTemplateContext","attachElContent");e.extend(Ct.prototype,kt);var Et=["collectionEvents","events","modelEvents","triggers","ui"],Tt=K.extend({cidPrefix:"mnb",constructor:function(t,n){this.view=n,this.defaults=e.clone(e.result(this,"defaults",{})),this._setOptions(this.defaults,t),this.mergeOptions(this.options,Et),this.ui=e.extend({},e.result(this,"ui"),e.result(n,"ui")),K.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(t){return this.view._ensureViewIsIntact(),this._getUI(t)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var t=this,n=this.normalizeUIKeys(e.result(this,"events"));return e.reduce(n,function(n,r,i){if(e.isFunction(r)||(r=t[r]),r)return i=ot(i),n[i]=e.bind(r,t),n},{})},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this.view,t)}}});e.extend(Tt.prototype,rt,at,ct);var St=["region","regionClass"],At=K.extend({cidPrefix:"mna",constructor:function(t){this._setOptions(t),this.mergeOptions(t,St),this._initRegion(),K.prototype.constructor.apply(this,arguments)},regionClass:pt,_initRegion:function(){var t=this.region;if(t){var e={regionClass:this.regionClass};this._region=R(t,e)}},getRegion:function(){return this._region},showView:function(t){for(var e=this.getRegion(),n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.show.apply(e,[t].concat(r))},getView:function(){return this.getRegion().currentView},start:function(t){return this.triggerMethod("before:start",this,t),this.triggerMethod("start",this,t),this}}),Nt=["appRoutes","controller"],Rt=t.Router.extend({constructor:function(e){this._setOptions(e),this.mergeOptions(e,Nt),t.Router.apply(this,arguments);var n=this.appRoutes,r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();return this._addAppRoute(n,t,e),this},_processOnRoute:function(t,n){if(e.isFunction(this.onRoute)){var r=e.invert(this.appRoutes)[t];this.onRoute(t,r,n)}},processAppRoutes:function(t,n){var r=this;if(!n)return this;var i=e.keys(n).reverse();return e.each(i,function(e){r._addAppRoute(t,e,n[e])}),this},_getController:function(){return this.controller},_addAppRoute:function(t,n,r){var i=t[r];if(!i)throw new Y('Method "'+r+'" was not found on the controller');this.route(n,r,e.bind(i,t))},triggerMethod:i});e.extend(Rt.prototype,X);var jt={},Dt=t.Marionette,qt=t.Marionette={};return qt.noConflict=function(){return t.Marionette=Dt,this},qt.bindEvents=$(w),qt.unbindEvents=$(x),qt.bindRequests=$(M),qt.unbindRequests=$(C),qt.mergeOptions=$(H),qt.getOption=$(z),qt.normalizeMethods=$(B),qt.extend=I,qt.isNodeAttached=F,qt.deprecate=P,qt.triggerMethod=$(i),qt.triggerMethodOn=o,qt.isEnabled=V,qt.setEnabled=L,qt.monitorViewEvents=m,qt.Behaviors={},qt.Behaviors.behaviorsLookup=q,qt.Application=At,qt.AppRouter=Rt,qt.Renderer=gt,qt.TemplateCache=tt,qt.View=mt,qt.CollectionView=_t,qt.CompositeView=Ct,qt.Behavior=Tt,qt.Region=pt,qt.Error=Y,qt.Object=K,qt.DEV_MODE=!1,qt.FEATURES=jt,qt.VERSION=O,qt}),function(){define("config/marionette/templatecache",["marionette"],function(t){return t.TemplateCache.prototype.loadTemplate=function(t){var e,n,r;if(r=t,!r||0===r.length)throw n="Could not find template: '"+t+"'",e=new Error(n),e.name="NoTemplateError",e;return r}})}.call(this),function(){define("msgbus",["backbone","backbone.radio"],function(t){return{appChannel:new t.Radio.channel("app"),dataChannel:new t.Radio.channel("data")}})}.call(this),function(){define("config/backbone/sync",["backbone","msgbus"],function(t,e){var n,r,i;return r=e.appChannel,n=t.sync,t.sync=function(t,e,r){var o;return null==r&&(r={}),_.defaults(r,{beforeSend:_.bind(i.beforeSend,e),complete:_.bind(i.complete,e)}),o=n(t,e,r),e._fetch||"read"!==t||(e._fetch=o),o},i={beforeSend:function(){return this.trigger("sync:start",this)},complete:function(){return this.trigger("sync:stop",this)}},r.on("when:fetched",function(t,e){var n;return n=_.chain([t]).flatten().pluck("_fetch").value(),$.when.apply($,n).done(function(){return e()})})})}.call(this),function(t,e){"function"==typeof define&&define.amd?define("nprogress",e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,r){var i;return i="translate3d"===l.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===l.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},i.transition="all "+n+"ms "+r,i}function r(t,e){var n="string"==typeof t?t:a(t);return n.indexOf(" "+e+" ")>=0}function i(t,e){var n=a(t),i=n+e;r(n,e)||(t.className=i.substring(1))}function o(t,e){var n,i=a(t);r(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function a(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var u={};u.version="0.2.0";var l=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(l[e]=n);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=t(e,l.minimum,1),u.status=1===e?null:e;var i=u.render(!r),o=i.querySelector(l.barSelector),a=l.speed,s=l.easing;return i.offsetWidth,c(function(t){""===l.positionUsing&&(l.positionUsing=u.getPositioningCSS()),h(o,n(e,a,s)),1===e?(h(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){h(i,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},a)},a)):setTimeout(t,a)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var t=function(){setTimeout(function(){u.status&&(u.trickle(),t())},l.trickleSpeed)};return l.trickle&&t(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var n=u.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*l.trickleRate)},function(){var t=0,e=0;u.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&u.start(),t++,e++,n.always(function(){e--,0===e?(t=0,u.done()):u.set((t-e)/t)}),this):this}}(),u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=l.template;var r,o=n.querySelector(l.barSelector),a=t?"-100":e(u.status||0),c=document.querySelector(l.parent);return h(o,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),l.showSpinner||(r=n.querySelector(l.spinnerSelector),r&&s(r)),c!=document.body&&i(c,"nprogress-custom-parent"),c.appendChild(n),n},u.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(l.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&s(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var c=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),h=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,r=i.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if(n=i[r]+o,n in e)return n;return t}function n(n){return n=t(n),o[n]||(o[n]=e(n))}function r(t,e,r){e=n(e),t.style[e]=r}var i=["Webkit","O","Moz","ms"],o={};return function(t,e){var n,i,o=arguments;if(2==o.length)for(n in e)i=e[n],void 0!==i&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,o[1],o[2])}}();return u}),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("entities/twitchtv",["backbone","msgbus","nprogress"],function(e,n,r){var i,o,a,s,u,l,c,h,f,p,d,g;return p=n.appChannel,f=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults={fetched:0,total:0},n}(e.Model),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(e.Model),l=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(e.Model),h=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.parse=function(t){return t.stream},n}(e.Model),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=l,n.prototype.parse=function(t){return t.streams},n.prototype.initialize=function(){return this.listenTo(this,"request",function(){return r.start()}),this.listenTo(this,"sync error",function(){return r.done()})},n}(e.Collection),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=o,n.prototype.parse=function(t){return t.games},n.prototype.initialize=function(){return this.listenTo(this,"request",function(){return r.start()}),this.listenTo(this,"sync error",function(){return r.done()})},n}(e.Collection),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=o,n.prototype.initialize=function(){return this.listenTo(this,"request",function(){return r.start()}),this.listenTo(this,"sync error",function(){return r.done()}),p.reply("games:fetchmore",function(t){return function(){return t.moreGames()}}(this)),this.limit=24,this.offset=0,this.loading=!1,this.previousSearch=null,this._total=null},n.prototype.moreGames=function(){var t;return!!(this.loading||this.length>=this._total)||(this.loading=!0,this.offset++,t=this.fetch({remove:!1,data:{oauth_token:p.request("get:current:token"),limit:this.limit,offset:this.offset*this.limit}}),$.when(t).then(function(t){return function(){return t.loading=!1}}(this)))},n.prototype.searchName=function(t){return this.find(function(e){return e.get("game").name===t})},n.prototype.parse=function(t){return this._total=t._total,t.top},n}(e.Collection),c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=l,n.prototype.initialize=function(){return this.listenTo(this,"request",function(){return r.start()}),this.listenTo(this,"sync error",function(){return r.done()}),p.reply("streams:fetchmore",function(t){return function(){return t.moreStreams()}}(this)),this.limit=24,this.offset=0,this.loading=!1,this.previousSearch=null,this._total=null},n.prototype.moreStreams=function(){var t;return!!(this.loading||this.length>=this._total)||(this.loading=!0,this.offset++,t=this.fetch({remove:!1,data:{oauth_token:p.request("get:current:token"),q:this.game,limit:this.limit,offset:this.offset*this.limit}}),$.when(t).then(function(t){return function(){return t.loading=!1,console.log("Loaded page",t.offset+1,"Streams fetched so far",t.length,"Total streams available to fetch ",t._total)}}(this)))},n.prototype.parse=function(t){return this._total=t._total,g.set({fetched:this.length+t.streams.length,total:this._total}),console.log(g),t.streams},n}(e.Collection),d=new a,d.timeStamp=new Date,g=new f,i={getGames:function(t,e){var n;return null==e&&(e={}),n=Math.round((new Date-d.timeStamp)/1e3%60),(n>45||0===d.length)&&(_.defaults(e,{oauth_token:p.request("get:current:token")}),d=new a,d.timeStamp=new Date,d.url="https://api.twitch.tv/kraken/"+t+"?callback=?",d.fetch({reset:!0,data:e})),d},searchGames:function(t,e){var n;return null==e&&(e={}),_.defaults(e,{oauth_token:p.request("get:current:token")}),n=new s,n.url="https://api.twitch.tv/kraken/"+t+"?callback=?",n.fetch({reset:!0,data:e}),n},getStreams:function(t,e){var n;return null==e&&(e={}),_.defaults(e,{oauth_token:p.request("get:current:token")}),n=new c,n.game=e.q,n.url="https://api.twitch.tv/kraken/"+t+"?callback=?",n.fetch({reset:!0,data:e}),n},getStream:function(t,e){var n;return null==e&&(e={}),_.defaults(e,{oauth_token:p.request("get:current:token")}),n=new h,n.url="https://api.twitch.tv/kraken/"+t+"?callback=?",n.fetch({data:e}),n}},p.reply("games:top:entities",function(){return i.getGames("games/top",{limit:24,offset:0})}),p.reply("search:games",function(t){return i.searchGames("search/games",{q:t,type:"suggest",live:!1})}),p.reply("games:searchName",function(t){return d.searchName(t)}),p.reply("search:stream:entities",function(t){return i.getStreams("search/streams",{q:t,limit:20,offset:0})}),p.reply("search:stream:model",function(t){return i.getStream("streams/"+t)}),p.reply("stream:summary:model",function(){return g})})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("entities/appstate",["backbone","msgbus"],function(e,n){var r,i,o,a;return o=n.appChannel,i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults={clientId:"x77jaxed6gmro98hgmv3poxrzf9dty",accessToken:null,authState:null,uri:"http://localhost:3000"},n}(e.Model),r={getAppState:function(){return a}},o.reply("get:current:appstate",function(){return r.getAppState()}),o.reply("get:current:token",function(){return a.get("accessToken")}),a=new i})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("entities/author",["backbone","msgbus"],function(e,n){var r,i,o;return i=n.appChannel,r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults={fullName:"Jack Killilea",twitter:"https://www.twitter.com/jack_killilea",github:"https://www.github.com/xjackk"},n}(e.Model),o=new r})}.call(this),function(){define("entities/reference",["backbone","msgbus"],function(t,e){var n,r;return r=e.appChannel,n={getReferences:function(){return new t.Collection([{type:"book",title:"Little Book on Coffeescript",author:"Alex MacCaw",url:"books.google.com/books?isbn=1449325548"},{type:"book",title:"Javascript The Good Parts",author:"Douglas Crockford",url:"books.google.com/books?isbn=0596554877"},{type:"book",title:"High Performance Javascript",author:"Nicholas C. Zakas",url:"books.google.com/books?isbn=1449388744"},{type:"book",title:"jQuery Cookbook",author:"jQuery Community Experts",url:"books.google.com/books?isbn=1449383017"},{type:"book",title:"HTML and CSS: Design and Build Websites",author:"Jon Duckett",url:"books.google.com/books?isbn=1118206916"},{type:"book",title:"Interactive Data Visualation for the Web",author:"Scott Murray",url:"books.google.com/books?isbn=1449340253"},{type:"book",title:"Developing Backbone.js Applications",author:"Addy Osmani",url:"books.google.com/books?isbn=1449328555"},{type:"book",title:"Bootstrap",author:"Jake Spurlock",url:"books.google.com/books?isbn=1449344593"},{type:"video",title:"Client Side Development",author:"Brian Mann",url:"vimeo.com/58787395"},{type:"video",title:"Tenets of Backbone JS",author:"Brian Mann",url:"vimeo.com/58787396"},{type:"video",title:"Marionette JS",author:"Brian Mann",url:"vimeo.com/58797363"},{type:"video",title:"Application Infrastructure",author:"Brian Mann",url:"backbonerails.fetchapp.com/sell/aezoosaw/ppc"},{type:"video",title:"Getting Up and Running - Part 1",author:"Brian Mann",url:"backbonerails.fetchapp.com/sell/siyeebee/ppc"},{type:"video",title:"Getting Up and Running - Part 2",author:"Brian Mann",url:"backbonerails.fetchapp.com/sell/ferechie/ppc"},{type:"video",title:"Building a Real Application: Planet Express",author:"Brian Mann",url:"backbonerails.fetchapp.com/sell/ichangei/ppc"},{type:"video",title:"Screencast: Loading Views",author:"Brian Mann",url:"www.backbonerails.com/screencasts/loading-views"},{type:"book",title:"Creating Animated Bubble Charts in D3",author:"Jim Vallandingham",url:"vallandingham.me/bubble_charts_in_d3.html"}])}},r.reply("reference:entities",function(){return n.getReferences()})})}.call(this),function(){define("entities/oss",["backbone","msgbus"],function(t,e){var n,r;return r=e.appChannel,n={getOSS:function(){return new t.Collection([{name:"Github",site:"https://github.com",image:"https://github.global.ssl.fastly.net/images/modules/dashboard/bootcamp/octocat_fork.png?74c9d5ac",ghurl:"https://github.com"},{name:"Backbone",site:"http://backbonejs.org",image:"http://backbonejs.org/docs/images/backbone.png",ghurl:"https://github.com/jashkenas/backbone/"},{name:"Marionette",site:"http://marionettejs.com/",image:"http://marionettejs.com/images/logo-a4052db8.png",ghurl:"https://github.com/marionettejs/backbone.marionette"},{name:"RequireJS",site:"http://requirejs.org",image:"http://requirejs.org/i/logo.png",ghurl:"https://github.com/jrburke/requirejs"},{name:"Underscore",site:"http://backbonejs.org",image:"http://underscorejs.org/docs/images/underscore.png",ghurl:"https://github.com/jashkenas/underscore"},{name:"Bootstrap",site:"http://getBootstrap.com",image:"image/bootstrap.png",ghurl:"https://github.com/twbs/bootstrap"},{name:"D3",site:"http://d3js.org",image:"http://d3js.org/ex/cloud.png",ghurl:"https://github.com/mbostock/d3"},{name:"JQuery",site:"http://jquery.com",image:"http://jquery.com/jquery-wp-content/themes/jquery/images/logo-jquery.png",ghurl:"https://github.com/jquery/jquery"}])}},r.reply("oss:entities",function(){return n.getOSS()})})}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one(t.support.transition.end,function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed.bs.alert").remove()}var r=t(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=t(i);e&&e.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof n&&n;i||r.data("bs.button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,r=this.getActiveIndex();if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):r==e?this.pause().cycle():this.slide(e>r?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),i=n||r[e](),o=this.interval,a="next"==e?"left":"right",s="next"==e?"first":"last",u=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}this.sliding=!0,o&&this.pause();var l=t.Event("slide.bs.carousel",{relatedTarget:i[0],direction:a});if(!i.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(u.$indicators.children()[u.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;i.addClass(e),i[0].offsetWidth,r.addClass(a),i.addClass(a),r.one(t.support.transition.end,function(){i.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n),a="string"==typeof n?n:o.slide;i||r.data("bs.carousel",i=new e(this,o)),"number"==typeof n?i.to(n):a?i[a]():o.interval&&i.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,r=t(this),i=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},i.data(),r.data()),a=r.attr("data-slide-to");a&&(o.interval=!1),i.carousel(o),(a=r.attr("data-slide-to"))&&i.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var a=t.camelCase(["scroll",i].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[i](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("bs.collapse"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);i||r.data("bs.collapse",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(i),a=o.data("bs.collapse"),s=a?"toggle":r.data(),u=r.attr("data-parent"),l=u&&t(u);a&&a.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+u+'"]').not(r).addClass("collapsed"),r[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(s)})}(jQuery),+function(t){"use strict";function e(){t(r).remove(),t(i).each(function(e){var r=n(t(this));r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}var r=".dropdown-backdrop",i="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(e(),!a){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(r=t.Event("show.bs.dropdown")),r.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),i.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),r.click();var s=t("[role=menu] li:not(.divider):visible a",o);if(s.length){var u=s.index(s.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<s.length-1&&u++,~u||(u=0),s.eq(u).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){
t.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",o.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.modal",o=new e(this,a)),"string"==typeof n?o[n](r):a.show&&o.show(r)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,r){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focus",u="hover"==a?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,o=i.test(r);o&&(r=r.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),s=n[0].offsetWidth,u=n[0].offsetHeight;if(o){var l=this.$element.parent(),c=r,h=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:l.outerWidth(),p="body"==this.options.container?window.innerHeight:l.outerHeight(),d="body"==this.options.container?0:l.offset().left;r="bottom"==r&&a.top+a.height+u-h>p?"top":"top"==r&&a.top-h-u<0?"bottom":"right"==r&&a.right+s>f?"left":"left"==r&&a.left-s<d?"right":r,n.removeClass(c).addClass(r)}var g=this.getCalculatedOffset(r,a,s,u);this.applyPlacement(g,r),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,r.offset(t).addClass("in");var u=r[0].offsetWidth,l=r[0].offsetHeight;if("top"==e&&l!=o&&(n=!0,t.top=t.top+o-l),/bottom|top/.test(e)){var c=0;t.left<0&&(c=t.left*-2,t.left=0,r.offset(t),u=r[0].offsetWidth,l=r[0].offsetHeight),this.replaceArrow(c-i+u,u,"left")}else this.replaceArrow(l-o,l,"top");n&&r.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&r.detach()}var n=this,r=this.tip(),i=t.Event("hide.bs."+this.type);if(this.$element.trigger(i),!i.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n;i||r.data("bs.tooltip",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof n&&n;i||r.data("bs.popover",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,r){var i,o=t.proxy(this.process,this);this.$element=t(t(n).is("body")?window:n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||(i=t(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var r=t(this),i=r.data("target")||r.attr("href"),o=/^#\w/.test(i)&&t(i);return o&&o.length&&[[o[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(e>=r)return a!=(t=o.last()[0])&&this.activate(t);for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(r);this.activate(e.parent("li"),n),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},e.prototype.activate=function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),a=r&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,r){this.options=t.extend({},e.DEFAULTS,r),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom());var u=!(null!=this.unpin&&r+this.unpin<=i.top)&&(null!=s&&i.top+this.$element.height()>=n-s?"bottom":null!=a&&r<=a&&"top");this.affixed!==u&&(this.unpin&&this.$element.css("top",""),this.affixed=u,this.unpin="bottom"==u?i.top-r:null,this.$element.removeClass(e.RESET).addClass("affix"+(u?"-"+u:"")),"bottom"==u&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof n&&n;i||r.data("bs.affix",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),define("bootstrap",["jquery"],function(){}),function(t,e){var n,r,i,o,a,s,u,l,c,h,f,p,d,g,v,m,y,b,w,x,_,M,C,k;n=function(t){return new n.prototype.init(t)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=n:t.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(t){return this.cultures=n.cultures,this.cultureSelector=t,this}},n.prototype.init.prototype=n.prototype,n.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures.default.calendar=n.cultures.default.calendars.standard,n.cultures.en=n.cultures.default,n.cultureSelector="en",r=/^0x[a-f0-9]+$/i,i=/^[+\-]?infinity$/i,o=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,a=/^\s+|\s+$/g,s=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},u=function(t,e){return t.substr(t.length-e.length)===e},l=function(){var t,n,r,i,o,a,s=arguments[0]||{},u=1,p=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[1]||{},u=2),"object"==typeof s||h(s)||(s={});u<p;u++)if(null!=(t=arguments[u]))for(n in t)r=s[n],i=t[n],s!==i&&(d&&i&&(f(i)||(o=c(i)))?(o?(o=!1,a=r&&c(r)?r:[]):a=r&&f(r)?r:{},s[n]=l(d,a,i)):i!==e&&(s[n]=i));return s},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},h=function(t){return"[object Function]"===Object.prototype.toString.call(t)},f=function(t){return"[object Object]"===Object.prototype.toString.call(t)},p=function(t,e){return 0===t.indexOf(e)},d=function(t){return(t+"").replace(a,"")},g=function(t){return isNaN(t)?NaN:Math[t<0?"ceil":"floor"](t)},v=function(t,e,n){var r;for(r=t.length;r<e;r+=1)t=n?"0"+t:t+"0";return t},m=function(t,e){for(var n=0,r=!1,i=0,o=t.length;i<o;i++){var a=t.charAt(i);switch(a){case"'":r?e.push("'"):n++,r=!1;break;case"\\":r&&e.push("\\"),r=!r;break;default:e.push(a),r=!1}}return n},y=function(t,e){e=e||"F";var n,r=t.patterns,i=e.length;if(1===i){if(n=r[e],!n)throw"Invalid date format string '"+e+"'.";e=n}else 2===i&&"%"===e.charAt(0)&&(e=e.charAt(1));return e},b=function(t,e,n){function r(t,e){var n,r=t+"";return e>1&&r.length<e?(n=w[e-2]+r,n.substr(n.length-e,e)):n=r}function i(){return d||g?d:(d=C.test(e),g=!0,d)}function o(t,e){if(v)return v[e];switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();default:throw"Invalid part value "+e}}var a,s=n.calendar,u=s.convert;if(!e||!e.length||"i"===e){if(n&&n.name.length)if(u)a=b(t,s.patterns.F,n);else{var l=new Date(t.getTime()),c=_(t,s.eras);l.setFullYear(M(t,s,c)),a=l.toLocaleString()}else a=t.toString();return a}var h=s.eras,f="s"===e;e=y(s,e),a=[];var p,d,g,v,w=["0","00","000"],C=/([^d]|^)(d|dd)([^d]|$)/g,k=0,E=x();for(!f&&u&&(v=u.fromGregorian(t));;){var T=E.lastIndex,S=E.exec(e),A=e.slice(T,S?S.index:e.length);if(k+=m(A,a),!S)break;if(k%2)a.push(S[0]);else{var N=S[0],R=N.length;switch(N){case"ddd":case"dddd":var j=3===R?s.days.namesAbbr:s.days.names;a.push(j[t.getDay()]);break;case"d":case"dd":d=!0,a.push(r(o(t,2),R));break;case"MMM":case"MMMM":var D=o(t,1);a.push(s.monthsGenitive&&i()?s.monthsGenitive[3===R?"namesAbbr":"names"][D]:s.months[3===R?"namesAbbr":"names"][D]);break;case"M":case"MM":a.push(r(o(t,1)+1,R));break;case"y":case"yy":case"yyyy":D=v?v[0]:M(t,s,_(t,h),f),R<4&&(D%=100),a.push(r(D,R));break;case"h":case"hh":p=t.getHours()%12,0===p&&(p=12),a.push(r(p,R));break;case"H":case"HH":a.push(r(t.getHours(),R));break;case"m":case"mm":a.push(r(t.getMinutes(),R));break;case"s":case"ss":a.push(r(t.getSeconds(),R));break;case"t":case"tt":D=t.getHours()<12?s.AM?s.AM[0]:" ":s.PM?s.PM[0]:" ",a.push(1===R?D.charAt(0):D);break;case"f":case"ff":case"fff":a.push(r(t.getMilliseconds(),3).substr(0,R));break;case"z":case"zz":p=t.getTimezoneOffset()/60,a.push((p<=0?"+":"-")+r(Math.floor(Math.abs(p)),R));break;case"zzz":p=t.getTimezoneOffset()/60,a.push((p<=0?"+":"-")+r(Math.floor(Math.abs(p)),2)+":"+r(Math.abs(t.getTimezoneOffset()%60),2));break;case"g":case"gg":s.eras&&a.push(s.eras[_(t,h)].name);break;case"/":a.push(s["/"]);break;default:throw"Invalid date format pattern '"+N+"'."}}}return a.join("")},function(){var t;t=function(t,e,n){var r=n.groupSizes,i=r[0],o=1,a=Math.pow(10,e),s=Math.round(t*a)/a;isFinite(s)||(s=t),t=s;var u=t+"",l="",c=u.split(/e/i),h=c.length>1?parseInt(c[1],10):0;u=c[0],c=u.split("."),u=c[0],l=c.length>1?c[1]:"";h>0?(l=v(l,h,!1),u+=l.slice(0,h),l=l.substr(h)):h<0&&(h=-h,u=v(u,h+1,!0),l=u.slice(-h,u.length)+l,u=u.slice(0,-h)),l=e>0?n["."]+(l.length>e?l.slice(0,e):v(l,e)):"";for(var f=u.length-1,p=n[","],d="";f>=0;){if(0===i||i>f)return u.slice(0,f+1)+(d.length?p+d+l:l);d=u.slice(f-i+1,f+1)+(d.length?p+d:""),f-=i,o<r.length&&(i=r[o],o++)}return u.slice(0,f+1)+p+d+l},w=function(e,n,r){if(!isFinite(e))return e===1/0?r.numberFormat.positiveInfinity:e===-(1/0)?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||"i"===n)return r.name.length?e.toLocaleString():e.toString();n=n||"D";var i,o=r.numberFormat,a=Math.abs(e),s=-1;n.length>1&&(s=parseInt(n.slice(1),10));var u,l=n.charAt(0).toUpperCase();switch(l){case"D":i="n",a=g(a),s!==-1&&(a=v(""+a,s,!0)),e<0&&(a="-"+a);break;case"N":u=o;case"C":u=u||o.currency;case"P":u=u||o.percent,i=e<0?u.pattern[0]:u.pattern[1]||"n",s===-1&&(s=u.decimals),a=t(a*("P"===l?100:1),s,u);break;default:throw"Bad number format specifier: "+l}for(var c=/n|\$|-|%/g,h="";;){var f=c.lastIndex,p=c.exec(i);if(h+=i.slice(f,p?p.index:i.length),!p)break;switch(p[0]){case"n":h+=a;break;case"$":h+=o.currency.symbol;break;case"-":/[1-9]/.test(a)&&(h+=o["-"]);break;case"%":h+=o.percent.symbol}}return h}}(),x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},_=function(t,e){if(!e)return 0;for(var n,r=t.getTime(),i=0,o=e.length;i<o;i++)if(n=e[i].start,null===n||r>=n)return i;return 0},M=function(t,e,n,r){var i=t.getFullYear();return!r&&e.eras&&(i-=e.eras[n].offset),i},function(){var t,e,n,r,i,o,a;t=function(t,e){if(e<100){var n=new Date,r=_(n),i=M(n,t,r),o=t.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o,e+=i-i%100,e>o&&(e-=100)}return e},e=function(t,e,n){var r,i=t.days,u=t._upperDays;return u||(t._upperDays=u=[a(i.names),a(i.namesAbbr),a(i.namesShort)]),e=o(e),n?(r=s(u[1],e),r===-1&&(r=s(u[2],e))):r=s(u[0],e),r},n=function(t,e,n){var r=t.months,i=t.monthsGenitive||t.months,u=t._upperMonths,l=t._upperMonthsGen;u||(t._upperMonths=u=[a(r.names),a(r.namesAbbr)],t._upperMonthsGen=l=[a(i.names),a(i.namesAbbr)]),e=o(e);var c=s(n?u[1]:u[0],e);return c<0&&(c=s(n?l[1]:l[0],e)),c},r=function(t,e){var n=t._parseRegExp;if(n){var r=n[e];if(r)return r}else t._parseRegExp=n={};for(var i,o=y(t,e).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],s=[],u=0,l=0,c=x();null!==(i=c.exec(o));){var h=o.slice(u,i.index);if(u=c.lastIndex,l+=m(h,a),l%2)a.push(i[0]);else{var f,p=i[0],d=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+d+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\/)";break;default:throw"Invalid date format pattern '"+p+"'."}f&&a.push(f),s.push(i[0])}}m(o.slice(u),a),a.push("$");var g=a.join("").replace(/\s+/g,"\\s+"),v={regExp:g,groups:s};return n[e]=v},i=function(t,e,n){return t<e||t>n},o=function(t){return t.split("").join(" ").toUpperCase()},a=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=o(t[n]);return e},C=function(o,a,s){o=d(o);var u=s.calendar,l=r(u,a),c=new RegExp(l.regExp).exec(o);if(null===c)return null;for(var h,f=l.groups,g=null,v=null,m=null,y=null,b=null,w=0,x=0,_=0,M=0,C=null,k=!1,E=0,T=f.length;E<T;E++){var S=c[E+1];if(S){var A=f[E],N=A.length,R=parseInt(S,10);switch(A){case"dd":case"d":if(y=R,i(y,1,31))return null;break;case"MMM":case"MMMM":if(m=n(u,S,3===N),i(m,0,11))return null;break;case"M":case"MM":if(m=R-1,i(m,0,11))return null;break;case"y":case"yy":case"yyyy":if(v=N<4?t(u,R):R,i(v,0,9999))return null;break;case"h":case"hh":if(w=R,12===w&&(w=0),i(w,0,11))return null;break;case"H":case"HH":if(w=R,i(w,0,23))return null;break;case"m":case"mm":if(x=R,i(x,0,59))return null;break;case"s":case"ss":if(_=R,i(_,0,59))return null;break;case"tt":case"t":if(k=u.PM&&(S===u.PM[0]||S===u.PM[1]||S===u.PM[2]),!k&&(!u.AM||S!==u.AM[0]&&S!==u.AM[1]&&S!==u.AM[2]))return null;break;case"f":case"ff":case"fff":if(M=R*Math.pow(10,3-N),i(M,0,999))return null;break;case"ddd":case"dddd":if(b=e(u,S,3===N),i(b,0,6))return null;break;case"zzz":var j=S.split(/:/);if(2!==j.length)return null;if(h=parseInt(j[0],10),i(h,-12,13))return null;var D=parseInt(j[1],10);if(i(D,0,59))return null;C=60*h+(p(S,"-")?-D:D);break;case"z":case"zz":if(h=R,i(h,-12,13))return null;C=60*h;break;case"g":case"gg":var q=S;if(!q||!u.eras)return null;q=d(q.toLowerCase());for(var V=0,L=u.eras.length;V<L;V++)if(q===u.eras[V].name.toLowerCase()){g=V;break}if(null===g)return null}}}var O,$=new Date,I=u.convert;if(O=I?I.fromGregorian($)[0]:$.getFullYear(),null===v?v=O:u.eras&&(v+=u.eras[g||0].offset),null===m&&(m=0),null===y&&(y=1),I){if($=I.toGregorian(v,m,y),null===$)return null}else{if($.setFullYear(v,m,y),$.getDate()!==y)return null;if(null!==b&&$.getDay()!==b)return null}if(k&&w<12&&(w+=12),$.setHours(w,x,_,M),null!==C){var P=$.getMinutes()-(C+$.getTimezoneOffset());$.setHours($.getHours()+parseInt(P/60,10),P%60)}return $}}(),k=function(t,e,n){var r,i=e["-"],o=e["+"];switch(n){case"n -":i=" "+i,o=" "+o;case"n-":u(t,i)?r=["-",t.substr(0,t.length-i.length)]:u(t,o)&&(r=["+",t.substr(0,t.length-o.length)]);break;case"- n":i+=" ",o+=" ";case"-n":p(t,i)?r=["-",t.substr(i.length)]:p(t,o)&&(r=["+",t.substr(o.length)]);break;case"(n)":p(t,"(")&&u(t,")")&&(r=["-",t.substr(1,t.length-2)])}return r||["",t]},n.prototype.findClosestCulture=function(t){return n.findClosestCulture.call(this,t)},n.prototype.format=function(t,e,r){return n.format.call(this,t,e,r)},n.prototype.localize=function(t,e){return n.localize.call(this,t,e)},n.prototype.parseInt=function(t,e,r){return n.parseInt.call(this,t,e,r)},n.prototype.parseFloat=function(t,e,r){return n.parseFloat.call(this,t,e,r)},n.prototype.culture=function(t){return n.culture.call(this,t)},n.addCultureInfo=function(t,e,n){var r={},i=!1;"string"!=typeof t?(n=t,t=this.culture().name,r=this.cultures[t]):"string"!=typeof e?(n=e,i=null==this.cultures[t],r=this.cultures[t]||this.cultures.default):(i=!0,r=this.cultures[e]),this.cultures[t]=l(!0,{},r,n),i&&(this.cultures[t].calendar=this.cultures[t].calendars.standard)},n.findClosestCulture=function(t){var e;if(!t)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof t&&(t=t.split(",")),c(t)){var n,r,i=this.cultures,o=t,a=o.length,s=[];for(r=0;r<a;r++){t=d(o[r]);var u,l=t.split(";");n=d(l[0]),1===l.length?u=1:(t=d(l[1]),0===t.indexOf("q=")?(t=t.substr(2),u=parseFloat(t),u=isNaN(u)?0:u):u=1),s.push({lang:n,pri:u})}for(s.sort(function(t,e){return t.pri<e.pri?1:t.pri>e.pri?-1:0}),r=0;r<a;r++)if(n=s[r].lang,e=i[n])return e;for(r=0;r<a;r++)for(n=s[r].lang;;){var h=n.lastIndexOf("-");if(h===-1)break;if(n=n.substr(0,h),e=i[n])return e}for(r=0;r<a;r++){n=s[r].lang;for(var f in i){var p=i[f];if(p.language==n)return p}}}else if("object"==typeof t)return t;return e||null},n.format=function(t,e,n){var r=this.findClosestCulture(n);return t instanceof Date?t=b(t,e,r):"number"==typeof t&&(t=w(t,e,r)),t},n.localize=function(t,e){return this.findClosestCulture(e).messages[t]||this.cultures.default.messages[t]},n.parseDate=function(t,e,n){n=this.findClosestCulture(n);var r,i,o;if(e){if("string"==typeof e&&(e=[e]),e.length)for(var a=0,s=e.length;a<s;a++){var u=e[a];if(u&&(r=C(t,u,n)))break}}else{o=n.calendar.patterns;for(i in o)if(r=C(t,o[i],n))break}return r||null},n.parseInt=function(t,e,r){return g(n.parseFloat(t,e,r))},n.parseFloat=function(t,e,n){"number"!=typeof e&&(n=e,e=10);var a=this.findClosestCulture(n),s=NaN,u=a.numberFormat;if(t.indexOf(a.numberFormat.currency.symbol)>-1&&(t=t.replace(a.numberFormat.currency.symbol,""),t=t.replace(a.numberFormat.currency["."],a.numberFormat["."])),t.indexOf(a.numberFormat.percent.symbol)>-1&&(t=t.replace(a.numberFormat.percent.symbol,"")),t=t.replace(/ /g,""),i.test(t))s=parseFloat(t);else if(!e&&r.test(t))s=parseInt(t,16);else{var l=k(t,u,u.pattern[0]),c=l[0],h=l[1];""===c&&"(n)"!==u.pattern[0]&&(l=k(t,u,"(n)"),c=l[0],h=l[1]),""===c&&"-n"!==u.pattern[0]&&(l=k(t,u,"-n"),c=l[0],h=l[1]),c=c||"+";var f,p,d=h.indexOf("e");d<0&&(d=h.indexOf("E")),d<0?(p=h,f=null):(p=h.substr(0,d),f=h.substr(d+1));var g,v,m=u["."],y=p.indexOf(m);y<0?(g=p,v=null):(g=p.substr(0,y),v=p.substr(y+m.length));var b=u[","];g=g.split(b).join("");var w=b.replace(/\u00A0/g," ");b!==w&&(g=g.split(w).join(""));var x=c+g;if(null!==v&&(x+="."+v),null!==f){var _=k(f,u,"-n");x+="e"+(_[0]||"+")+_[1]}o.test(x)&&(s=parseFloat(x))}return s},n.culture=function(t){return"undefined"!=typeof t&&(this.cultureSelector=t),this.findClosestCulture(t)||this.cultures.default}}(this),define("globalize",function(){}),function(){define("config/load",["config/underscore/templatesettings","config/marionette/templatecache","config/backbone/sync","entities/twitchtv","entities/appstate","entities/author","entities/reference","entities/oss","bootstrap","globalize"],function(){})}.call(this),define("text",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("text!apps/header/list/templates/itemview.htm",[],function(){return'<a href={{url}} title="{{title}}"><span class="{{cssClass}}"></span> {{name}}</a>'}),define("text!apps/header/list/templates/header.htm",[],function(){return'<nav class="navbar navbar-default navbar-fixed-top" role="navigation">\r\n  <div class="navbar-header">\r\n    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">\r\n      <span class="sr-only">Toggle navigation</span>\r\n      <span class="icon-bar"></span>\r\n      <span class="icon-bar"></span>\r\n      <span class="icon-bar"></span>\r\n    </button>\r\n    <a class="navbar-brand" href="#"> <span class="brand"><abbr title="A \'single-page application\'">Twitch-TV Expose</abbr></span></a>\r\n  </div>\r\n  <div class="collapse navbar-collapse navbar-ex1-collapse pull-right">\r\n    <ul id="mainmenu" class="nav navbar-nav">\r\n    </ul>\r\n    <p id="login" class="navbar-text pull-right">\r\n    </p>\r\n  </div>\r\n</nav>';
}),define("text!apps/header/list/templates/login.htm",[],function(){return'<a title = "Sign-in to your Twitch-TV account" class="navbar-link" href="https://api.twitch.tv/kraken/oauth2/authorize?response_type=token&client_id={{clientId}}&redirect_uri={{uri}}&scope=user_read channel_stream chat_login channel_read"><span class="text-primary">TwitchTV-Login</span></a>\r\n'}),function(){define("apps/header/list/templates",["require","text!apps/header/list/templates/itemview.htm","text!apps/header/list/templates/header.htm","text!apps/header/list/templates/login.htm"],function(t){return{item:t("text!apps/header/list/templates/itemview.htm"),header:t("text!apps/header/list/templates/header.htm"),login:t("text!apps/header/list/templates/login.htm")}})}.call(this),function(){define("entities/header",["backbone","msgbus"],function(t,e){var n;return n=new t.Collection([{id:1,name:"Games",url:"#games",title:"Live Games",cssClass:"glyphicon glyphicon-hdd"},{id:2,name:"D3",url:"#d3",title:"Sample D3 visualization",cssClass:"glyphicon glyphicon-list"},{id:3,name:"About",url:"#about",title:"Learn about responsive Twitch-TV",cssClass:"glyphicon glyphicon-align-justify"}])})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/header/list/views",["marionette","apps/header/list/templates","entities/header","entities/appstate"],function(e,n,r,i){var o,a,s,u;return u=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.item),r.prototype.tagName="li",r}(e.View),a=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.login),r.prototype.tagName="strong",r}(e.View),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="ul",n.prototype.className="nav navbar-nav",n.prototype.childView=u,n}(e.CollectionView),{Layout:o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.el="#header-region",o.prototype.template=_.template(n.header),o.prototype.regions={menuRegion:{el:"ul",replaceElement:!0},loginRegion:"#login"},o.prototype.onRender=function(){return this.showChildView("menuRegion",new s({collection:r})),this.showChildView("loginRegion",new a({model:i}))},o}(e.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/header/list/controller",["apps/header/list/views","marionette","entities/appstate"],function(e,n,r){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.initialize=function(){return this.layout=new e.Layout,this.listenTo(r,"change:authState",function(t,e){var n,r;return e===!0?(r=this.layout.getRegion("loginRegion"),r.empty()):e===!1?(n=this.layout.getChildView("loginRegion"),n.render()):void 0}),this.layout.render()},i}(n.Object)})}.call(this),function(){define("apps/header/app",["msgbus","apps/header/list/controller"],function(t,e){var n,r;return r=t.appChannel,n={list:function(){return new e}},r.on("start:header:app",function(){return n.list()})})}.call(this),define("text!apps/footer/show/templates/footer.htm",[],function(){return'<nav class="navbar navbar-default navbar-fixed-bottom hidden-xs" role="navigation">\r\n<p class="navbar-text pull-right"><a href="{{twitter}}" target="_blank" class="navbar-link">{{fullName}} <span class="glyphicon glyphicon-leaf"></span></a></p>\r\n<p class="navbar-text pull-right"><a href="{{github}}" target="_blank" class="navbar-link">Github</a></p>\r\n</nav>\r\n\r\n'}),function(){define("apps/footer/show/templates",["require","text!apps/footer/show/templates/footer.htm"],function(t){return{footer:t("text!apps/footer/show/templates/footer.htm")}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/footer/show/views",["marionette","apps/footer/show/templates"],function(e,n){var r;return{FooterView:r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.el="#footer-region",r.prototype.template=_.template(n.footer),r.prototype.modelEvents={change:"render"},r}(e.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/footer/show/controller",["msgbus","apps/footer/show/views","marionette","entities/author"],function(e,n,r,i){var o,a;return a=e.appChannel,o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.initialize=function(){var t,e;return e={model:i},t=new n.FooterView(e),t.render()},r}(r.Object)})}.call(this),function(){define("apps/footer/app",["msgbus","apps/footer/show/controller"],function(t,e){var n,r;return r=t.appChannel,n={show:function(){return new e}},r.on("start:footer:app",function(){return n.show()})})}.call(this),define("text!apps/d3/list/templates/panel.htm",[],function(){return'<h4 class=text-muted title="In a Marionette view">Collision Detection<small> <a href="http://bl.ocks.org/mbostock/3231298" target="_blank" title="source code">using D3</a></small></h4>'}),define("text!apps/d3/list/templates/layout.htm",[],function(){return'<div id="panel-region" class="col-xs-12"></div>\r\n<div id="d3-region" class="col-xs-12"></div>'}),function(){define("apps/d3/list/templates",["require","text!apps/d3/list/templates/panel.htm","text!apps/d3/list/templates/layout.htm"],function(t){return{panel:t("text!apps/d3/list/templates/panel.htm"),layout:t("text!apps/d3/list/templates/layout.htm")}})}.call(this),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function r(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function i(){}function o(){}function a(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function s(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=ca.length;n<r;++n){var i=ca[n]+e;if(i in t)return i}}function u(){}function l(){}function c(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new i;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function h(){Jo.event.preventDefault()}function f(){for(var t,e=Jo.event;t=e.sourceEvent;)e=t;return e}function p(t){for(var e=new l,n=0,r=arguments.length;++n<r;)e[arguments[n]]=c(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=Jo.event;i.target=t,Jo.event=i,e[i.type].apply(n,r)}finally{Jo.event=o}}},e}function d(t){return fa(t,ma),t}function g(t){return"function"==typeof t?t:function(){return pa(t,this)}}function v(t){return"function"==typeof t?t:function(){return da(t,this)}}function m(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Jo.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function y(t){return t.trim().replace(/\s+/g," ")}function b(t){return new RegExp("(?:^|\\s+)"+Jo.requote(t)+"(?:\\s+|$)","g")}function w(t){return t.trim().split(/^|\s+/)}function x(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=w(t).map(_);var i=t.length;return"function"==typeof e?r:n}function _(t){var e=b(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",y(i+" "+t))):n.setAttribute("class",y(i.replace(e," ")))}}function M(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function C(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function k(t){return"function"==typeof t?t:(t=Jo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function E(t){return{__data__:t}}function T(t){return function(){return va(this,t)}}function S(t){return arguments.length||(t=Jo.ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function A(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function N(t){return fa(t,ba),t}function R(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function j(){var t=this.__transition__;t&&++t.active}function D(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,Qo(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+Jo.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=q;s>0&&(t=t.substring(0,s));var c=xa.get(t);return c&&(t=c,l=V),s?e?i:r:e?u:o}function q(t,e){return function(n){var r=Jo.event;Jo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Jo.event=r}}}function V(t,e){var n=q(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function L(){var t=".dragsuppress-"+ ++Ma,e="click"+t,n=Jo.select(ta).on("touchmove"+t,h).on("dragstart"+t,h).on("selectstart"+t,h);if(_a){var r=Ko.style,i=r[_a];r[_a]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null),_a&&(r[_a]=i),o&&(n.on(e,function(){h(),a()},!0),setTimeout(a,0))}}function O(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ca<0&&(ta.scrollX||ta.scrollY)){n=Jo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ca=!(i.f||i.e),n.remove()}return Ca?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function $(t){return t>0?1:t<0?-1:0}function I(t){return t>1?0:t<-1?ka:Math.acos(t)}function P(t){return t>1?Ta:t<-1?-Ta:Math.asin(t)}function F(t){return((t=Math.exp(t))-1/t)/2}function H(t){return((t=Math.exp(t))+1/t)/2}function z(t){return((t=Math.exp(2*t))-1)/(t+1)}function B(t){return(t=Math.sin(t/2))*t}function U(){}function W(t,e,n){return new G(t,e,n)}function G(t,e,n){this.h=t,this.s=e,this.l=n}function Y(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,st(i(t+120),i(t),i(t-120))}function J(t,e,n){return new X(t,e,n)}function X(t,e,n){this.h=t,this.c=e,this.l=n}function Q(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),Z(n,Math.cos(t*=Na)*e,Math.sin(t)*e)}function Z(t,e,n){return new K(t,e,n)}function K(t,e,n){this.l=t,this.a=e,this.b=n}function tt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=nt(i)*Fa,r=nt(r)*Ha,o=nt(o)*za,st(it(3.2404542*i-1.5371385*r-.4985314*o),it(-.969266*i+1.8760108*r+.041556*o),it(.0556434*i-.2040259*r+1.0572252*o))}function et(t,e,n){return t>0?J(Math.atan2(n,e)*Ra,Math.sqrt(e*e+n*n),t):J(NaN,NaN,t)}function nt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function rt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function it(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ot(t){return st(t>>16,t>>8&255,255&t)}function at(t){return ot(t)+""}function st(t,e,n){return new ut(t,e,n)}function ut(t,e,n){this.r=t,this.g=e,this.b=n}function lt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ct(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(dt(i[0]),dt(i[1]),dt(i[2]))}return(o=Wa.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,s=t.charAt(2),s+=s,u=t.charAt(3),u+=u):7===t.length&&(a=t.substring(1,3),s=t.substring(3,5),u=t.substring(5,7)),a=parseInt(a,16),s=parseInt(s,16),u=parseInt(u,16)),e(a,s,u))}function ht(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),W(r,i,u)}function ft(t,e,n){t=pt(t),e=pt(e),n=pt(n);var r=rt((.4124564*t+.3575761*e+.1804375*n)/Fa),i=rt((.2126729*t+.7151522*e+.072175*n)/Ha),o=rt((.0193339*t+.119192*e+.9503041*n)/za);return Z(116*i-16,500*(r-i),200*(i-o))}function pt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function dt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function gt(t){return"function"==typeof t?t:function(){return t}}function vt(t){return t}function mt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),yt(e,n,t,r)}}function yt(t,e,n,r){function i(){var t,e=u.status;if(!e&&u.responseText||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=Jo.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!ta.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=Jo.event;Jo.event=t;try{a.progress.call(o,u)}finally{Jo.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Qo(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},Jo.rebind(o,a,"on"),null==r?o:o.get(bt(r))}function bt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function wt(){var t=xt(),e=_t()-t;e>24?(isFinite(e)&&(clearTimeout(Xa),Xa=setTimeout(wt,e)),Ja=0):(Ja=1,Za(wt))}function xt(){var t=Date.now();for(Qa=Ga;Qa;)t>=Qa.t&&(Qa.f=Qa.c(t-Qa.t)),Qa=Qa.n;return t}function _t(){for(var t,e=Ga,n=1/0;e;)e.f?e=t?t.n=e.n:Ga=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ya=t,n}function Mt(t,e){var n=Math.pow(10,3*sa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ct(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function kt(t){return t+""}function Et(){}function Tt(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function St(t,e){t&&cs.hasOwnProperty(t.type)&&cs[t.type](t,e)}function At(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Nt(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)At(t[n],e,1);e.polygonEnd()}function Rt(){function t(t,e){t*=Na,e=e*Na/2+ka/4;var n=t-r,a=Math.cos(e),s=Math.sin(e),u=o*s,l=i*a+u*Math.cos(n),c=u*Math.sin(n);fs.add(Math.atan2(c,l)),r=t,i=a,o=s}var e,n,r,i,o;ps.point=function(a,s){ps.point=t,r=(e=a)*Na,i=Math.cos(s=(n=s)*Na/2+ka/4),o=Math.sin(s)},ps.lineEnd=function(){t(e,n)}}function jt(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Dt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Vt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Lt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ot(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function $t(t){return[Math.atan2(t[1],t[0]),P(t[2])]}function It(t,e){return sa(t[0]-e[0])<Sa&&sa(t[1]-e[1])<Sa}function Pt(t,e){t*=Na;var n=Math.cos(e*=Na);Ft(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ft(t,e,n){++ds,vs+=(t-vs)/ds,ms+=(e-ms)/ds,ys+=(n-ys)/ds}function Ht(){function t(t,i){t*=Na;var o=Math.cos(i*=Na),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);gs+=l,bs+=l*(e+(e=a)),ws+=l*(n+(n=s)),xs+=l*(r+(r=u)),Ft(e,n,r)}var e,n,r;ks.point=function(i,o){i*=Na;var a=Math.cos(o*=Na);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),ks.point=t,Ft(e,n,r)}}function zt(){ks.point=Pt}function Bt(){function t(t,e){t*=Na;var n=Math.cos(e*=Na),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=Math.sqrt(l*l+c*c+h*h),p=r*a+i*s+o*u,d=f&&-I(p)/f,g=Math.atan2(f,p);_s+=d*l,Ms+=d*c,Cs+=d*h,gs+=g,bs+=g*(r+(r=a)),ws+=g*(i+(i=s)),xs+=g*(o+(o=u)),Ft(r,i,o)}var e,n,r,i,o;ks.point=function(a,s){e=a,n=s,ks.point=t,a*=Na;var u=Math.cos(s*=Na);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Ft(r,i,o)},ks.lineEnd=function(){t(e,n),ks.lineEnd=zt,ks.point=Pt}}function Ut(){return!0}function Wt(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(It(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Yt(n,t,null,!0),l=new Yt(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Yt(r,t,null,!1),l=new Yt(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),Gt(o),Gt(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){c=p.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Gt(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Yt(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jt(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){y.point=s,v.lineStart()}function l(){y.point=a,v.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function h(){w.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),r=n.length;if(g.pop(),d.push(g),g=null,r){if(1&e){t=n[0];var i,r=t.length-1,a=-1;for(o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);return void o.lineEnd()}r>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Xt))}}var p,d,g,v=e(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=f,p=[],d=[],o.polygonStart()},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,p=Jo.merge(p);var t=Kt(m,d);p.length?Wt(p,Zt,t,n,o):t&&(o.lineStart(),n(null,null,1,o),o.lineEnd()),o.polygonEnd(),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Qt(),w=e(b);return y}}function Xt(t){return t.length>1}function Qt(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:u,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Zt(t,e){return((t=t.x)[0]<0?t[1]-Ta-Sa:Ta-t[1])-((e=e.x)[0]<0?e[1]-Ta-Sa:Ta-e[1])}function Kt(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;fs.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],p=h[1]/2+ka/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===c&&(v=0),t=l[v];var m=t[0],y=t[1]/2+ka/4,b=Math.sin(y),w=Math.cos(y),x=m-f,_=sa(x)>ka,M=d*b;if(fs.add(Math.atan2(M*Math.sin(x),g*w+M*Math.cos(x))),o+=_?x+(x>=0?Ea:-Ea):x,_^f>=n^m>=n){var C=qt(jt(h),jt(t));Ot(C);var k=qt(i,C);Ot(k);var E=(_^x>=0?-1:1)*P(k[2]);(r>E||r===E&&(C[0]||C[1]))&&(a+=_^x>=0?1:-1)}if(!v++)break;f=m,d=b,g=w,h=t}}return(o<-Sa||o<Sa&&fs<0)^1&a}function te(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?ka:-ka,u=sa(o-n);sa(u-ka)<Sa?(t.point(n,r=(r+a)/2>0?Ta:-Ta),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=ka&&(sa(n-i)<Sa&&(n-=i*Sa),sa(o-s)<Sa&&(o-=s*Sa),r=ee(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function ee(t,e,n,r){var i,o,a=Math.sin(t-n);return sa(a)>Sa?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function ne(t,e,n,r){var i;if(null==t)i=n*Ta,r.point(-ka,i),r.point(0,i),r.point(ka,i),r.point(ka,0),r.point(ka,-i),r.point(0,-i),r.point(-ka,-i),r.point(-ka,0),r.point(-ka,i);else if(sa(t[0]-e[0])>Sa){var o=t[0]<e[0]?ka:-ka;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function re(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],g=e(h,f),v=a?g?0:i(h,f):g?i(h+(h<0?ka:-ka),f):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(p=r(n,d),(It(n,p)||It(d,p))&&(d[0]+=Sa,d[1]+=Sa,g=e(d[0],d[1]))),g!==u)c=0,g?(t.lineStart(),p=r(d,n),t.point(p[0],p[1])):(p=r(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&a^g){var m;v&o||!(m=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&It(n,d)||t.point(d[0],d[1]),n=d,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=jt(t),i=jt(e),a=[1,0,0],s=qt(r,i),u=Dt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,f=-o*l/c,p=qt(a,s),d=Lt(a,h),g=Lt(s,f);Vt(d,g);var v=p,m=Dt(d,v),y=Dt(v,v),b=m*m-y*(Dt(d,d)-1);if(!(b<0)){var w=Math.sqrt(b),x=Lt(v,(-m-w)/y);if(Vt(x,d),x=$t(x),!n)return x;var _,M=t[0],C=e[0],k=t[1],E=e[1];C<M&&(_=M,M=C,C=_);var T=C-M,S=sa(T-ka)<Sa,A=S||T<Sa;if(!S&&E<k&&(_=k,k=E,E=_),A?S?k+E>0^x[1]<(sa(x[0]-M)<Sa?k:E):k<=x[1]&&x[1]<=E:T>ka^(M<=x[0]&&x[0]<=C)){var N=Lt(v,(-m+w)/y);return Vt(N,d),[x,$t(N)]}}}function i(e,n){var r=a?t:ka-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=sa(o)>Sa,u=Re(t,6*Na);return Jt(e,n,u,a?[0,-t]:[-ka,t-ka])}function ie(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,h=s.y,f=0,p=1,d=c-u,g=h-l;if(o=t-u,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>f&&(f=o)}if(o=n-u,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<p&&(p=o)}if(o=e-l,g||!(o>0)){if(o/=g,g<0){if(o<f)return;o<p&&(p=o)}else if(g>0){if(o>p)return;o>f&&(f=o)}if(o=r-l,g||!(o<0)){if(o/=g,g<0){if(o>p)return;o>f&&(f=o)}else if(g>0){if(o<f)return;o<p&&(p=o)}return f>0&&(i.a={x:u+f*d,y:l+f*g}),p<1&&(i.b={x:u+p*d,y:l+p*g}),i}}}}}}function oe(t,e,n,r){function i(r,i){return sa(r[0]-t)<Sa?i>0?0:3:sa(r[0]-n)<Sa?i>0?2:1:sa(r[1]-e)<Sa?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=m.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=m[i],u=s.length,c=s[0];a<u;++a)o=s[a],c[1]<=r?o[1]>r&&l(c,o,t)>0&&++e:o[1]<=r&&l(c,o,t)<0&&--e,c=o;return 0!==e}function l(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function c(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function h(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function f(t,e){h(t,e)&&s.point(t,e)}function p(){N.point=g,m&&m.push(y=[]),k=!0,C=!1,_=M=NaN}function d(){v&&(g(b,w),x&&C&&S.rejoin(),v.push(S.buffer())),N.point=f,C&&s.lineEnd()}function g(t,e){t=Math.max(-Ts,Math.min(Ts,t)),e=Math.max(-Ts,Math.min(Ts,e));var n=h(t,e);if(m&&y.push([t,e]),k)b=t,w=e,x=n,k=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:_,y:M},b:{x:t,y:e}};A(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),E=!1):n&&(s.lineStart(),s.point(t,e),E=!1)}_=t,M=e,C=n}var v,m,y,b,w,x,_,M,C,k,E,T=s,S=Qt(),A=ie(t,e,n,r),N={point:f,lineStart:p,lineEnd:d,polygonStart:function(){s=S,v=[],m=[],E=!0},polygonEnd:function(){s=T,v=Jo.merge(v);var e=u([t,r]),n=E&&e,i=v.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&Wt(v,o,e,c,s),s.polygonEnd()),v=m=y=null}};return N}}function ae(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function se(t){var e=0,n=ka/3,r=Me(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*ka/180,n=t[1]*ka/180):[e/ka*180,n/ka*180]},i}function ue(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,P((o-(t*t+n*n)*i*i)/(2*i))]},n}function le(){function t(t,e){As+=i*t-r*e,r=t,i=e}var e,n,r,i;qs.point=function(o,a){qs.point=t,e=r=o,n=i=a},qs.lineEnd=function(){t(e,n)}}function ce(t,e){t<Ns&&(Ns=t),t>js&&(js=t),e<Rs&&(Rs=e),e>Ds&&(Ds=e)}function he(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=fe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=fe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function fe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function pe(t,e){vs+=t,ms+=e,++ys}function de(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);bs+=a*(e+t)/2,ws+=a*(n+r)/2,xs+=a,pe(e=t,n=r)}var e,n;Ls.point=function(r,i){Ls.point=t,pe(e=r,n=i)}}function ge(){Ls.point=pe}function ve(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);bs+=a*(r+t)/2,ws+=a*(i+e)/2,xs+=a,a=i*t-r*e,_s+=a*(r+t),Ms+=a*(i+e),Cs+=3*a,pe(r=t,i=e)}var e,n,r,i;Ls.point=function(o,a){Ls.point=t,pe(e=r=o,n=i=a)},Ls.lineEnd=function(){t(e,n)}}function me(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,Ea)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:u};return s}function ye(t){function e(t){return(s?r:n)(t)}function n(e){return xe(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,C.point=o,e.lineStart()}function o(n,r){var o=jt([n,r]),a=t(n,r);i(b,w,y,x,_,M,b=a[0],w=a[1],y=n,x=o[0],_=o[1],M=o[2],s,e),e.point(b,w)}function a(){C.point=n,e.lineEnd()}function u(){r(),C.point=l,C.lineEnd=c}function l(t,e){o(h=t,f=e),p=b,d=w,g=x,v=_,m=M,C.point=o}function c(){i(b,w,y,x,_,M,p,d,h,g,v,m,s,e),C.lineEnd=a,a()}var h,f,p,d,g,v,m,y,b,w,x,_,M,C={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}function i(e,n,r,s,u,l,c,h,f,p,d,g,v,m){var y=c-e,b=h-n,w=y*y+b*b;if(w>4*o&&v--){var x=s+p,_=u+d,M=l+g,C=Math.sqrt(x*x+_*_+M*M),k=Math.asin(M/=C),E=sa(sa(M)-1)<Sa||sa(r-f)<Sa?(r+f)/2:Math.atan2(_,x),T=t(E,k),S=T[0],A=T[1],N=S-e,R=A-n,j=b*N-y*R;(j*j/w>o||sa((y*N+b*R)/w-.5)>.3||s*p+u*d+l*g<a)&&(i(e,n,r,s,u,l,S,A,E,x/=C,_/=C,M,v,m),m.point(S,A),i(S,A,E,x,_,M,c,h,f,p,d,g,v,m))}}var o=.5,a=Math.cos(30*Na),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function be(t){var e=ye(function(e,n){return t([e*Ra,n*Ra])});return function(t){return Ce(e(t))}}function we(t){this.stream=t}function xe(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function _e(t){return Me(function(){return t})()}function Me(t){function e(t){return t=s(t[0]*Na,t[1]*Na),[t[0]*f+u,l-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(l-t[1])/f),t&&[t[0]*Ra,t[1]*Ra]}function r(){s=ae(a=Te(m,y,b),o);var t=o(g,v);return u=p-t[0]*f,l=d+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=ye(function(t,e){return t=o(t,e),[t[0]*f+u,l-t[1]*f]}),f=150,p=480,d=250,g=0,v=0,m=0,y=0,b=0,w=Es,x=vt,_=null,M=null;return e.stream=function(t){return c&&(c.valid=!1),c=Ce(w(a,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(_=t,Es):re((_=+t)*Na),i()):_},e.clipExtent=function(t){return arguments.length?(M=t,x=t?oe(t[0][0],t[0][1],t[1][0],t[1][1]):vt,i()):M},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},e.center=function(t){return arguments.length?(g=t[0]%360*Na,v=t[1]%360*Na,r()):[g*Ra,v*Ra]},e.rotate=function(t){return arguments.length?(m=t[0]%360*Na,y=t[1]%360*Na,b=t.length>2?t[2]%360*Na:0,r()):[m*Ra,y*Ra,b*Ra]},Jo.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function Ce(t){return xe(t,function(e,n){t.point(e*Na,n*Na)})}function ke(t,e){return[t,e]}function Ee(t,e){return[t>ka?t-Ea:t<-ka?t+Ea:t,e]}function Te(t,e,n){return t?e||n?ae(Ae(t),Ne(e,n)):Ae(t):e||n?Ne(e,n):Ee}function Se(t){return function(e,n){return e+=t,[e>ka?e-Ea:e<-ka?e+Ea:e,n]}}function Ae(t){var e=Se(t);return e.invert=Se(-t),e}function Ne(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),P(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),P(c*r-s*i)]},n}function Re(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=je(n,i),
o=je(n,o),(a>0?i<o:i>o)&&(i+=a*Ea)):(i=t+a*Ea,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=$t([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function je(t,e){var n=jt(e);n[0]-=t,Ot(n);var r=I(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Sa)%(2*Math.PI)}function De(t,e,n){var r=Jo.range(t,e-Sa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function qe(t,e,n){var r=Jo.range(t,e-Sa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Ve(t){return t.source}function Le(t){return t.target}function Oe(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(B(r-e)+i*a*B(n-t))),p=1/Math.sin(f),d=f?function(t){var e=Math.sin(t*=f)*p,n=Math.sin(f-t)*p,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Ra,Math.atan2(a,Math.sqrt(r*r+i*i))*Ra]}:function(){return[t*Ra,e*Ra]};return d.distance=f,d}function $e(){function t(t,i){var o=Math.sin(i*=Na),a=Math.cos(i),s=sa((t*=Na)-e),u=Math.cos(s);Os+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;$s.point=function(i,o){e=i*Na,n=Math.sin(o*=Na),r=Math.cos(o),$s.point=t},$s.lineEnd=function(){$s.point=$s.lineEnd=u}}function Ie(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Pe(t,e){function n(t,e){var n=sa(sa(e)-Ta)<Sa?0:a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(ka/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=$(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ta]},n):He}function Fe(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return sa(i)<Sa?ke:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-$(i)*Math.sqrt(t*t+n*n)]},n)}function He(t,e){return[t,Math.log(Math.tan(ka/4+e/2))]}function ze(t){var e,n=_e(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=ka*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Be(t,e){return[Math.log(Math.tan(ka/4+e/2)),-t]}function Ue(t){return t[0]}function We(t){return t[1]}function Ge(t,e,n,r){var i,o,a,s,u,l,c;return i=r[t],o=i[0],a=i[1],i=r[e],s=i[0],u=i[1],i=r[n],l=i[0],c=i[1],(c-a)*(s-o)-(u-a)*(l-o)>0}function Ye(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Je(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function Xe(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Qe(){bn(this),this.edge=this.site=this.circle=null}function Ze(t){var e=Xs.pop()||new Qe;return e.site=t,e}function Ke(t){cn(t),Gs.remove(t),Xs.push(t),bn(t)}function tn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Ke(t);for(var u=o;u.circle&&sa(n-u.circle.x)<Sa&&sa(r-u.circle.cy)<Sa;)o=u.P,s.unshift(u),Ke(u),u=o;s.unshift(u),cn(u);for(var l=a;l.circle&&sa(n-l.circle.x)<Sa&&sa(r-l.circle.cy)<Sa;)a=l.N,s.push(l),Ke(l),l=a;s.push(l),cn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],vn(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=dn(u.site,l.site,null,i),ln(u),ln(l)}function en(t){for(var e,n,r,i,o=t.x,a=t.y,s=Gs._;s;)if(r=nn(s,a)-o,r>Sa)s=s.L;else{if(i=o-rn(s,a),!(i>Sa)){r>-Sa?(e=s.P,n=s):i>-Sa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Ze(t);if(Gs.insert(e,u),e||n){if(e===n)return cn(e),n=Ze(e.site),Gs.insert(u,n),u.edge=n.edge=dn(e.site,u.site),ln(e),void ln(n);if(!n)return void(u.edge=dn(e.site,u.site));cn(e),cn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,p=t.y-h,d=n.site,g=d.x-c,v=d.y-h,m=2*(f*v-p*g),y=f*f+p*p,b=g*g+v*v,w={x:(v*y-p*b)/m+c,y:(f*b-g*y)/m+h};vn(n.edge,l,d,w),u.edge=dn(l,t,null,w),n.edge=dn(t,d,null,w),ln(e),ln(n)}}function nn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function rn(t,e){var n=t.N;if(n)return nn(n,e);var r=t.site;return r.y===e?r.x:1/0}function on(t){this.site=t,this.edges=[]}function an(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],p=t[0][1],d=t[1][1],g=Ws,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(s=o.edges,u=s.length,a=0;a<u;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(sa(r-e)>Sa||sa(i-n)>Sa)&&(s.splice(a,0,new mn(gn(o.site,c,sa(r-h)<Sa&&d-i>Sa?{x:h,y:sa(e-h)<Sa?n:d}:sa(i-d)<Sa&&f-r>Sa?{x:sa(n-d)<Sa?e:f,y:d}:sa(r-f)<Sa&&i-p>Sa?{x:f,y:sa(e-f)<Sa?n:p}:sa(i-p)<Sa&&r-h>Sa?{x:sa(n-p)<Sa?e:h,y:p}:null),o.site,null)),++u)}function sn(t,e){return e.angle-t.angle}function un(){bn(this),this.x=this.y=this.arc=this.site=this.cy=null}function ln(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,f=2*(u*h-l*c);if(!(f>=-Aa)){var p=u*u+l*l,d=c*c+h*h,g=(h*p-l*d)/f,v=(u*d-c*p)/f,h=v+s,m=Qs.pop()||new un;m.arc=t,m.site=i,m.x=g+a,m.y=h+Math.sqrt(g*g+v*v),m.cy=h,t.circle=m;for(var y=null,b=Js._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Js.insert(y,m),y||(Ys=m)}}}}function cn(t){var e=t.circle;e&&(e.P||(Ys=e.N),Js.remove(e),Qs.push(e),bn(e),t.circle=null)}function hn(t){for(var e,n=Us,r=ie(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!fn(e,t)||!r(e)||sa(e.a.x-e.b.x)<Sa&&sa(e.a.y-e.b.y)<Sa)&&(e.a=e.b=null,n.splice(i,1))}function fn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,p=c.y,d=h.x,g=h.y,v=(f+d)/2,m=(p+g)/2;if(g===p){if(v<a||v>=s)return;if(f>d){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(r=(f-d)/(g-p),i=m-r*v,r<-1||r>1)if(f>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(p<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function pn(t,e){this.l=t,this.r=e,this.a=this.b=null}function dn(t,e,n,r){var i=new pn(t,e);return Us.push(i),n&&vn(i,t,e,n),r&&vn(i,e,t,r),Ws[t.i].edges.push(new mn(i,t,e)),Ws[e.i].edges.push(new mn(i,e,t)),i}function gn(t,e,n){var r=new pn(t,null);return r.a=e,r.b=n,Us.push(r),r}function vn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function mn(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function yn(){this._=null}function bn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function wn(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function xn(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function _n(t){for(;t.L;)t=t.L;return t}function Mn(t,e){var n,r,i,o=t.sort(Cn).pop();for(Us=[],Ws=new Array(t.length),Gs=new yn,Js=new yn;;)if(i=Ys,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Ws[o.i]=new on(o),en(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;tn(i.arc)}e&&(hn(e),an(e));var a={cells:Ws,edges:Us};return Gs=Js=Us=Ws=null,a}function Cn(t,e){return e.y-t.y||e.x-t.x}function kn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function En(t){return t.x}function Tn(t){return t.y}function Sn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function An(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&An(t,u[0],n,r,a,s),u[1]&&An(t,u[1],a,r,i,s),u[2]&&An(t,u[2],n,s,a,o),u[3]&&An(t,u[3],a,s,i,o)}}function Nn(t,e){t=Jo.rgb(t),e=Jo.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+lt(Math.round(n+o*t))+lt(Math.round(r+a*t))+lt(Math.round(i+s*t))}}function Rn(t,e){var n,r={},i={};for(n in t)n in e?r[n]=qn(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function jn(t,e){return e-=t=+t,function(n){return t+e*n}}function Dn(t,e){var n,r,i,o,a,s=0,u=0,l=[],c=[];for(t+="",e+="",Ks.lastIndex=0,r=0;n=Ks.exec(e);++r)n.index&&l.push(e.substring(s,u=n.index)),c.push({i:l.length,x:n[0]}),l.push(null),s=Ks.lastIndex;for(s<e.length&&l.push(e.substring(s)),r=0,o=c.length;(n=Ks.exec(t))&&r<o;++r)if(a=c[r],a.x==n[0]){if(a.i)if(null==l[a.i+1])for(l[a.i-1]+=a.x,l.splice(a.i,1),i=r+1;i<o;++i)c[i].i--;else for(l[a.i-1]+=a.x+l[a.i+1],l.splice(a.i,2),i=r+1;i<o;++i)c[i].i-=2;else if(null==l[a.i+1])l[a.i]=a.x;else for(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1),i=r+1;i<o;++i)c[i].i--;c.splice(r,1),o--,r--}else a.x=jn(parseFloat(n[0]),parseFloat(a.x));for(;r<o;)a=c.pop(),null==l[a.i+1]?l[a.i]=a.x:(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1)),o--;return 1===l.length?null==l[0]?(a=c[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(r=0;r<o;++r)l[(a=c[r]).i]=a.x(t);return l.join("")}}function qn(t,e){for(var n,r=Jo.interpolators.length;--r>=0&&!(n=Jo.interpolators[r](t,e)););return n}function Vn(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(qn(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function Ln(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function On(t){return function(e){return 1-t(1-e)}}function $n(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function In(t){return t*t}function Pn(t){return t*t*t}function Fn(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Hn(t){return function(e){return Math.pow(e,t)}}function zn(t){return 1-Math.cos(t*Ta)}function Bn(t){return Math.pow(2,10*(t-1))}function Un(t){return 1-Math.sqrt(1-t*t)}function Wn(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ea*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ea/e)}}function Gn(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Yn(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Jn(t,e){t=Jo.hcl(t),e=Jo.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return Q(n+o*t,r+a*t,i+s*t)+""}}function Xn(t,e){t=Jo.hsl(t),e=Jo.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return Y(n+o*t,r+a*t,i+s*t)+""}}function Qn(t,e){t=Jo.lab(t),e=Jo.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return tt(n+o*t,r+a*t,i+s*t)+""}}function Zn(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Kn(t){var e=[t.a,t.b],n=[t.c,t.d],r=er(e),i=tr(e,n),o=er(nr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ra,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ra:0}function tr(t,e){return t[0]*e[0]+t[1]*e[1]}function er(t){var e=Math.sqrt(tr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function nr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function rr(t,e){var n,r=[],i=[],o=Jo.transform(t),a=Jo.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,h=o.skew,f=a.skew,p=o.scale,d=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:jn(s[0],u[0])},{i:3,x:jn(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:jn(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:jn(h,f)}):f&&r.push(r.pop()+"skewX("+f+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:jn(p[0],d[0])},{i:n-2,x:jn(p[1],d[1])})):1==d[0]&&1==d[1]||r.push(r.pop()+"scale("+d+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function ir(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function or(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function ar(t){for(var e=t.source,n=t.target,r=ur(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function sr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ur(t,e){if(t===e)return t;for(var n=sr(t),r=sr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function lr(t){t.fixed|=2}function cr(t){t.fixed&=-7}function hr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function fr(t){t.fixed&=-5}function pr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(pr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function dr(t,e){return Jo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=yr,t}function gr(t){return t.children}function vr(t){return t.value}function mr(t,e){return e.value-t.value}function yr(t){return Jo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function br(t){return t.x}function wr(t){return t.y}function xr(t,e,n){t.y0=e,t.y=n}function _r(t){return Jo.range(t.length)}function Mr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Cr(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function kr(t){return t.reduce(Er,0)}function Er(t,e){return t+e[1]}function Tr(t,e){return Sr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Sr(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Ar(t){return[Jo.min(t),Jo.max(t)]}function Nr(t,e){return t.parent==e.parent?1:2}function Rr(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function jr(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Dr(t,e){var n=t.children;if(n&&(i=n.length))for(var r,i,o=-1;++o<i;)e(r=Dr(n[o],e),t)>0&&(t=r);return t}function qr(t,e){return t.x-e.x}function Vr(t,e){return e.x-t.x}function Lr(t,e){return t.depth-e.depth}function Or(t,e){function n(t,r){var i=t.children;if(i&&(a=i.length))for(var o,a,s=null,u=-1;++u<a;)o=i[u],n(o,s),s=o;e(t,r)}n(t,null)}function $r(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}function Ir(t,e,n){t=t._tree,e=e._tree;var r=n/(e.number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function Pr(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function Fr(t,e){return t.value-e.value}function Hr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function zr(t,e){t._pack_next=e,e._pack_prev=t}function Br(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Ur(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-(1/0),f=1/0,p=-(1/0);if(n.forEach(Wr),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(o=n[2],Jr(r,i,o),e(o),Hr(r,o),r._pack_prev=o,Hr(o,i),i=r._pack_next,a=3;a<l;a++){Jr(r,i,o=n[a]);var d=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Br(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!Br(u,o);u=u._pack_prev,v++);d?(g<v||g==v&&i.r<r.r?zr(r,i=s):zr(r=u,i),a--):(Hr(r,o),i=o,e(o))}var m=(c+h)/2,y=(f+p)/2,b=0;for(a=0;a<l;a++)o=n[a],o.x-=m,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Gr)}}function Wr(t){t._pack_next=t._pack_prev=t}function Gr(t){delete t._pack_next,delete t._pack_prev}function Yr(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Yr(i[o],e,n,r)}function Jr(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Xr(t){return 1+Jo.max(t,function(t){return t.y})}function Qr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Zr(t){var e=t.children;return e&&e.length?Zr(e[0]):t}function Kr(t){var e,n=t.children;return n&&(e=n.length)?Kr(n[e-1]):t}function ti(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ei(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ni(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ri(t){return t.rangeExtent?t.rangeExtent():ni(t.range())}function ii(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function oi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function ai(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:lu}function si(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=Jo.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function ui(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?si:ii,u=r?or:ir;return a=i(t,e,u,n),s=i(e,t,u,qn),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Zn)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return fi(t,e)},o.tickFormat=function(e,n){return pi(t,e,n)},o.nice=function(e){return ci(t,e),i()},o.copy=function(){return ui(t,e,n,r)},i()}function li(t,e){return Jo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ci(t,e){return oi(t,ai(hi(t,e)[2]))}function hi(t,e){null==e&&(e=10);var n=ni(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function fi(t,e){return Jo.range.apply(Jo,hi(t,e))}function pi(t,e,n){var r=hi(t,e);return Jo.format(n?n.replace(is,function(t,e,n,i,o,a,s,u,l,c){return[e,n,i,o,a,s,u,l||"."+gi(c,r),c].join("")}):",."+di(r[2])+"f")}function di(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function gi(t,e){var n=di(e[2]);return t in cu?Math.abs(n-di(Math.max(Math.abs(e[0]),Math.abs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function vi(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=oi(r.map(i),n?Math:fu);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=ni(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var f=1;f<h;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return hu;arguments.length<2?e=hu:"function"!=typeof e&&(e=Jo.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return vi(t.copy(),e,n,r)},li(a,t)}function mi(t,e,n){function r(e){return t(i(e))}var i=yi(e),o=yi(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return fi(n,t)},r.tickFormat=function(t,e){return pi(n,t,e)},r.nice=function(t){return r.domain(ci(n,t))},r.exponent=function(a){return arguments.length?(i=yi(e=a),o=yi(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return mi(t.copy(),e,n)},li(r,t)}function yi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bi(t,e){function n(n){return a[((o.get(n)||"range"===e.t&&o.set(n,t.push(n)))-1)%a.length]}function r(e,n){return Jo.range(t.length).map(function(t){return e+n*t})}var o,a,s;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new i;for(var a,s=-1,u=r.length;++s<u;)o.has(a=r[s])||o.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(i,o){arguments.length<2&&(o=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,t.length-1)+o);return a=r(t.length<2?(u+l)/2:u+c*o/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=(h-c)/(t.length-o+2*u);return a=r(c+f*u,f),l&&a.reverse(),s=f*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=Math.floor((h-c)/(t.length-o+2*u)),p=h-c-(t.length-o)*f;return a=r(c+Math.round(p/2),f),l&&a.reverse(),s=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return ni(e.a[0])},n.copy=function(){return bi(t,e)},n.domain(t)}function wi(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=Jo.quantile(t,n/o);return r}function r(t){if(!isNaN(t=+t))return e[Jo.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(Jo.ascending),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?i[n-1]:t[0],n<i.length?i[n]:t[t.length-1]]},r.copy=function(){return wi(t,e)},n()}function xi(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return xi(t,e,n)},i()}function _i(t,e){function n(n){if(n<=n)return e[Jo.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return _i(t,e)},n}function Mi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return fi(t,e)},e.tickFormat=function(e,n){return pi(t,e,n)},e.copy=function(){return Mi(t)},e}function Ci(t){return t.innerRadius}function ki(t){return t.outerRadius}function Ei(t){return t.startAngle}function Ti(t){return t.endAngle}function Si(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,f=e.length,p=gt(n),d=gt(r);++h<f;)i.call(this,u=e[h],h)?c.push([+p.call(this,u,h),+d.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Ue,r=We,i=Ut,o=Ai,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=bu.get(t)||Ai).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ai(t){return t.join("L")}function Ni(t){return Ai(t)+"Z"}function Ri(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ji(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Di(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function qi(t,e){return t.length<4?Ai(t):t[1]+Oi(t.slice(1,t.length-1),$i(t,e))}function Vi(t,e){return t.length<3?Ai(t):t[0]+Oi((t.push(t[0]),t),$i([t[t.length-2]].concat(t,[t[1]]),e))}function Li(t,e){return t.length<3?Ai(t):t[0]+Oi(t,$i(t,e))}function Oi(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ai(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function $i(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ii(t){if(t.length<3)return Ai(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",zi(_u,a),",",zi(_u,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Bi(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Pi(t){if(t.length<4)return Ai(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(zi(_u,o)+","+zi(_u,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Bi(n,o,a);return n.join("")}function Fi(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[zi(_u,a),",",zi(_u,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Bi(e,a,s);return e.join("")}function Hi(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Ii(t)}function zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Bi(t,e,n){t.push("C",zi(wu,e),",",zi(wu,n),",",zi(xu,e),",",zi(xu,n),",",zi(_u,e),",",zi(_u,n))}function Ui(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Wi(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Ui(i,o);++e<n;)r[e]=(a+(a=Ui(i=o,o=t[e+1])))/2;return r[e]=a,r}function Gi(t){for(var e,n,r,i,o=[],a=Wi(t),s=-1,u=t.length-1;++s<u;)e=Ui(t[s],t[s+1]),sa(e)<Sa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Yi(t){return t.length<3?Ai(t):t[0]+Oi(t,Gi(t))}function Ji(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]+mu,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Xi(t){function e(e){function u(){g.push("M",s(t(m),h),c,l(t(v.reverse()),h),"Z")}for(var f,p,d,g=[],v=[],m=[],y=-1,b=e.length,w=gt(n),x=gt(i),_=n===r?function(){return p}:gt(r),M=i===o?function(){return d}:gt(o);++y<b;)a.call(this,f=e[y],y)?(v.push([p=+w.call(this,f,y),d=+x.call(this,f,y)]),m.push([+_.call(this,f,y),+M.call(this,f,y)])):v.length&&(u(),v=[],m=[]);return v.length&&u(),g.length?g.join(""):null}var n=Ue,r=Ue,i=0,o=We,a=Ut,s=Ai,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=bu.get(t)||Ai).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Qi(t){return t.radius}function Zi(t){return[t.x,t.y]}function Ki(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+mu;return[n*Math.cos(r),n*Math.sin(r)]}}function to(){return 64}function eo(){return"circle"}function no(t){var e=Math.sqrt(t/ka);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ro(t,e){return fa(t,Su),t.id=e,t}function io(t,e,n,r){var i=t.id;return A(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function oo(t){return null==t&&(t=""),function(){this.textContent=t}}function ao(t,e,n,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),a=o[n];if(!a){var s=r.time;a=o[n]={tween:new i,time:s,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,Jo.timer(function(r){function i(r){return o.active>n?l():(o.active=n,a.event&&a.event.start.call(t,c,e),a.tween.forEach(function(n,r){(r=r.call(t,c,e))&&g.push(r)}),void Jo.timer(function(){return d.c=u(r||1)?Ut:u,1},0,s))}function u(r){if(o.active!==n)return l();for(var i=r/p,s=h(i),u=g.length;u>0;)g[--u].call(t,s);return i>=1?(a.event&&a.event.end.call(t,c,e),l()):void 0}function l(){return--o.count?delete o[n]:delete t.__transition__,1}var c=t.__data__,h=a.ease,f=a.delay,p=a.duration,d=Qa,g=[];return d.t=f+s,f<=r?i(r-f):void(d.c=i)},0,s)}}function so(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function uo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function lo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function co(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Vu(n-1)),1),n}function o(t,n){return e(t=new Vu(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{Vu=lo;var r=new lo;return r._=t,a(r,e,n)}finally{Vu=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=ho(t);return u.floor=u,u.round=ho(r),u.ceil=ho(i),u.offset=ho(o),u.range=s,t}function ho(t){return function(e,n){try{Vu=lo;var r=new lo;return r._=e,t(r,n)._}finally{Vu=Date}}}function fo(t){function e(e){for(var r,i,o,a=[],s=-1,u=0;++s<n;)37===t.charCodeAt(s)&&(a.push(t.substring(u,s)),null!=(i=tl[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=el[r])&&(r=o(e,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(t.substring(u,s)),a.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=po(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Vu!==lo,o=new(i?lo:Vu);return"j"in n?o.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),i?o._:o},e.toString=function(){return t},e}function po(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=nl[a in tl?e.charAt(s++):a],
!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function go(t){return new RegExp("^(?:"+t.map(Jo.requote).join("|")+")","i")}function vo(t){for(var e=new i,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function mo(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function yo(t,e,n){Gu.lastIndex=0;var r=Gu.exec(e.substring(n));return r?(t.w=Yu.get(r[0].toLowerCase()),n+r[0].length):-1}function bo(t,e,n){Uu.lastIndex=0;var r=Uu.exec(e.substring(n));return r?(t.w=Wu.get(r[0].toLowerCase()),n+r[0].length):-1}function wo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function _o(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Mo(t,e,n){Qu.lastIndex=0;var r=Qu.exec(e.substring(n));return r?(t.m=Zu.get(r[0].toLowerCase()),n+r[0].length):-1}function Co(t,e,n){Ju.lastIndex=0;var r=Ju.exec(e.substring(n));return r?(t.m=Xu.get(r[0].toLowerCase()),n+r[0].length):-1}function ko(t,e,n){return po(t,el.c.toString(),e,n)}function Eo(t,e,n){return po(t,el.x.toString(),e,n)}function To(t,e,n){return po(t,el.X.toString(),e,n)}function So(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ao(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+2));return r?(t.y=Ro(+r[0]),n+r[0].length):-1}function No(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1}function Ro(t){return t+(t>68?1900:2e3)}function jo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Do(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Vo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Lo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Oo(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $o(t,e,n){rl.lastIndex=0;var r=rl.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Io(t,e,n){var r=il.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}function Po(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(sa(e)/60),i=sa(e)%60;return n+mo(r,"0",2)+mo(i,"0",2)}function Fo(t,e,n){Ku.lastIndex=0;var r=Ku.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function Ho(t){function e(t){try{Vu=lo;var e=new Vu;return e._=t,n(e)}finally{Vu=Date}}var n=fo(t);return e.parse=function(t){try{Vu=lo;var e=n.parse(t);return e&&e._}finally{Vu=Date}},e.toString=n.toString,e}function zo(t){return t.toISOString()}function Bo(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=Jo.bisect(al,i);return o==al.length?[e.year,hi(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/al[o-1]<al[o]/i?o-1:o]:[cl,hi(t,n)[2]]}return r.invert=function(e){return Uo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Uo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Uo(+n+1),e).length}var o=r.domain(),a=ni(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(oi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Uo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Uo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ni(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Uo(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Bo(t.copy(),e,n)},li(r,t)}function Uo(t){return new Date(t)}function Wo(t){return function(e){for(var n=t.length-1,r=t[n];!r[1](e);)r=t[--n];return r[0](e)}}function Go(t){return JSON.parse(t.responseText)}function Yo(t){var e=Zo.createRange();return e.selectNode(Zo.body),e.createContextualFragment(t.responseText)}var Jo={version:"3.3.13"};Date.now||(Date.now=function(){return+new Date});var Xo=[].slice,Qo=function(t){return Xo.call(t)},Zo=document,Ko=Zo.documentElement,ta=window;try{Qo(Ko.childNodes)[0].nodeType}catch(t){Qo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Zo.createElement("div").style.setProperty("opacity",0,"")}catch(t){var ea=ta.Element.prototype,na=ea.setAttribute,ra=ea.setAttributeNS,ia=ta.CSSStyleDeclaration.prototype,oa=ia.setProperty;ea.setAttribute=function(t,e){na.call(this,t,e+"")},ea.setAttributeNS=function(t,e,n){ra.call(this,t,e,n+"")},ia.setProperty=function(t,e,n){oa.call(this,t,e+"",n)}}Jo.ascending=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Jo.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Jo.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n<=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n<=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},Jo.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n<=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n<=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},Jo.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n<=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n<=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},Jo.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+t[o])||(r+=n);else for(;++o<i;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},Jo.mean=function(e,n){var r,i=e.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<i;)t(r=e[a])&&(o+=(r-o)/++s);else for(;++a<i;)t(r=n.call(e,e[a],a))&&(o+=(r-o)/++s);return s?o:void 0},Jo.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},Jo.median=function(e,n){return arguments.length>1&&(e=e.map(n)),e=e.filter(t),e.length?Jo.quantile(e.sort(Jo.ascending),.5):void 0},Jo.bisector=function(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t.call(e,e[o],o)<n?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;n<t.call(e,e[o],o)?i=o:r=o+1}return r}}};var aa=Jo.bisector(function(t){return t});Jo.bisectLeft=aa.left,Jo.bisect=Jo.bisectRight=aa.right,Jo.shuffle=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t},Jo.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Jo.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=[e=i,i=t[++n]];return o},Jo.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,n=Jo.min(arguments,e),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=arguments[o][t];return r},Jo.transpose=function(t){return Jo.zip.apply(Jo,t)},Jo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Jo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Jo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Jo.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var sa=Math.abs;Jo.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r===1/0)throw new Error("infinite range");var i,o=[],a=n(sa(r)),s=-1;if(t*=a,e*=a,r*=a,r<0)for(;(i=t+r*++s)>e;)o.push(i/a);else for(;(i=t+r*++s)<e;)o.push(i/a);return o},Jo.map=function(t){var e=new i;if(t instanceof i)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},r(i,{has:function(t){return ua+t in this},get:function(t){return this[ua+t]},set:function(t,e){return this[ua+t]=e},remove:function(t){return t=ua+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===la&&t.call(this,e.substring(1),this[e])}});var ua="\0",la=ua.charCodeAt(0);Jo.nest=function(){function t(e,s,u){if(u>=a.length)return r?r.call(o,s):n?s.sort(n):s;for(var l,c,h,f,p=-1,d=s.length,g=a[u++],v=new i;++p<d;)(f=v.get(l=g(c=s[p])))?f.push(c):v.set(l,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,u))}):(c={},h=function(n,r){c[n]=t(e,r,u)}),v.forEach(h),c}function e(t,n){if(n>=a.length)return t;var r=[],i=s[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,o={},a=[],s=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(Jo.map,n,0),0)},o.key=function(t){return a.push(t),o},o.sortKeys=function(t){return s[a.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},Jo.set=function(t){var e=new o;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},r(o,{has:function(t){return ua+t in this},add:function(t){return this[ua+t]=!0,t},remove:function(t){return t=ua+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===la&&t.call(this,e.substring(1))}}),Jo.behavior={},Jo.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=a(t,e,e[n]);return t};var ca=["webkit","ms","moz","Moz","o","O"];Jo.dispatch=function(){for(var t=new l,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=c(t);return t},l.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Jo.event=null,Jo.requote=function(t){return t.replace(ha,"\\$&")};var ha=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,fa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},pa=function(t,e){return e.querySelector(t)},da=function(t,e){return e.querySelectorAll(t)},ga=Ko[s(Ko,"matchesSelector")],va=function(t,e){return ga.call(t,e)};"function"==typeof Sizzle&&(pa=function(t,e){return Sizzle(t,e)[0]||null},da=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},va=Sizzle.matchesSelector),Jo.selection=function(){return wa};var ma=Jo.selection.prototype=[];ma.select=function(t){var e,n,r,i,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return d(o)},ma.selectAll=function(t){var e,n,r=[];t=v(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=Qo(t.call(n,n.__data__,s,i))),e.parentNode=n);return d(r)};var ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Jo.ns={prefix:ya,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),ya.hasOwnProperty(n)?{space:ya[n],local:t}:t}},ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Jo.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(m(e,t[e]));return this}return this.each(m(t,e))},ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=w(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!b(t[i]).test(e))return!1;return!0}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},ma.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(M(n,t[n],e));return this}if(r<2)return ta.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(M(t,e,n))},ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},ma.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ma.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ma.append=function(t){return t=k(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ma.insert=function(t,e){return t=k(t),e=g(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ma.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},ma.data=function(t,e){function n(t,n){var r,o,a,s=t.length,h=n.length,f=Math.min(s,h),p=new Array(h),d=new Array(h),g=new Array(s);if(e){var v,m=new i,y=new i,b=[];for(r=-1;++r<s;)v=e.call(o=t[r],o.__data__,r),m.has(v)?g[r]=o:m.set(v,o),b.push(v);for(r=-1;++r<h;)v=e.call(n,a=n[r],r),(o=m.get(v))?(p[r]=o,o.__data__=a):y.has(v)||(d[r]=E(a)),y.set(v,a),m.remove(v);for(r=-1;++r<s;)m.has(b[r])&&(g[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],a=n[r],o?(o.__data__=a,p[r]=o):d[r]=E(a);for(;r<h;++r)d[r]=E(n[r]);for(;r<s;++r)g[r]=t[r]}d.update=p,d.parentNode=p.parentNode=g.parentNode=t.parentNode,u.push(d),l.push(p),c.push(g)}var r,o,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(r=this[0]).length);++a<s;)(o=r[a])&&(t[a]=o.__data__);return t}var u=N([]),l=d([]),c=d([]);if("function"==typeof t)for(;++a<s;)n(r=this[a],t.call(r,r.parentNode.__data__,a));else for(;++a<s;)n(r=this[a],t);return l.enter=function(){return u},l.exit=function(){return c},l},ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ma.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=T(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return d(i)},ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ma.sort=function(t){t=S.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ma.each=function(t){return A(this,function(e,n,r){t.call(e,e.__data__,n,r)})},ma.call=function(t){var e=Qo(arguments);return t.apply(e[0]=this,e),this},ma.empty=function(){return!this.node()},ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},ma.size=function(){var t=0;return this.each(function(){++t}),t};var ba=[];Jo.selection.enter=N,Jo.selection.enter.prototype=ba,ba.append=ma.append,ba.empty=ma.empty,ba.node=ma.node,ba.call=ma.call,ba.size=ma.size,ba.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return d(a)},ba.insert=function(t,e){return arguments.length<2&&(e=R(this)),ma.insert.call(this,t,e)},ma.transition=function(){for(var t,e,n=Cu||++Au,r=[],i=ku||{time:Date.now(),ease:Fn,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(e=s[u])&&ao(e,u,n,i),t.push(e)}return ro(r,n)},ma.interrupt=function(){return this.each(j)},Jo.select=function(t){var e=["string"==typeof t?pa(t,Zo):t];return e.parentNode=Ko,d([e])},Jo.selectAll=function(t){var e=Qo("string"==typeof t?da(t,Zo):t);return e.parentNode=Ko,d([e])};var wa=Jo.select(Ko);ma.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(D(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(D(t,e,n))};var xa=Jo.map({mouseenter:"mouseover",mouseleave:"mouseout"});xa.forEach(function(t){"on"+t in Zo&&xa.remove(t)});var _a="onselectstart"in Zo?null:s(Ko.style,"userSelect"),Ma=0;Jo.mouse=function(t){return O(t,f())};var Ca=/WebKit/.test(ta.navigator.userAgent)?-1:0;Jo.touches=function(t,e){return arguments.length<2&&(e=f().touches),e?Qo(e).map(function(e){var n=O(t,e);return n.identifier=e.identifier,n}):[]},Jo.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",s)}function e(){return Jo.event.changedTouches[0].identifier}function n(t,e){return Jo.touches(t).filter(function(t){return t.identifier===e})[0]}function r(t,e,n,r){return function(){function a(){var t=e(c,p),n=t[0]-g[0],r=t[1]-g[1];v|=n|r,g=t,h({type:"drag",x:t[0]+u[0],y:t[1]+u[1],dx:n,dy:r})}function s(){m.on(n+"."+d,null).on(r+"."+d,null),y(v&&Jo.event.target===f),h({type:"dragend"})}var u,l=this,c=l.parentNode,h=i.of(l,arguments),f=Jo.event.target,p=t(),d=null==p?"drag":"drag-"+p,g=e(c,p),v=0,m=Jo.select(ta).on(n+"."+d,a).on(r+"."+d,s),y=L();o?(u=o.apply(l,arguments),u=[u.x-g[0],u.y-g[1]]):u=[0,0],h({type:"dragstart"})}}var i=p(t,"drag","dragstart","dragend"),o=null,a=r(u,Jo.mouse,"mousemove","mouseup"),s=r(e,n,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},Jo.rebind(t,i,"on")};var ka=Math.PI,Ea=2*ka,Ta=ka/2,Sa=1e-6,Aa=Sa*Sa,Na=ka/180,Ra=180/ka,ja=Math.SQRT2,Da=2,qa=4;Jo.interpolateZoom=function(t,e){function n(t){var e=t*y;if(m){var n=H(g),a=o/(Da*f)*(n*z(ja*e+g)-F(g));return[r+a*l,i+a*c,o*n/H(ja*e+g)]}return[r+t*l,i+t*c,o*Math.exp(ja*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,h=l*l+c*c,f=Math.sqrt(h),p=(u*u-o*o+qa*h)/(2*o*Da*f),d=(u*u-o*o-qa*h)/(2*u*Da*f),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(d*d+1)-d),m=v-g,y=(m||Math.log(u/o))/ja;return n.duration=1e3*y,n},Jo.behavior.zoom=function(){function t(t){t.on(T,l).on(Oa+".zoom",f).on(S,d).on("dblclick.zoom",g).on(N,c)}function e(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function n(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}function r(t){C.k=Math.max(E[0],Math.min(E[1],t))}function i(t,e){e=n(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function o(){x&&x.domain(w.range().map(function(t){return(t-C.x)/C.k}).map(w.invert)),M&&M.domain(_.range().map(function(t){return(t-C.y)/C.k}).map(_.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function u(t){t({type:"zoomend"})}function l(){function t(){c=1,i(Jo.mouse(r),f),s(o)}function n(){h.on(S,ta===r?d:null).on(A,null),p(c&&Jo.event.target===l),u(o)}var r=this,o=R.of(r,arguments),l=Jo.event.target,c=0,h=Jo.select(ta).on(S,t).on(A,n),f=e(Jo.mouse(r)),p=L();j.call(r),a(o)}function c(){function t(){var t=Jo.touches(d);return p=C.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=e(t))}),t}function n(){for(var e=Jo.event.changedTouches,n=0,o=e.length;n<o;++n)v[e[n].identifier]=null;var a=t(),u=Date.now();if(1===a.length){if(u-b<500){var l=a[0],c=v[l.identifier];r(2*C.k),i(l,c),h(),s(g)}b=u}else if(a.length>1){var l=a[0],f=a[1],p=l[0]-f[0],d=l[1]-f[1];m=p*p+d*d}}function o(){for(var t,e,n,o,a=Jo.touches(d),u=0,l=a.length;u<l;++u,o=null)if(n=a[u],o=v[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*p)}b=null,i(t,e),s(g)}function f(){if(Jo.event.touches.length){for(var e=Jo.event.changedTouches,n=0,r=e.length;n<r;++n)delete v[e[n].identifier];for(var i in v)return void t()}_.on(w,null).on(x,null),M.on(T,l).on(N,c),k(),u(g)}var p,d=this,g=R.of(d,arguments),v={},m=0,y=Jo.event.changedTouches[0].identifier,w="touchmove.zoom-"+y,x="touchend.zoom-"+y,_=Jo.select(ta).on(w,o).on(x,f),M=Jo.select(d).on(T,null).on(N,n),k=L();j.call(d),n(),a(g)}function f(){var t=R.of(this,arguments);y?clearTimeout(y):(j.call(this),a(t)),y=setTimeout(function(){y=null,u(t)},50),h();var n=m||Jo.mouse(this);v||(v=e(n)),r(Math.pow(2,.002*Va())*C.k),i(n,v),s(t)}function d(){v=null}function g(){var t=R.of(this,arguments),n=Jo.mouse(this),o=e(n),l=Math.log(C.k)/Math.LN2;a(t),r(Math.pow(2,Jo.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(t),u(t)}var v,m,y,b,w,x,_,M,C={x:0,y:0,k:1},k=[960,500],E=La,T="mousedown.zoom",S="mousemove.zoom",A="mouseup.zoom",N="touchstart.zoom",R=p(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=C;Cu?Jo.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=k[0],r=k[1],i=n/2,o=r/2,a=Jo.interpolateZoom([(i-C.x)/C.k,(o-C.y)/C.k,n/C.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=C={x:i-r[0]*u,y:o-r[1]*u,k:u},s(t)}}).each("end.zoom",function(){u(t)}):(this.__chart__=C,a(t),s(t),u(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},o(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:+e},o(),t):C.k},t.scaleExtent=function(e){return arguments.length?(E=null==e?La:[+e[0],+e[1]],t):E},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(k=e&&[+e[0],+e[1]],t):k},t.x=function(e){return arguments.length?(x=e,w=e.copy(),C={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(M=e,_=e.copy(),C={x:0,y:0,k:1},t):M},Jo.rebind(t,R,"on")};var Va,La=[0,1/0],Oa="onwheel"in Zo?(Va=function(){return-Jo.event.deltaY*(Jo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Zo?(Va=function(){return Jo.event.wheelDelta},"mousewheel"):(Va=function(){return-Jo.event.detail},"MozMousePixelScroll");U.prototype.toString=function(){return this.rgb()+""},Jo.hsl=function(t,e,n){return 1===arguments.length?t instanceof G?W(t.h,t.s,t.l):ct(""+t,ht,W):W(+t,+e,+n)};var $a=G.prototype=new U;$a.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),W(this.h,this.s,this.l/t)},$a.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),W(this.h,this.s,t*this.l)},$a.rgb=function(){return Y(this.h,this.s,this.l)},Jo.hcl=function(t,e,n){return 1===arguments.length?t instanceof X?J(t.h,t.c,t.l):t instanceof K?et(t.l,t.a,t.b):et((t=ft((t=Jo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):J(+t,+e,+n)};var Ia=X.prototype=new U;Ia.brighter=function(t){return J(this.h,this.c,Math.min(100,this.l+Pa*(arguments.length?t:1)))},Ia.darker=function(t){return J(this.h,this.c,Math.max(0,this.l-Pa*(arguments.length?t:1)))},Ia.rgb=function(){return Q(this.h,this.c,this.l).rgb()},Jo.lab=function(t,e,n){return 1===arguments.length?t instanceof K?Z(t.l,t.a,t.b):t instanceof X?Q(t.l,t.c,t.h):ft((t=Jo.rgb(t)).r,t.g,t.b):Z(+t,+e,+n)};var Pa=18,Fa=.95047,Ha=1,za=1.08883,Ba=K.prototype=new U;Ba.brighter=function(t){return Z(Math.min(100,this.l+Pa*(arguments.length?t:1)),this.a,this.b)},Ba.darker=function(t){return Z(Math.max(0,this.l-Pa*(arguments.length?t:1)),this.a,this.b)},Ba.rgb=function(){return tt(this.l,this.a,this.b)},Jo.rgb=function(t,e,n){return 1===arguments.length?t instanceof ut?st(t.r,t.g,t.b):ct(""+t,st,Y):st(~~t,~~e,~~n)};var Ua=ut.prototype=new U;Ua.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),st(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(r/t)))):st(i,i,i)},Ua.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),st(~~(t*this.r),~~(t*this.g),~~(t*this.b))},Ua.hsl=function(){return ht(this.r,this.g,this.b)},Ua.toString=function(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)};var Wa=Jo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wa.forEach(function(t,e){Wa.set(t,ot(e))}),Jo.functor=gt,Jo.xhr=mt(vt),Jo.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=yt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;c<u;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.substring(e,c-s)}return t.substring(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();e&&!(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new o,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(s).join(t)].concat(e.map(function(e){return i.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},Jo.csv=Jo.dsv(",","text/csv"),Jo.tsv=Jo.dsv("\t","text/tab-separated-values");var Ga,Ya,Ja,Xa,Qa,Za=ta[s(ta,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Jo.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ya?Ya.n=o:Ga=o,Ya=o,Ja||(Xa=clearTimeout(Xa),Ja=1,Za(wt))},Jo.timer.flush=function(){xt(),_t()};var Ka=".",ts=",",es=[3,3],ns="$",rs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Mt);Jo.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=Jo.round(t,Ct(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n<=0?n+1:n-1)/3)))),rs[8+n/3]},Jo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},Jo.format=function(t){var e=is.exec(t),n=e[1]||" ",r=e[2]||">",i=e[3]||"",o=e[4]||"",a=e[5],s=+e[6],u=e[7],l=e[8],c=e[9],h=1,f="",p=!1;switch(l&&(l=+l.substring(1)),(a||"0"===n&&"="===r)&&(a=n="0",r="=",u&&(s-=Math.floor((s-1)/4))),c){case"n":u=!0,c="g";break;case"%":h=100,f="%",c="f";break;case"p":h=100,f="%",c="r";break;case"b":case"o":case"x":case"X":"#"===o&&(o="0"+c.toLowerCase());case"c":case"d":p=!0,l=0;break;case"s":h=-1,c="r"}"#"===o?o="":"$"===o&&(o=ns),"r"!=c||l||(c="g"),null!=l&&("g"==c?l=Math.max(1,Math.min(21,l)):"e"!=c&&"f"!=c||(l=Math.max(0,Math.min(20,l)))),c=os.get(c)||kt;var d=a&&u;return function(t){if(p&&t%1)return"";var e=t<0||0===t&&1/t<0?(t=-t,"-"):i;if(h<0){var g=Jo.formatPrefix(t,l);t=g.scale(t),f=g.symbol}else t*=h;t=c(t,l);var v=t.lastIndexOf("."),m=v<0?t:t.substring(0,v),y=v<0?"":Ka+t.substring(v+1);!a&&u&&(m=as(m));var b=o.length+m.length+y.length+(d?0:e.length),w=b<s?new Array(b=s-b+1).join(n):"";return d&&(m=as(w+m)),e+=o,t=m+y,("<"===r?e+t+w:">"===r?w+e+t:"^"===r?w.substring(0,b>>=1)+e+t+w.substring(b):e+(d?t:w+t))+f}};var is=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,os=Jo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Jo.round(t,Ct(t,e))).toFixed(Math.max(0,Math.min(20,Ct(t*(1+1e-15),e))))}}),as=vt;if(es){var ss=es.length;as=function(t){for(var e=t.length,n=[],r=0,i=es[0];e>0&&i>0;)n.push(t.substring(e-=i,e+i)),i=es[r=(r+1)%ss];return n.reverse().join(ts)}}Jo.geo={},Et.prototype={s:0,t:0,add:function(t){Tt(t,this.t,us),Tt(us.s,this.s,this),this.s?this.t+=us.t:this.s=us.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var us=new Et;Jo.geo.stream=function(t,e){t&&ls.hasOwnProperty(t.type)?ls[t.type](t,e):St(t,e)};var ls={Feature:function(t,e){St(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)St(n[r].geometry,e)}},cs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){At(t.coordinates,e,0)},MultiLineString:function(t,e){
for(var n=t.coordinates,r=-1,i=n.length;++r<i;)At(n[r],e,0)},Polygon:function(t,e){Nt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Nt(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)St(n[r],e)}};Jo.geo.area=function(t){return hs=0,Jo.geo.stream(t,ps),hs};var hs,fs=new Et,ps={sphere:function(){hs+=4*ka},point:u,lineStart:u,lineEnd:u,polygonStart:function(){fs.reset(),ps.lineStart=Rt},polygonEnd:function(){var t=2*fs;hs+=t<0?4*ka+t:t,ps.lineStart=ps.lineEnd=ps.point=u}};Jo.geo.bounds=function(){function t(t,e){b.push(w=[c=t,f=t]),e<h&&(h=e),e>p&&(p=e)}function e(e,n){var r=jt([e*Na,n*Na]);if(m){var i=qt(m,r),o=[i[1],-i[0],0],a=qt(o,i);Ot(a),a=$t(a);var u=e-d,l=u>0?1:-1,g=a[0]*Ra*l,v=sa(u)>180;if(v^(l*d<g&&g<l*e)){var y=a[1]*Ra;y>p&&(p=y)}else if(g=(g+360)%360-180,v^(l*d<g&&g<l*e)){var y=-a[1]*Ra;y<h&&(h=y)}else n<h&&(h=n),n>p&&(p=n);v?e<d?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(e<c&&(c=e),e>f&&(f=e)):e>d?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);m=r,d=e}function n(){x.point=e}function r(){w[0]=c,w[1]=f,x.point=t,m=null}function i(t,n){if(m){var r=t-d;y+=sa(r)>180?r+(r>0?360:-360):r}else g=t,v=n;ps.point(t,n),e(t,n)}function o(){ps.lineStart()}function a(){i(g,v),ps.lineEnd(),sa(y)>Sa&&(c=-(f=180)),w[0]=c,w[1]=f,m=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,p,d,g,v,m,y,b,w,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,ps.polygonStart()},polygonEnd:function(){ps.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,fs<0?(c=-(f=180),h=-(p=90)):y>Sa?p=90:y<-Sa&&(h=-90),w[0]=c,w[1]=f}};return function(t){p=f=-(c=h=1/0),b=[],Jo.geo.stream(t,x);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];r<e;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-(1/0),e=o.length-1,r=0,i=o[e];r<=e;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,c=n[0],f=i[1])}return b=w=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,p]]}}(),Jo.geo.centroid=function(t){ds=gs=vs=ms=ys=bs=ws=xs=_s=Ms=Cs=0,Jo.geo.stream(t,ks);var e=_s,n=Ms,r=Cs,i=e*e+n*n+r*r;return i<Aa&&(e=bs,n=ws,r=xs,gs<Sa&&(e=vs,n=ms,r=ys),i=e*e+n*n+r*r,i<Aa)?[NaN,NaN]:[Math.atan2(n,e)*Ra,P(r/Math.sqrt(i))*Ra]};var ds,gs,vs,ms,ys,bs,ws,xs,_s,Ms,Cs,ks={sphere:u,point:Pt,lineStart:Ht,lineEnd:zt,polygonStart:function(){ks.lineStart=Bt},polygonEnd:function(){ks.lineStart=Ht}},Es=Jt(Ut,te,ne,[-ka,-ka/2]),Ts=1e9;Jo.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=oe(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Jo.geo.conicEqualArea=function(){return se(ue)}).raw=ue,Jo.geo.albers=function(){return Jo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Jo.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=Jo.geo.albers(),a=Jo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Jo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Sa,h+.12*l+Sa],[c-.214*l-Sa,h+.234*l-Sa]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Sa,h+.166*l+Sa],[c-.115*l-Sa,h+.234*l-Sa]]).stream(u).point,t},t.scale(1070)};var Ss,As,Ns,Rs,js,Ds,qs={point:u,lineStart:u,lineEnd:u,polygonStart:function(){As=0,qs.lineStart=le},polygonEnd:function(){qs.lineStart=qs.lineEnd=qs.point=u,Ss+=sa(As/2)}},Vs={point:ce,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u},Ls={point:pe,lineStart:de,lineEnd:ge,polygonStart:function(){Ls.lineStart=ve},polygonEnd:function(){Ls.point=pe,Ls.lineStart=de,Ls.lineEnd=ge}};Jo.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),Jo.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Ss=0,Jo.geo.stream(t,i(qs)),Ss},t.centroid=function(t){return vs=ms=ys=bs=ws=xs=_s=Ms=Cs=0,Jo.geo.stream(t,i(Ls)),Cs?[_s/Cs,Ms/Cs]:xs?[bs/xs,ws/xs]:ys?[vs/ys,ms/ys]:[NaN,NaN]},t.bounds=function(t){return js=Ds=-(Ns=Rs=1/0),Jo.geo.stream(t,i(Vs)),[[Ns,Rs],[js,Ds]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||be(t):vt,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new he:new me(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(Jo.geo.albersUsa()).context(null)},Jo.geo.transform=function(t){return{stream:function(e){var n=new we(e);for(var r in t)n[r]=t[r];return n}}},we.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Jo.geo.projection=_e,Jo.geo.projectionMutator=Me,(Jo.geo.equirectangular=function(){return _e(ke)}).raw=ke.invert=ke,Jo.geo.rotation=function(t){function e(e){return e=t(e[0]*Na,e[1]*Na),e[0]*=Ra,e[1]*=Ra,e}return t=Te(t[0]%360*Na,t[1]*Na,t.length>2?t[2]*Na:0),e.invert=function(e){return e=t.invert(e[0]*Na,e[1]*Na),e[0]*=Ra,e[1]*=Ra,e},e},Ee.invert=ke,Jo.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=Te(-t[0]*Na,-t[1]*Na,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ra,t[1]*=Ra}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=Re((e=+r)*Na,i*Na),t):e},t.precision=function(r){return arguments.length?(n=Re(e*Na,(i=+r)*Na),t):i},t.angle(90)},Jo.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Na,i=t[1]*Na,o=e[1]*Na,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},Jo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Jo.range(Math.ceil(o/v)*v,i,v).map(f).concat(Jo.range(Math.ceil(l/m)*m,u,m).map(p)).concat(Jo.range(Math.ceil(r/d)*d,n,d).filter(function(t){return sa(t%v)>Sa}).map(c)).concat(Jo.range(Math.ceil(s/g)*g,a,g).filter(function(t){return sa(t%m)>Sa}).map(h))}var n,r,i,o,a,s,u,l,c,h,f,p,d=10,g=d,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(p(u).slice(1),f(i).reverse().slice(1),p(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(d=+e[0],g=+e[1],t):[d,g]},t.precision=function(e){return arguments.length?(y=+e,c=De(s,a,90),h=qe(r,n,y),f=De(l,u,90),p=qe(o,i,y),t):y},t.majorExtent([[-180,-90+Sa],[180,90-Sa]]).minorExtent([[-180,-80-Sa],[180,80+Sa]])},Jo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=Ve,i=Le;return t.distance=function(){return Jo.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},Jo.geo.interpolate=function(t,e){return Oe(t[0]*Na,t[1]*Na,e[0]*Na,e[1]*Na)},Jo.geo.length=function(t){return Os=0,Jo.geo.stream(t,$s),Os};var Os,$s={sphere:u,point:u,lineStart:$e,lineEnd:u,polygonStart:u,polygonEnd:u},Is=Ie(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Jo.geo.azimuthalEqualArea=function(){return _e(Is)}).raw=Is;var Ps=Ie(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},vt);(Jo.geo.azimuthalEquidistant=function(){return _e(Ps)}).raw=Ps,(Jo.geo.conicConformal=function(){return se(Pe)}).raw=Pe,(Jo.geo.conicEquidistant=function(){return se(Fe)}).raw=Fe;var Fs=Ie(function(t){return 1/t},Math.atan);(Jo.geo.gnomonic=function(){return _e(Fs)}).raw=Fs,He.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ta]},(Jo.geo.mercator=function(){return ze(He)}).raw=He;var Hs=Ie(function(){return 1},Math.asin);(Jo.geo.orthographic=function(){return _e(Hs)}).raw=Hs;var zs=Ie(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Jo.geo.stereographic=function(){return _e(zs)}).raw=zs,Be.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ta]},(Jo.geo.transverseMercator=function(){var t=ze(Be),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[-t[1],t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=Be,Jo.geom={},Jo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i,o,a,s,u,l,c,h,f,p,d,g=gt(n),v=gt(r),m=t.length,y=m-1,b=[],w=[],x=0;if(g===Ue&&r===We)e=t;else for(o=0,e=[];o<m;++o)e.push([+g.call(this,i=t[o],o),+v.call(this,i,o)]);for(o=1;o<m;++o)(e[o][1]<e[x][1]||e[o][1]==e[x][1]&&e[o][0]<e[x][0])&&(x=o);for(o=0;o<m;++o)o!==x&&(u=e[o][1]-e[x][1],s=e[o][0]-e[x][0],b.push({angle:Math.atan2(u,s),index:o}));for(b.sort(function(t,e){return t.angle-e.angle}),p=b[0].angle,f=b[0].index,h=0,o=1;o<y;++o){if(a=b[o].index,p==b[o].angle){if(s=e[f][0]-e[x][0],u=e[f][1]-e[x][1],l=e[a][0]-e[x][0],c=e[a][1]-e[x][1],s*s+u*u>=l*l+c*c){b[o].index=-1;continue}b[h].index=-1}p=b[o].angle,h=o,f=a}for(w.push(x),o=0,a=0;o<2;++a)b[a].index>-1&&(w.push(b[a].index),o++);for(d=w.length;a<y;++a)if(!(b[a].index<0)){for(;!Ge(w[d-2],w[d-1],b[a].index,e);)--d;w[d++]=b[a].index}var _=[];for(o=d-1;o>=0;--o)_.push(t[w[o]]);return _}var n=Ue,r=We;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Jo.geom.polygon=function(t){return fa(t,Bs),t};var Bs=Jo.geom.polygon.prototype=[];Bs.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Bs.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Bs.clip=function(t){for(var e,n,r,i,o,a,s=Xe(t),u=-1,l=this.length-Xe(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Ye(a,c,i)?(Ye(o,c,i)||t.push(Je(o,a,c,i)),t.push(a)):Ye(o,c,i)&&t.push(Je(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Us,Ws,Gs,Ys,Js,Xs=[],Qs=[];on.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(sn),e.length},mn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},yn.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=_n(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(wn(this,n),t=n,n=t.U),n.C=!1,r.C=!0,xn(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(xn(this,n),t=n,n=t.U),n.C=!1,r.C=!0,wn(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?_n(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,wn(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,xn(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,wn(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,xn(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,wn(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,xn(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Jo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return Mn(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Sa)*Sa,y:Math.round(a(t,e)/Sa)*Sa,i:e}})}var r=Ue,i=We,o=r,a=i,s=Zs;return t?e(t):(e.links=function(t){return Mn(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return Mn(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(sn),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)i=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&kn(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=gt(r=t),e):r},e.y=function(t){return arguments.length?(a=gt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?Zs:t,e):s===Zs?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===Zs?null:s&&s[1]},e)};var Zs=[[-1e6,-1e6],[1e6,1e6]];Jo.geom.delaunay=function(t){return Jo.geom.voronoi().triangles(t)},Jo.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(sa(u-n)+sa(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,f=r>=c,p=(f<<1)+h;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=Sn()),h?i=l:s=l,f?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,f,p,d,g,v,m,y,b=gt(s),w=gt(u);if(null!=e)g=e,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),h=[],f=[],d=t.length,a)for(p=0;p<d;++p)c=t[p],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),h.push(c.x),f.push(c.y);else for(p=0;p<d;++p){var x=+b(c=t[p],p),_=+w(c,p);x<g&&(g=x),_<v&&(v=_),x>m&&(m=x),_>y&&(y=_),h.push(x),f.push(_)}var M=m-g,C=y-v;M>C?y=v+M:m=g+C;var k=Sn();if(k.add=function(t){o(k,t,+b(t,++p),+w(t,p),g,v,m,y)},k.visit=function(t){An(t,k,g,v,m,y)},p=-1,null==e){for(;++p<d;)o(k,t[p],h[p],f[p],g,v,m,y);--p}else t.forEach(k.add);return h=f=t=c=null,k}var a,s=Ue,u=We;return(a=arguments.length)?(s=En,u=Tn,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},Jo.interpolateRgb=Nn,Jo.interpolateObject=Rn,Jo.interpolateNumber=jn,Jo.interpolateString=Dn;var Ks=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Jo.interpolate=qn,Jo.interpolators=[function(t,e){var n=typeof e;return("string"===n?Wa.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Nn:Dn:e instanceof U?Nn:"object"===n?Array.isArray(e)?Vn:Rn:jn)(t,e)}],Jo.interpolateArray=Vn;var tu=function(){return vt},eu=Jo.map({linear:tu,poly:Hn,quad:function(){return In},cubic:function(){return Pn},sin:function(){return zn},exp:function(){return Bn},circle:function(){return Un},elastic:Wn,back:Gn,bounce:function(){return Yn}}),nu=Jo.map({in:vt,out:On,"in-out":$n,"out-in":function(t){return $n(On(t))}});Jo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=eu.get(n)||tu,r=nu.get(r)||vt,Ln(r(n.apply(null,Xo.call(arguments,1))))},Jo.interpolateHcl=Jn,Jo.interpolateHsl=Xn,Jo.interpolateLab=Qn,Jo.interpolateRound=Zn,Jo.transform=function(t){var e=Zo.createElementNS(Jo.ns.prefix.svg,"g");return(Jo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Kn(n?n.matrix:ru)})(t)},Kn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ru={a:1,b:0,c:0,d:1,e:0,f:0};Jo.interpolateTransform=rr,Jo.layout={},Jo.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ar(t[n]));return e}},Jo.layout.chord=function(){function t(){var t,l,h,f,p,d={},g=[],v=Jo.range(o),m=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(l=0,p=-1;++p<o;)l+=i[f][p];g.push(l),m.push(Jo.range(o)),t+=l}for(a&&v.sort(function(t,e){return a(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Ea-c*o)/t,l=0,f=-1;++f<o;){for(h=l,p=-1;++p<o;){var y=v[f],b=m[y][p],w=i[y][b],x=l,_=l+=w*t;d[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}r[y]={index:y,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(f=-1;++f<o;)for(p=f-1;++p<o;){var M=d[f+"-"+p],C=d[p+"-"+f];(M.value||C.value)&&n.push(M.value<C.value?{source:C,target:M}:{source:M,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},Jo.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=1/Math.sqrt(o*o+a*a);if((i-n)*s<g){var u=e.charge*s*s;return t.px-=o*u,t.py-=a*u,!0}if(e.point&&isFinite(s)){var u=e.pointCharge*s*s;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=Jo.event.x,t.py=Jo.event.y,s.resume()}var n,r,i,o,a,s={},u=Jo.dispatch("start","tick","end"),l=[1,1],c=.9,h=iu,f=ou,p=-30,d=.1,g=.8,v=[],m=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,f,g,y,b,w,x=v.length,_=m.length;for(n=0;n<_;++n)s=m[n],h=s.source,f=s.target,b=f.x-h.x,w=f.y-h.y,(g=b*b+w*w)&&(g=r*o[n]*((g=Math.sqrt(g))-i[n])/g,b*=g,w*=g,f.x-=b*(y=h.weight/(f.weight+h.weight)),f.y-=w*y,h.x+=b*(y=1-y),h.y+=w*y);if((y=r*d)&&(b=l[0]/2,w=l[1]/2,n=-1,y))for(;++n<x;)s=v[n],s.x+=(b-s.x)*y,s.y+=(w-s.y)*y;if(p)for(pr(e=Jo.geom.quadtree(v),r,a),n=-1;++n<x;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(m=t,s):m},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.gravity=function(t){return arguments.length?(d=+t,s):d},s.theta=function(t){return arguments.length?(g=+t,s):g},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),Jo.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;s<u;++s)n[s]=[];for(s=0;s<l;++s){var i=m[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=v.length,c=m.length,d=l[0],g=l[1];for(e=0;e<u;++e)(r=v[e]).index=e,r.weight=0;for(e=0;e<c;++e)r=m[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<u;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;e<c;++e)i[e]=+h.call(this,m[e],e);else for(e=0;e<c;++e)i[e]=h;if(o=[],"function"==typeof f)for(e=0;e<c;++e)o[e]=+f.call(this,m[e],e);else for(e=0;e<c;++e)o[e]=f;if(a=[],"function"==typeof p)for(e=0;e<u;++e)a[e]=+p.call(this,v[e],e);else for(e=0;e<u;++e)a[e]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Jo.behavior.drag().origin(vt).on("dragstart.force",lr).on("drag.force",e).on("dragend.force",cr)),arguments.length?void this.on("mouseover.force",hr).on("mouseout.force",fr).call(n):n},Jo.rebind(s,u,"on")};var iu=20,ou=1;Jo.layout.hierarchy=function(){function t(e,a,s){var u=i.call(n,e,a);if(e.depth=a,s.push(e),u&&(l=u.length)){for(var l,c,h=-1,f=e.children=new Array(l),p=0,d=a+1;++h<l;)c=f[h]=t(u[h],d,s),c.parent=e,p+=c.value;r&&f.sort(r),o&&(e.value=p)}else delete e.children,o&&(e.value=+o.call(n,e,a)||0);return e}function e(t,r){var i=t.children,a=0;if(i&&(s=i.length))for(var s,u=-1,l=r+1;++u<s;)a+=e(i[u],l);else o&&(a=+o.call(n,t,r)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var r=mr,i=gr,o=vr;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(i=t,n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},Jo.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=Jo.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},dr(n,r)},Jo.layout.pie=function(){function t(o){var a=o.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Jo.sum(a),l=Jo.range(o.length);null!=n&&l.sort(n===au?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];return l.forEach(function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}}),c}var e=Number,n=au,r=0,i=Ea;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var au={};Jo.layout.stack=function(){function t(s,u){var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=Jo.permute(l,h),c=Jo.permute(c,h);var f,p,d,g=r.call(t,c,u),v=l.length,m=l[0].length;for(p=0;p<m;++p)for(i.call(t,l[0][p],d=g[p],c[0][p][1]),f=1;f<v;++f)i.call(t,l[f][p],d+=c[f-1][p][1],c[f][p][1]);return s}var e=vt,n=_r,r=Mr,i=xr,o=br,a=wr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:su.get(e)||_r,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:uu.get(e)||Mr,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var su=Jo.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Cr),o=t.map(kr),a=Jo.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return Jo.range(t.length).reverse()},default:_r}),uu=Jo.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,p=[];for(p[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}p[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<f;++n)p[n]-=l;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Mr});Jo.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,f=l.length,p=h.length-1,d=e?1:1/f;++o<p;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(p>0)for(o=-1;++o<f;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[Jo.bisect(h,s,1,p)-1],a.y+=d,a.push(t[o]));return u}var e=!0,n=Number,r=Ar,i=Tr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=gt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Sr(t,e)}:gt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Jo.layout.tree=function(){function t(t,o){function a(t,e){var r=t.children,i=t._tree;if(r&&(o=r.length)){for(var o,s,l,c=r[0],h=c,f=-1;++f<o;)l=r[f],a(l,s),h=u(l,s,h),s=l;$r(t);var p=.5*(c._tree.prelim+l._tree.prelim);e?(i.prelim=e._tree.prelim+n(t,e),i.mod=i.prelim-p):i.prelim=p}else e&&(i.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length)){var r,i=-1;for(e+=t._tree.mod;++i<r;)s(n[i],e)}}function u(t,e,r){if(e){for(var i,o=t,a=t,s=e,u=t.parent.children[0],l=o._tree.mod,c=a._tree.mod,h=s._tree.mod,f=u._tree.mod;s=jr(s),o=Rr(o),s&&o;)u=Rr(u),a=jr(a),a._tree.ancestor=t,i=s._tree.prelim+h-o._tree.prelim-l+n(s,o),i>0&&(Ir(Pr(s,t,r),t,i),l+=i,c+=i),h+=s._tree.mod,l+=o._tree.mod,f+=u._tree.mod,c+=a._tree.mod;s&&!jr(a)&&(a._tree.thread=s,a._tree.mod+=h-c),o&&!Rr(u)&&(u._tree.thread=o,u._tree.mod+=l-f,r=t)}return r}var l=e.call(this,t,o),c=l[0];Or(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(c),s(c,-c._tree.prelim);var h=Dr(c,Vr),f=Dr(c,qr),p=Dr(c,Lr),d=h.x-n(h,f)/2,g=f.x+n(f,h)/2,v=p.depth||1;return Or(c,i?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-d)/(g-d)*r[0],t.y=t.depth/v*r[1],delete t._tree}),l}var e=Jo.layout.hierarchy().sort(null).value(null),n=Nr,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},dr(t,e)},Jo.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Or(s,function(t){t.r=+c(t.value)}),Or(s,Ur),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;Or(s,function(t){t.r+=h}),Or(s,Ur),Or(s,function(t){t.r-=h})}return Yr(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=Jo.layout.hierarchy().sort(Fr),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},dr(t,n)},Jo.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;Or(u,function(t){var e=t.children;e&&e.length?(t.x=Qr(e),t.y=Xr(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Zr(u),h=Kr(u),f=c.x-n(c,h)/2,p=h.x+n(h,c)/2;return Or(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(p-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=Jo.layout.hierarchy().sort(null).value(null),n=Nr,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},dr(t,e)},Jo.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],f=o.slice(),d=1/0,g="slice"===p?l.dx:"dice"===p?l.dy:"slice-dice"===p?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,"squarify"!==p||(s=r(c,g))<=d?(f.pop(),d=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=Jo.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=ti,f=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?ti(e):ei(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return ei(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?ti:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,
o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},dr(o,s)},Jo.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Jo.random.normal.apply(Jo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Jo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},Jo.scale={};var lu={floor:vt,ceil:vt};Jo.scale.linear=function(){return ui([0,1],[0,1],qn,!1)};var cu={s:1,g:1,p:1,r:1,e:1};Jo.scale.log=function(){return vi(Jo.scale.linear().domain([0,1]),10,!0,[1,10])};var hu=Jo.format(".0e"),fu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Jo.scale.pow=function(){return mi(Jo.scale.linear(),1,[0,1])},Jo.scale.sqrt=function(){return Jo.scale.pow().exponent(.5)},Jo.scale.ordinal=function(){return bi([],{t:"range",a:[[]]})},Jo.scale.category10=function(){return Jo.scale.ordinal().range(pu)},Jo.scale.category20=function(){return Jo.scale.ordinal().range(du)},Jo.scale.category20b=function(){return Jo.scale.ordinal().range(gu)},Jo.scale.category20c=function(){return Jo.scale.ordinal().range(vu)};var pu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(at),du=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(at),gu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(at),vu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(at);Jo.scale.quantile=function(){return wi([],[])},Jo.scale.quantize=function(){return xi(0,1,[0,1])},Jo.scale.threshold=function(){return _i([.5],[0,1])},Jo.scale.identity=function(){return Mi([0,1])},Jo.svg={},Jo.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+mu,s=i.apply(this,arguments)+mu,u=(s<a&&(u=a,a=s,s=u),s-a),l=u<ka?"0":"1",c=Math.cos(a),h=Math.sin(a),f=Math.cos(s),p=Math.sin(s);return u>=yu?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*f+","+o*p+"L"+t*f+","+t*p+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*h+"Z":"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*f+","+o*p+"L0,0Z"}var e=Ci,n=ki,r=Ei,i=Ti;return t.innerRadius=function(n){return arguments.length?(e=gt(n),t):e},t.outerRadius=function(e){return arguments.length?(n=gt(e),t):n},t.startAngle=function(e){return arguments.length?(r=gt(e),t):r},t.endAngle=function(e){return arguments.length?(i=gt(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+mu;return[Math.cos(o)*t,Math.sin(o)*t]},t};var mu=-Ta,yu=Ea-Sa;Jo.svg.line=function(){return Si(vt)};var bu=Jo.map({linear:Ai,"linear-closed":Ni,step:Ri,"step-before":ji,"step-after":Di,basis:Ii,"basis-open":Pi,"basis-closed":Fi,bundle:Hi,cardinal:Li,"cardinal-open":qi,"cardinal-closed":Vi,monotone:Yi});bu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var wu=[0,2/3,1/3,0],xu=[0,1/3,2/3,0],_u=[0,1/6,2/3,1/6];Jo.svg.line.radial=function(){var t=Si(Ji);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ji.reverse=Di,Di.reverse=ji,Jo.svg.area=function(){return Xi(vt)},Jo.svg.area.radial=function(){var t=Xi(Ji);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Jo.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+mu,c=l.call(t,i,r)+mu;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>ka)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=Ve,a=Le,s=Qi,u=Ei,l=Ti;return t.radius=function(e){return arguments.length?(s=gt(e),t):s},t.source=function(e){return arguments.length?(o=gt(e),t):o},t.target=function(e){return arguments.length?(a=gt(e),t):a},t.startAngle=function(e){return arguments.length?(u=gt(e),t):u},t.endAngle=function(e){return arguments.length?(l=gt(e),t):l},t},Jo.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=Ve,n=Le,r=Zi;return t.source=function(n){return arguments.length?(e=gt(n),t):e},t.target=function(e){return arguments.length?(n=gt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Jo.svg.diagonal.radial=function(){var t=Jo.svg.diagonal(),e=Zi,n=t.projection;return t.projection=function(t){return arguments.length?n(Ki(e=t)):e},t},Jo.svg.symbol=function(){function t(t,r){return(Mu.get(e.call(this,t,r))||no)(n.call(this,t,r))}var e=eo,n=to;return t.type=function(n){return arguments.length?(e=gt(n),t):e},t.size=function(e){return arguments.length?(n=gt(e),t):n},t};var Mu=Jo.map({circle:no,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Tu)),n=e*Tu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Eu),n=e*Eu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Eu),n=e*Eu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Jo.svg.symbolTypes=Mu.keys();var Cu,ku,Eu=Math.sqrt(3),Tu=Math.tan(30*Na),Su=[],Au=0;Su.call=ma.call,Su.empty=ma.empty,Su.node=ma.node,Su.size=ma.size,Jo.transition=function(t){return arguments.length?Cu?t.transition():t:wa.transition()},Jo.transition.prototype=Su,Su.select=function(t){var e,n,r,i=this.id,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(n=t.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),ao(n,l,i,r.__transition__[i]),e.push(n)):e.push(null)}return ro(o,i)},Su.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];t=v(t);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],h=-1,f=c.length;++h<f;)if(r=c[h]){o=r.__transition__[a],n=t.call(r,r.__data__,h,u),s.push(e=[]);for(var p=-1,d=n.length;++p<d;)(i=n[p])&&ao(i,p,a,o),e.push(i)}return ro(s,a)},Su.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=T(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return ro(i,this.id)},Su.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):A(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Su.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?rr:qn,s=Jo.ns.qualify(t);return io(this,"attr."+t,e,s.local?o:i)},Su.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Jo.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Su.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=ta.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=qn(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return io(this,"style."+t,e,i)},Su.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,ta.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Su.text=function(t){return io(this,"text",t,oo)},Su.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Su.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Jo.ease.apply(Jo,arguments)),A(this,function(n){n.__transition__[e].ease=t}))},Su.delay=function(t){var e=this.id;return A(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Su.duration=function(t){var e=this.id;return A(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Su.each=function(t,e){var n=this.id;if(arguments.length<2){var r=ku,i=Cu;Cu=n,A(this,function(e,r,i){ku=e.__transition__[n],t.call(e,e.__data__,r,i)}),ku=r,Cu=i}else A(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Jo.dispatch("start","end"))).on(t,e)});return this},Su.transition=function(){for(var t,e,n,r,i=this.id,o=++Au,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var e=this[s],l=0,c=e.length;l<c;l++)(n=e[l])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,ao(n,l,o,r)),t.push(n)}return ro(a,o)},Jo.svg.axis=function(){function t(t){t.each(function(){var t,l=Jo.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,p=null==e?h.tickFormat?h.tickFormat.apply(h,s):vt:e,d=l.selectAll(".tick").data(f,h),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Sa),v=Jo.transition(d.exit()).style("opacity",Sa).remove(),m=Jo.transition(d).style("opacity",1),y=ri(h),b=l.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Jo.transition(b));g.append("line"),g.append("text");var x=g.select("line"),_=m.select("line"),M=d.select("text").text(p),C=g.select("text"),k=m.select("text");switch(r){case"bottom":t=so,x.attr("y2",i),C.attr("y",Math.max(i,0)+a),_.attr("x2",0).attr("y2",i),k.attr("x",0).attr("y",Math.max(i,0)+a),M.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":t=so,x.attr("y2",-i),C.attr("y",-(Math.max(i,0)+a)),_.attr("x2",0).attr("y2",-i),k.attr("x",0).attr("y",-(Math.max(i,0)+a)),M.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":t=uo,x.attr("x2",-i),C.attr("x",-(Math.max(i,0)+a)),_.attr("x2",-i).attr("y2",0),k.attr("x",-(Math.max(i,0)+a)).attr("y",0),M.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":t=uo,x.attr("x2",i),C.attr("x",Math.max(i,0)+a),_.attr("x2",i).attr("y2",0),k.attr("x",Math.max(i,0)+a).attr("y",0),M.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(h.rangeBand){var E=h,T=E.rangeBand()/2;c=h=function(t){return E(t)+T}}else c.rangeBand?c=h:v.call(t,h);g.call(t,c),m.call(t,h)})}var e,n=Jo.scale.linear(),r=Nu,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ru?e+"":Nu,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Nu="bottom",Ru={top:1,right:1,bottom:1,left:1};Jo.svg.brush=function(){function t(o){o.each(function(){var o=Jo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(v,vt);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ju[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,h=Jo.transition(o),f=Jo.transition(a);u&&(c=ri(u),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(h)),l&&(c=ri(l),f.attr("y",c[0]).attr("height",c[1]-c[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==Jo.event.keyCode&&(S||(b=null,N[0]-=c[1],N[1]-=f[1],S=2),h())}function p(){32==Jo.event.keyCode&&2==S&&(N[0]+=c[1],N[1]+=f[1],S=0,h())}function v(){var t=Jo.mouse(x),i=!1;w&&(t[0]+=w[0],t[1]+=w[1]),S||(Jo.event.altKey?(b||(b=[(c[0]+c[1])/2,(f[0]+f[1])/2]),N[0]=c[+(t[0]<b[0])],N[1]=f[+(t[1]<b[1])]):b=null),E&&m(t,u,0)&&(n(C),i=!0),T&&m(t,l,1)&&(r(C),i=!0),i&&(e(C),M({type:"brush",mode:S?"move":"resize"}))}function m(t,e,n){var r,i,s=ri(e),u=s[0],l=s[1],h=N[n],p=n?f:c,v=p[1]-p[0];if(S&&(u-=h,l-=v+h),r=(n?g:d)?Math.max(u,Math.min(l,t[n])):t[n],S?i=(r+=h)+v:(b&&(h=Math.max(u,Math.min(l,2*b[n]-r))),h<r?(i=r,r=h):i=h),p[0]!=r||p[1]!=i)return n?a=null:o=null,p[0]=r,p[1]=i,!0}function y(){v(),C.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Jo.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),M({type:"brushend"})}var b,w,x=this,_=Jo.select(Jo.event.target),M=s.of(x,arguments),C=Jo.select(x),k=_.datum(),E=!/^(n|s)$/.test(k)&&u,T=!/^(e|w)$/.test(k)&&l,S=_.classed("extent"),A=L(),N=Jo.mouse(x),R=Jo.select(ta).on("keydown.brush",i).on("keyup.brush",p);if(Jo.event.changedTouches?R.on("touchmove.brush",v).on("touchend.brush",y):R.on("mousemove.brush",v).on("mouseup.brush",y),C.interrupt().selectAll("*").interrupt(),S)N[0]=c[0]-N[0],N[1]=f[0]-N[1];else if(k){var j=+/w$/.test(k),D=+/^n/.test(k);w=[c[1-j]-N[0],f[1-D]-N[1]],N[0]=c[j],N[1]=f[D]}else Jo.event.altKey&&(b=N.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null),Jo.select("body").style("cursor",_.style("cursor")),M({type:"brushstart"}),v()}var o,a,s=p(t,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],f=[0,0],d=!0,g=!0,v=Du[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Cu?Jo.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Vn(c,e.x),r=Vn(f,e.y);return o=a=null,function(i){c=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,v=Du[!u<<1|!l],t):u},t.y=function(e){return arguments.length?(l=e,v=Du[!u<<1|!l],t):l},t.clamp=function(e){return arguments.length?(u&&l?(d=!!e[0],g=!!e[1]):u?d=!!e:l&&(g=!!e),t):u&&l?[d,g]:u?d:l?g:null},t.extent=function(e){var n,r,i,s,h;return arguments.length?(u&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(h=n,n=r,r=h),n==c[0]&&r==c[1]||(c=[n,r])),l&&(i=e[0],s=e[1],u&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),s<i&&(h=i,i=s,s=h),i==f[0]&&s==f[1]||(f=[i,s])),t):(u&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(h=n,n=r,r=h))),l&&(a?(i=a[0],s=a[1]):(i=f[0],s=f[1],l.invert&&(i=l.invert(i),s=l.invert(s)),s<i&&(h=i,i=s,s=h))),u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!u&&c[0]==c[1]||!!l&&f[0]==f[1]},Jo.rebind(t,s,"on")};var ju={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Du=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],qu=Jo.time={},Vu=Date,Lu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];lo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ou.setUTCDate.apply(this._,arguments)},setDay:function(){Ou.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ou.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ou.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ou.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ou.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ou.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ou.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ou.setTime.apply(this._,arguments)}};var Ou=Date.prototype,$u="%a %b %e %X %Y",Iu="%m/%d/%Y",Pu="%H:%M:%S",Fu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Hu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],zu=["January","February","March","April","May","June","July","August","September","October","November","December"],Bu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];qu.year=co(function(t){return t=qu.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),qu.years=qu.year.range,qu.years.utc=qu.year.utc.range,qu.day=co(function(t){var e=new Vu(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),qu.days=qu.day.range,qu.days.utc=qu.day.utc.range,qu.dayOfYear=function(t){var e=qu.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Lu.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=qu[t]=co(function(t){return(t=qu.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=qu.year(t).getDay();return Math.floor((qu.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});qu[t+"s"]=n.range,qu[t+"s"].utc=n.utc.range,qu[t+"OfYear"]=function(t){var n=qu.year(t).getDay();return Math.floor((qu.dayOfYear(t)+(n+e)%7)/7)}}),qu.week=qu.sunday,qu.weeks=qu.sunday.range,qu.weeks.utc=qu.sunday.utc.range,qu.weekOfYear=qu.sundayOfYear,qu.format=fo;var Uu=go(Fu),Wu=vo(Fu),Gu=go(Hu),Yu=vo(Hu),Ju=go(zu),Xu=vo(zu),Qu=go(Bu),Zu=vo(Bu),Ku=/^%/,tl={"-":"",_:" ",0:"0"},el={a:function(t){return Hu[t.getDay()]},A:function(t){return Fu[t.getDay()]},b:function(t){return Bu[t.getMonth()]},B:function(t){return zu[t.getMonth()]},c:fo($u),d:function(t,e){return mo(t.getDate(),e,2)},e:function(t,e){return mo(t.getDate(),e,2)},H:function(t,e){return mo(t.getHours(),e,2)},I:function(t,e){return mo(t.getHours()%12||12,e,2)},j:function(t,e){return mo(1+qu.dayOfYear(t),e,3)},L:function(t,e){return mo(t.getMilliseconds(),e,3)},m:function(t,e){return mo(t.getMonth()+1,e,2)},M:function(t,e){return mo(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return mo(t.getSeconds(),e,2)},U:function(t,e){return mo(qu.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return mo(qu.mondayOfYear(t),e,2)},x:fo(Iu),X:fo(Pu),y:function(t,e){return mo(t.getFullYear()%100,e,2)},Y:function(t,e){return mo(t.getFullYear()%1e4,e,4)},Z:Po,"%":function(){return"%"}},nl={a:yo,A:bo,b:Mo,B:Co,c:ko,d:Do,e:Do,H:Vo,I:Vo,j:qo,L:$o,m:jo,M:Lo,p:Io,S:Oo,U:xo,w:wo,W:_o,x:Eo,X:To,y:Ao,Y:So,Z:No,"%":Fo},rl=/^\s*\d+/,il=Jo.map({am:0,pm:1});fo.utc=Ho;var ol=Ho("%Y-%m-%dT%H:%M:%S.%LZ");fo.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?zo:ol,zo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},zo.toString=ol.toString,qu.second=co(function(t){return new Vu(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),qu.seconds=qu.second.range,qu.seconds.utc=qu.second.utc.range,qu.minute=co(function(t){return new Vu(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),qu.minutes=qu.minute.range,qu.minutes.utc=qu.minute.utc.range,qu.hour=co(function(t){var e=t.getTimezoneOffset()/60;return new Vu(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),qu.hours=qu.hour.range,qu.hours.utc=qu.hour.utc.range,qu.month=co(function(t){return t=qu.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),qu.months=qu.month.range,qu.months.utc=qu.month.utc.range;var al=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],sl=[[qu.second,1],[qu.second,5],[qu.second,15],[qu.second,30],[qu.minute,1],[qu.minute,5],[qu.minute,15],[qu.minute,30],[qu.hour,1],[qu.hour,3],[qu.hour,6],[qu.hour,12],[qu.day,1],[qu.day,2],[qu.week,1],[qu.month,1],[qu.month,3],[qu.year,1]],ul=[[fo("%Y"),Ut],[fo("%B"),function(t){return t.getMonth()}],[fo("%b %d"),function(t){return 1!=t.getDate()}],[fo("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[fo("%I %p"),function(t){return t.getHours()}],[fo("%I:%M"),function(t){return t.getMinutes()}],[fo(":%S"),function(t){return t.getSeconds()}],[fo(".%L"),function(t){return t.getMilliseconds()}]],ll=Wo(ul);sl.year=qu.year,qu.scale=function(){return Bo(Jo.scale.linear(),sl,ll)};var cl={range:function(t,e,n){return Jo.range(+t,+e,n).map(Uo)},floor:vt,ceil:vt},hl=sl.map(function(t){return[t[0].utc,t[1]]}),fl=[[Ho("%Y"),Ut],[Ho("%B"),function(t){return t.getUTCMonth()}],[Ho("%b %d"),function(t){return 1!=t.getUTCDate()}],[Ho("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[Ho("%I %p"),function(t){return t.getUTCHours()}],[Ho("%I:%M"),function(t){return t.getUTCMinutes()}],[Ho(":%S"),function(t){return t.getUTCSeconds()}],[Ho(".%L"),function(t){return t.getUTCMilliseconds()}]],pl=Wo(fl);return hl.year=qu.year.utc,qu.scale.utc=function(){return Bo(Jo.scale.linear(),hl,pl)},Jo.text=mt(function(t){return t.responseText}),Jo.json=function(t,e){return yt(t,"application/json",Go,e)},Jo.html=function(t,e){return yt(t,"text/html",Yo,e)},Jo.xml=mt(function(t){return t.responseXML}),Jo}(),define("d3",function(){}),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty,n=function(t,e){return function(){return t.apply(e,arguments)}};define("apps/d3/list/views",["marionette","apps/d3/list/templates","d3"],function(e,r){var i,o,a;return a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r.panel),n}(e.View),o=function(e){function r(){return this.onDomRefresh=n(this.onDomRefresh,this),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=!1,r.prototype.className="well",r.prototype.onDomRefresh=function(){var t,e,n,r,i,o,a,s;return s=this.$el.outerWidth(!0),r=Math.floor(12*s/16),i=d3.range(250).map(function(){return{radius:16*Math.random()+4}}),o=i[0],e=d3.scale.category10(),o.radius=0,o.fixed=!0,n=d3.layout.force().gravity(.12).charge(function(t,e){return e?0:-2500}).nodes(i).size([s,r]),n.start(),a=d3.select(this.el).append("svg").attr("width",s).attr("height",r),a.selectAll("circle").data(i.slice(1)).enter().append("circle").attr("r",function(t){return t.radius-2}).style("fill",function(t,n){return e(n%10)}),n.on("tick",function(e){var n,r,o;for(o=d3.geom.quadtree(i),n=0,r=i.length;++n<r;)o.visit(t(i[n]));return a.selectAll("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}),a.on("mousemove",function(){var t;return t=d3.mouse(this),o.px=t[0],o.py=t[1],n.resume()}),t=function(t){var e,n,r,i,o;return o=t.radius+16,e=t.x-o,n=t.x+o,r=t.y-o,i=t.y+o,function(a,s,u,l,c){var h,f,p;return a.point&&a.point!==t&&(f=t.x-a.point.x,p=t.y-a.point.y,h=Math.sqrt(f*f+p*p),o=t.radius+a.point.radius,h<o&&(h=(h-o)/h*.5,t.x-=f*=h,t.y-=p*=h,a.point.x+=f,a.point.y+=p)),s>n||l<e||u>i||c<r}}},r}(e.View),{Layout:i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r.layout),n.prototype.regions={panelRegion:"#panel-region",d3Region:{el:"#d3-region",replaceElement:!1}},n.prototype.onRender=function(){return this.showChildView("panelRegion",new a),this.showChildView("d3Region",new o)},n}(e.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/d3/list/controller",["msgbus","apps/d3/list/views","marionette"],function(e,n,r){var i,o;return o=e.appChannel,i=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.initialize=function(t){var e,r;return r=o.request("default:region"),e=new n.Layout,r.show(e)},r}(r.Object)})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/d3/app",["msgbus","marionette","apps/d3/list/controller"],function(e,n,r){var i,o,a;return a=e.appChannel,o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.appRoutes={d3:"tedifyouseethisyousmell"},n}(n.AppRouter),i={tedifyouseethisyousmell:function(){return new r}},a.on("start:d3:app",function(){return new o({controller:i})})})}.call(this),define("text!apps/about/show/templates/about.htm",[],function(){return'\r\n<div class="jumbotron">\r\n  <div class="container">\r\n    <h2>Exposing TwitchTV to a Responsive Client UI</h2>\r\n    <p>Use the Twitch-TV Login to get started ! </p>    \r\n    <p class="text-primary"><a href="https://github.com/xjackk/TwitchTVExpose" target="_blank" class="btn btn-link" title="see the open-source project on github">Learn more</a></p>\r\n  </div>\r\n</div>\r\n'}),define("text!apps/about/show/templates/layout.htm",[],function(){return'<div class="row">\r\n    <div id="about-region" class="col-md-12"></div>\r\n</div>\r\n<div class=row>\r\n    <div id="book-region" class="col-md-6"></div>\r\n    <div id="oss-region" class="col-md-6"></div>\r\n</div>'}),define("text!apps/about/show/templates/books.htm",[],function(){return'<div class="panel panel-warning">\r\n  <div class="panel-heading">Project Reference List</div>\r\n  <div class="panel-body">\r\n    <p>These are some of the books and videos that provided knowledge and inspiration for the ideas behind this project</p>\r\n  </div>\r\n  <div class="table-responsive">\r\n  <table class="table">\r\n    <thead>\r\n    <tr>\r\n    <th>Title</th>\r\n    <th>Author</th>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n</div>'}),define("text!apps/about/show/templates/bookitem.htm",[],function(){return'<td><span class="glyphicon {{type=="book" ? "glyphicon-book": "glyphicon-hd-video" }}"></span>&nbsp; &nbsp;<a href="http://{{url}}" target="_blank" >{{title}}</a></td>\r\n<td>{{author}}</td>\r\n'}),define("text!apps/about/show/templates/oss.htm",[],function(){return'<div class="panel panel-info">\r\n  <div class="panel-heading">Open Source Software</div>\r\n  <div class="panel-body">\r\n    <p><strong>TwitchTV Expose</strong> was built with these Open-Source Software projects:</p>\r\n  </div>\r\n  <div class="table-responsive">\r\n      <table class="table">\r\n        <thead>\r\n            <tr><th>Project Name</th><th>Website URL</th></tr>\r\n        </thead>\r\n        <tbody></tbody>\r\n      </table>\r\n    </div>\r\n</div>\r\n'}),define("text!apps/about/show/templates/ossitem.htm",[],function(){return'<td>{{name}}</td>\r\n<td><a href="{{site}}" target="_blank">{{name}}</a></td>\r\n'}),function(){define("apps/about/show/templates",["require","text!apps/about/show/templates/about.htm","text!apps/about/show/templates/layout.htm","text!apps/about/show/templates/books.htm","text!apps/about/show/templates/bookitem.htm","text!apps/about/show/templates/oss.htm","text!apps/about/show/templates/ossitem.htm"],function(t){return{about:t("text!apps/about/show/templates/about.htm"),layout:t("text!apps/about/show/templates/layout.htm"),bookTable:t("text!apps/about/show/templates/books.htm"),bookItem:t("text!apps/about/show/templates/bookitem.htm"),ossTable:t("text!apps/about/show/templates/oss.htm"),ossItem:t("text!apps/about/show/templates/ossitem.htm")}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/about/show/views",["marionette","apps/about/show/templates"],function(e,n){var r,i,o,a,s,u,l,c;return o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.bookItem),r.prototype.tagName="tr",r}(e.View),l=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.ossItem),r.prototype.tagName="tr",r}(e.View),r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.about),r}(e.View),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="tbody",
n.prototype.childView=o,n}(e.CollectionView),c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="tbody",n.prototype.childView=l,n}(e.CollectionView),s=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.bookTable),r.prototype.regions={body:{el:"tbody",replaceElement:!0}},r.prototype.onRender=function(){return this.showChildView("body",new a({collection:this.collection}))},r}(e.View),u=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.ossTable),r.prototype.regions={body:{el:"tbody",replaceElement:!0}},r.prototype.onRender=function(){return this.showChildView("body",new c({collection:this.collection}))},r}(e.View),{LayoutView:i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.template=_.template(n.layout),i.prototype.regions={aboutRegion:"#about-region",bookRegion:"#book-region",ossRegion:"#oss-region"},i.prototype.onRender=function(){return this.showChildView("aboutRegion",new r),this.showChildView("bookRegion",new s({collection:this.getOption("bookEntities")})),this.showChildView("ossRegion",new u({collection:this.getOption("ossEntities")}))},i}(e.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/about/show/controller",["marionette","msgbus","apps/about/show/views"],function(e,n,r){var i,o;return o=n.appChannel,i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(t){var e,n,r;return null==t&&(t={}),r=o.request("default:region"),e={bookEntities:o.request("reference:entities"),ossEntities:o.request("oss:entities")},n=this.getLayoutView(e),r.show(n)},n.prototype.getLayoutView=function(t){return new r.LayoutView(t)},n}(e.Object)})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/about/app",["msgbus","marionette","apps/about/show/controller"],function(e,n,r){var i,o,a;return a=e.appChannel,o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.appRoutes={about:"about"},n}(n.AppRouter),i={about:function(){return new r({region:a.request("default:region")})}},a.on("start:about:app",function(){return new o({controller:i})})})}.call(this),define("text!apps/games/list/templates/gameitem.htm",[],function(){return'<div title = "{{game.name}}">\r\n    <img class="img-responsive img-thumbnail" src={{game.logo.large}} >\r\n</div>\r\n<p class="text-primary text-responsive"><strong>{{game.name}}</strong></p>\r\n<p class="text-muted text-responsive"><strong>{{ Globalize.format( viewers, "n0") }}</strong> viewers</p>'}),define("text!apps/games/list/templates/layout.htm",[],function(){return'<div class="row">\r\n    <div class="col-md-12 col-xs-12">\r\n        <div class="panel panel-primary">\r\n            <div class="panel-heading">\r\n                <p class="panel-title">\r\n                <strong>Top Games</strong><small> people are watching now!</small>\r\n                <span class=pull-right>\r\n                    <button class="btn btn-info btn-xs bubble" title="bubble chart"><span class="glyphicon glyphicon-dashboard"></span> bubble</button>\r\n                    <button class="btn btn-info btn-xs grid" title="grid view"><span class="glyphicon glyphicon-th"></span> grid</button>\r\n                    <button class="btn btn-info btn-xs more" title="fetch more!"><span class="glyphicon glyphicon-dashboard"></span> more</button>\r\n                </span>\r\n                </p>\r\n            </div>\r\n            <div class="panel-body">\r\n                <div style="height:100%;">\r\n                    <ul class="list-inline">\r\n                    </ul>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!apps/games/list/templates/gameslist.htm",[],function(){return'<div style="height:100%;">\r\n    <ul id="gameitems" class="list-inline">\r\n    </ul>\r\n</div>'}),define("text!apps/games/list/templates/gamesbubble.htm",[],function(){return""}),function(){define("apps/games/list/templates",["require","text!apps/games/list/templates/gameitem.htm","text!apps/games/list/templates/layout.htm","text!apps/games/list/templates/gameslist.htm","text!apps/games/list/templates/gamesbubble.htm"],function(t){return{gameitem:t("text!apps/games/list/templates/gameitem.htm"),layout:t("text!apps/games/list/templates/layout.htm"),gameslist:t("text!apps/games/list/templates/gameslist.htm"),gamesbubble:t("text!apps/games/list/templates/gamesbubble.htm")}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("views/bubble",["underscore","msgbus","d3"],function(e,n){var r,i;return i=n.appChannel,r=function(){function n(e,n,r,i){this.select_details=t(this.select_details,this),this.hide_details=t(this.hide_details,this),this.display=t(this.display,this),this.start=t(this.start,this),this.create_vis=t(this.create_vis,this);var o,a;this.data=e,this.el=n,this.width=r,this.height=i,this.center={x:this.width/2,y:this.height/2},this.layout_gravity=-.01,this.damper=.1,this.vis=null,this.nodes=[],this.force=null,this.circles=null,this.fill_color=d3.scale.ordinal().domain(["low","medium","high"]).range(["#d84b2a","#beccae","#7aa25c"]),a=this.data.max(function(t){return t.get("viewers")}),o=a.get("viewers"),this.radius_scale=d3.scale.pow().exponent(.5).domain([0,o]).range([3,100]),this.create_nodes(),this.create_vis()}return n.prototype.create_nodes=function(){return this.data.each(function(t){return function(n,r){var i;return i={id:r,model:n,radius:t.radius_scale(parseInt(n.get("viewers"))),value:n.get("viewers"),name:n.get("game").name,imageUrl:n.get("game").logo.medium,x:Math.random()*t.width,y:Math.random()*t.height,group:e.sample(["low","medium","high"])},t.nodes.push(i)}}(this)),this.nodes.sort(function(t,e){return e.value-t.value})},n.prototype.create_vis=function(){var t;return this.vis=d3.select(this.el).append("svg").attr("width",this.width).attr("height",this.height).attr("id","svg_vis"),this.circles=this.vis.selectAll("circle").data(this.nodes,function(t){return t.id}),t=this,this.circles.enter().append("circle").attr("r",0).attr("id",function(t){return"bub"+t.id}).style("fill",function(t){return function(e){return t.fill_color(e.group)}}(this)).style("stroke-width",2).style("stroke",function(t){return function(e){return d3.rgb(t.fill_color(e.group)).darker()}}(this)).on("mouseover",function(e,n){return t.show_details(e,n,this)}).on("mouseout",function(e,n){return t.hide_details(e,n,this)}).on("click",function(e,n){return t.select_details(e,n,this)}),this.circles.transition().duration(1500).attr("r",function(t){return t.radius})},n.prototype.charge=function(t){return-Math.pow(t.radius,2)/7},n.prototype.start=function(){return this.force=d3.layout.force().nodes(this.nodes).size([this.width,this.height])},n.prototype.display=function(){return this.force.gravity(this.layout_gravity).charge(this.charge).friction(.9).on("tick",function(t){return function(e){return t.circles.each(t.move_towards_center(e.alpha)).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}}(this)),this.force.start()},n.prototype.move_towards_center=function(t){return function(e){return function(n){return n.x=n.x+(e.center.x-n.x)*(e.damper+.02)*t,n.y=n.y+(e.center.y-n.y)*(e.damper+.02)*t}}(this)},n.prototype.show_details=function(t,e,n){var r,i;return d3.select(n).style("stroke","black"),r=$("#bub"+t.id),i={html:!0,title:t.name,placement:"auto",trigger:"manual",container:"body",content:function(){var e;return e="<img src="+t.imageUrl+" class='img-responsive img-thumbnail'><br/><b>Viewers:</b><span> "+t.value+"</span><br/>"}},r.popover(i).popover("show")},n.prototype.hide_details=function(t,e,n){return d3.select(n).style("stroke",function(t){return function(e){return d3.rgb(t.fill_color(e.group)).darker()}}(this)),$("#bub"+t.id).popover("hide")},n.prototype.select_details=function(t,e,n){return this.hide_details(t,e,n),i.trigger("app:game:detail",t.model)},n}()})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/games/list/views",["msgbus","apps/games/list/templates","marionette","views/bubble"],function(e,n,r,i){var o,a,s,u,l;return l=e.appChannel,o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.gameitem),r.prototype.tagName="li",r.prototype.className="col-md-2 col-sm-4 col-xs-12 game",r.prototype.triggers={click:"game:item:clicked"},r}(r.View),{GameGridView:u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.childView=o,n.prototype.tagName="ul",n.prototype.className="list-inline",n.prototype.onChildviewGameItemClicked=function(t){return l.trigger("app:game:detail",t.model)},n}(r.CollectionView),GamesBubbleView:a=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.gamesbubble),r.prototype.id="gamesbubble",r.prototype.collectionEvents={sync:"render"},r.prototype.onDomRefresh=function(){var t,e;return e=this.$el.outerWidth(!0),t=Math.floor(10*e/16),this.chart=new i(this.collection,this.el,e,t),this.chart.start(),this.chart.display()},r}(r.View),Layout:s=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.template=_.template(n.layout),r.prototype.regions={topGameList:{el:"ul",replaceElement:!0}},r.prototype.ui={btnBubble:"button.bubble",btnGrid:"button.grid",btnMore:"button.more"},r.prototype.triggers={"click @ui.btnBubble":"show:bubble","click @ui.btnGrid":"show:grid","click @ui.btnMore":"more:games"},r.prototype.onRender=function(){return this.showChildView("topGameList",new u({collection:this.collection}))},r}(r.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/games/list/controller",["msgbus","apps/games/list/views","marionette","entities/twitchtv"],function(e,n,r){var i,o;return o=e.appChannel,i=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.initialize=function(t){var e;return null==t&&(t={}),e=o.request("default:region"),this.entities=o.request("games:top:entities"),o.trigger("when:fetched",this.entities,function(t){return function(){return t.layout=t.getLayoutView({collection:t.entities}),t.listenTo(t.layout,"show:grid",function(){return t.showGridView(t.entities)}),t.listenTo(t.layout,"show:bubble",function(){return t.showBubbleView(t.entities)}),t.listenTo(t.layout,"more:games",function(){return o.request("games:fetchmore")}),t.listenTo(t.layout,"scroll:more",function(){return o.request("games:fetchmore")}),e.show(t.layout)}}(this))},r.prototype.showGridView=function(t){var e;return e=this.getGridView(t),this.layout.getRegion("topGameList").show(e)},r.prototype.showBubbleView=function(t){var e;return e=this.getBubbleView(this.entities),this.layout.getRegion("topGameList").show(e)},r.prototype.getBubbleView=function(t){return new n.GamesBubbleView({collection:t})},r.prototype.getGridView=function(t){return new n.GameGridView({collection:t})},r.prototype.getLayoutView=function(t){return null==t&&(t={}),new n.Layout(t)},r}(r.Object)})}.call(this),define("text!apps/games/detail/templates/gamedetail.htm",[],function(){return'<div title = "{{game.name ? game.name : \'\'}}">\r\n    <img class="img-responsive img-thumbnail" src={{game.logo.large}} >\r\n</div>\r\n<p class="text-primary text-responsive"><strong>{{game.name ? game.name: ""}}</strong></p>\r\n<p class="text-muted text-responsive"><strong>{{ Globalize.format( viewers ? viewers:0, "n0") }}</strong> viewers</p>'}),define("text!apps/games/detail/templates/streamitem.htm",[],function(){return'<div>\r\n    <img class="img-responsive img-thumbnail" src="{{preview.medium}}" >\r\n</div>\r\n<p class="text-primary text-responsive"><strong>{{channel.status}}</strong></p>\r\n<p class="text-muted"><strong>{{ Globalize.format( viewers, "n0") }}</strong> viewers</p>'}),define("text!apps/games/detail/templates/streamsummary.htm",[],function(){return'<span class="badge">{{fetched}}</span>/<span class="badge">{{total}}</span>'}),define("text!apps/games/detail/templates/layout.htm",[],function(){return'<div class="col-md-4 col-xs-12">\r\n    <div class="panel panel-primary ">\r\n        <div class="panel-heading">\r\n            <div class="panel-title">Detail</div>\r\n        </div>\r\n        <div id="game-region" class="panel-body">\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="col-md-8 col-xs-12">\r\n    <div class="panel panel-warning">\r\n        <div class="panel-heading">\r\n            <div class="panel-title">Live Streaming  <span id="streamsummary" class="pull-right"></span></div>\r\n        </div>\r\n        <div  class="panel-body">\r\n            <div class="scrollable-container">\r\n                <ul></ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),function(){define("apps/games/detail/templates",["require","text!apps/games/detail/templates/gamedetail.htm","text!apps/games/detail/templates/streamitem.htm","text!apps/games/detail/templates/streamsummary.htm","text!apps/games/detail/templates/layout.htm"],function(t){return{gamedetail:t("text!apps/games/detail/templates/gamedetail.htm"),streamitem:t("text!apps/games/detail/templates/streamitem.htm"),streamsummary:t("text!apps/games/detail/templates/streamsummary.htm"),layout:t("text!apps/games/detail/templates/layout.htm")}})}.call(this),function(e){e.fn.extend({slimScroll:function(n){var r={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i=e.extend(r,n);return this.each(function(){function r(t){if(c){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var r=t.target||t.srcTarget||t.srcElement;e(r).closest("."+i.wrapperClass).is(x.parent())&&o(n,!0),t.preventDefault&&!w&&t.preventDefault(),w||(t.returnValue=!1)}}function o(t,e,n){w=!1;var r=t,o=x.outerHeight()-T.outerHeight();if(e&&(r=parseInt(T.css("top"))+t*parseInt(i.wheelStep)/100*T.outerHeight(),r=Math.min(Math.max(r,0),o),r=t>0?Math.ceil(r):Math.floor(r),T.css({top:r+"px"})),v=parseInt(T.css("top"))/(x.outerHeight()-T.outerHeight()),r=v*(x[0].scrollHeight-x.outerHeight()),n){r=t;var a=r/x[0].scrollHeight*x.outerHeight();a=Math.min(Math.max(a,0),o),T.css({top:a+"px"})}x.scrollTop(r),x.trigger("slimscrolling",~~r),u(),l()}function a(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener("mousewheel",r,!1)):document.attachEvent("onmousewheel",r)}function s(){g=Math.max(x.outerHeight()/x[0].scrollHeight*x.outerHeight(),b),T.css({height:g+"px"});var t=g==x.outerHeight()?"none":"block";T.css({display:t})}function u(){if(s(),clearTimeout(p),v==~~v){if(w=i.allowPageScroll,m!=v){var t=0==~~v?"top":"bottom";x.trigger("slimscroll",t)}}else w=!1;return m=v,g>=x.outerHeight()?void(w=!0):(T.stop(!0,!0).fadeIn("fast"),void(i.railVisible&&E.stop(!0,!0).fadeIn("fast")))}function l(){i.alwaysVisible||(p=setTimeout(function(){i.disableFadeOut&&c||h||f||(T.fadeOut("slow"),E.fadeOut("slow"))},1e3))}var c,h,f,p,d,g,v,m,y="<div></div>",b=30,w=!1,x=e(this);if(x.parent().hasClass(i.wrapperClass)){var _=x.scrollTop();if(T=x.siblings("."+i.barClass),E=x.siblings("."+i.railClass),s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){x.parent().css("height","auto"),x.css("height","auto");var M=x.parent().parent().height();x.parent().css("height",M),x.css("height",M)}else if("height"in n){var C=n.height;x.parent().css("height",C),x.css("height",C)}if("scrollTo"in n)_=parseInt(i.scrollTo);else if("scrollBy"in n)_+=parseInt(i.scrollBy);else if("destroy"in n)return T.remove(),E.remove(),void x.unwrap();o(_,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?x.parent().height():i.height;var k=e(y).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});x.css({overflow:"hidden",width:i.width,height:i.height});var E=e(y).addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),T=e(y).addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),S="right"==i.position?{right:i.distance}:{left:i.distance};E.css(S),T.css(S),x.wrap(k),x.parent().append(T),x.parent().append(E),i.railDraggable&&T.bind("mousedown",function(n){var r=e(document);return f=!0,t=parseFloat(T.css("top")),pageY=n.pageY,r.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,T.css("top",currTop),o(0,T.position().top,!1)}),r.bind("mouseup.slimscroll",function(t){f=!1,l(),r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),E.hover(function(){u()},function(){l()}),T.hover(function(){h=!0},function(){h=!1}),x.hover(function(){c=!0,u(),l()},function(){c=!1,l()}),x.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(d=t.originalEvent.touches[0].pageY)}),x.bind("touchmove",function(t){if(w||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(d-t.originalEvent.touches[0].pageY)/i.touchScrollStep;o(e,!0),d=t.originalEvent.touches[0].pageY}}),s(),"bottom"===i.start?(T.css({top:x.outerHeight()-T.outerHeight()}),o(0,!0)):"top"!==i.start&&(o(e(i.start).position().top,null,!0),i.alwaysVisible||T.hide()),a(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),define("slimscroll",["jquery"],function(){}),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/games/detail/views",["marionette","msgbus","apps/games/detail/templates","slimscroll"],function(e,n,r){var i,o,a,s,u,l;return l=n.appChannel,u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r.streamsummary),n.prototype.tagName="span",n.prototype.modelEvents={"change:fetched":"render"},n}(e.View),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r.streamitem),n.prototype.tagName="li",n.prototype.className="col-md-6 col-xs-12 streamitem",n.prototype.triggers={click:"stream:item:clicked"},n}(e.View),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.childView=a,n.prototype.tagName="ul",n.prototype.className="list-inline scrollable-inner",n.prototype.ui={scroll:".scrollable-inner"},n.prototype.onChildviewStreamItemClicked=function(t){return l.trigger("app:playa:show",t.model)},n}(e.CollectionView),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r.gamedetail),n.prototype.className="col-xs-12",n}(e.View),{Layout:o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r.layout),n.prototype.regions={gameRegion:"#game-region",streamRegion:{el:"ul",replaceElement:!0},summaryRegion:{el:"#streamsummary",replaceElement:!1}},n.prototype.ui={scrollPanel:".scrollable-container"},n.prototype.onRender=function(){return this.showChildView("summaryRegion",new u({model:this.getOption("summary")})),this.showChildView("gameRegion",new i({model:this.getOption("gameModel")})),this.showChildView("streamRegion",new s({collection:this.getOption("streams")}))},n.prototype.onDomRefresh=function(){return this.ui.scrollPanel.slimScroll({height:"800px",color:"#00f",size:10,wheelStep:24,allowPageScroll:!0,disableFadeOut:!0,railVisible:!0,alwaysVisible:!0}).bind("slimscroll",function(t,e){return l.request("streams:fetchmore")})},n}(e.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/games/detail/controller",["msgbus","apps/games/detail/views","marionette","backbone"],function(e,n,r,i){var o,a;return a=e.appChannel,o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.initialize=function(t){var e,n;return null==t&&(t={}),this.gameName=t.gameName,this.gameModel=t.gameModel,e=a.request("default:region"),void 0===this.gameModel&&(this.gameModel=a.request("games:searchName",this.gameName)),this.streamEntities=a.request("search:stream:entities",this.gameName),n=a.request("stream:summary:model"),a.trigger("when:fetched",[this.gameModel,this.streamEntities],function(t){return function(){var r,i;return i={gameModel:t.gameModel,streams:t.streamEntities,summary:n},r=t.getLayoutView(i),e.show(r)}}(this))},r.prototype.getLayoutView=function(t){return new n.Layout(t)},r}(r.Object)})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/games/app",["msgbus","marionette","backbone","apps/games/list/controller","apps/games/detail/controller","entities/appstate"],function(e,n,r,i,o,a){var s,u,l;return l=e.appChannel,u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.appRoutes={games:"list","games/:id/detail":"detail"},n}(n.AppRouter),s={list:function(){return a.get("authState")!==!0?r.history.navigate("#d3",{trigger:!0}):new i},detail:function(t,e){return new o({gameName:t,gameModel:e})}},l.on("app:game:detail",function(t){return r.history.navigate("games/"+t.get("game").name+"/detail",{trigger:!1}),s.detail(t.get("game").name,t)}),l.on("start:games:app",function(){return new u({controller:s})})})}.call(this),define("text!apps/playa/show/templates/playerhtml5.htm",[],function(){return'<div class="panel panel-warning">\r\n  <div class="panel-heading"><h3>TwitchTV Expose <small>{{game}} - {{channel.display_name}}</small></h3></div>\r\n  <div class="panel-body" id="twitchplayer5">\r\n    <iframe height="{{video_height}}" width="{{video_height * 16/9}}" frameborder="0" scrolling="no" src="http://www.twitch.tv/{{channel.display_name}}/embed"></iframe> \r\n  </div>\r\n</div>'}),define("text!apps/playa/show/templates/user.htm",[],function(){return'<div class="row">\r\n\r\n  <div class="col-sm-6 col-md-3">\r\n    <a href="#" class="thumbnail">\r\n      <img src="{{preview.large}}" alt="..." class="img-responsive">\r\n    </a>\r\n  </div>\r\n  <div class="col-sm-6 col-md-3">\r\n    <a href="#" class="thumbnail">\r\n      <img src="{{channel.video_banner}}" alt="..." class="img-responsive">\r\n    </a>\r\n  </div>\r\n  <div class="col-sm-6 col-md-3">\r\n    <a href="#" class="thumbnail">\r\n      <img src="{{channel.logo}}" alt="..." class="img-responsive">\r\n    </a>\r\n  </div>\r\n\r\n</div>\r\n'}),define("text!apps/playa/show/templates/layout.htm",[],function(){return'<div class=row>\r\n    <div class="col-md-8 col-xs-12">\r\n        <div id="player-region"></div>\r\n        <div id="user-region"></div>\r\n    </div>\r\n    <div id="chat-region" class="col-md-4 col-xs-12"></div>\r\n</div>\r\n'}),define("text!apps/playa/show/templates/chat.htm",[],function(){return'<div class="panel panel-info">\r\n  <div class="panel-heading"><h3>Chat<small> - {{channel.display_name}}</small></h3></div>\r\n  <div class="panel-body">\r\n    <iframe frameborder="0"\r\n            scrolling="no"\r\n            id="twitchchat"\r\n            src="https://twitch.tv/chat/embed?channel={{channel.display_name}}&amp;popout_chat=true"\r\n            height="500"\r\n            width="320">\r\n    </iframe>\r\n  </div>\r\n</div'}),function(){define("apps/playa/show/templates",["require","text!apps/playa/show/templates/playerhtml5.htm","text!apps/playa/show/templates/user.htm","text!apps/playa/show/templates/layout.htm","text!apps/playa/show/templates/chat.htm"],function(t){return{player:t("text!apps/playa/show/templates/playerhtml5.htm"),user:t("text!apps/playa/show/templates/user.htm"),layout:t("text!apps/playa/show/templates/layout.htm"),chat:t("text!apps/playa/show/templates/chat.htm")}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/playa/show/views",["apps/playa/show/templates","marionette"],function(e,n){var r,i,o,a;return o=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.template=_.template(e.player),r.prototype.ui={panelbody:".panel-body"},r.prototype.modelEvents={"change:video_height":"render"},r.prototype.onDomRefresh=function(){var t,e;return e=this.ui.panelbody.outerWidth(!1),t=Math.floor(9*(e-30)/16),this.model.set("video_height",t)},r}(n.View),a=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.template=_.template(e.user),r}(n.View),r=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.template=_.template(e.chat),r}(n.View),{Layout:i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.template=_.template(e.layout),i.prototype.regions={playerRegion:"#player-region",userRegion:"#user-region",chatRegion:"#chat-region"},i.prototype.onRender=function(){return this.showChildView("playerRegion",new o({model:this.model})),this.showChildView("userRegion",new a({model:this.model})),this.showChildView("chatRegion",new r({model:this.model}))},i}(n.View)}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/playa/show/controller",["apps/playa/show/views","marionette","msgbus"],function(e,n,r){var i,o;return o=r.appChannel,i=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.initialize=function(t){var e,n,r;return null==t&&(t={}),e=t.channel,r=t.model,n=o.request("default:region"),void 0===r&&(r=o.request("search:stream:model",e)),o.trigger("when:fetched",r,function(t){return function(){var e;return e=t.getLayoutView(r),n.show(e)}}(this))},r.prototype.getLayoutView=function(t){return new e.Layout({model:t})},r}(n.Object)})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;define("apps/playa/app",["msgbus","backbone","marionette","apps/playa/show/controller"],function(e,n,r,i){var o,a,s;return s=e.appChannel,a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.appRoutes={"player/:game/:channel":"show"},n}(r.AppRouter),o={show:function(t,e,n){return new i({channel:e,model:n})}},s.on("start:playa:app",function(){return new a({controller:o})}),s.on("app:playa:show",function(t){return n.history.navigate("player/"+t.get("game")+"/"+t.get("channel").display_name,{trigger:!1}),o.show(t.get("game"),t.get("channel").display_name,t)})})}.call(this),function(){define("apps/load",["apps/header/app","apps/footer/app","apps/d3/app","apps/about/app","apps/games/app","apps/playa/app"],function(){})}.call(this),function(){define("app",["backbone","marionette","msgbus"],function(t,e,n){var r,i;return i=n.appChannel,r=new e.Application({region:"#main-region",onBeforeStart:function(t){return null==t&&(t={}),i.trigger("start:header:app"),i.trigger("start:footer:app"),i.trigger("start:d3:app"),i.trigger("start:about:app"),i.trigger("start:games:app"),i.trigger("start:playa:app")},onStart:function(){var e,n,r;if(e=i.request("get:current:appstate"),t.history)return t.history.start(),n=t.history.fragment,r=/access_token/i.test(n),r?(e.set("accessToken",n.split(/[=&]/)[1]),e.set({authState:!0}),t.history.navigate("#games",{trigger:!0})):(e.set({authState:!1}),t.history.navigate("#about",{trigger:!0}))}}),i.reply("default:region",function(){return r.getRegion()}),r})}.call(this),function(){require.config({paths:{jquery:"../bower_components/jquery/dist/jquery",underscore:"../bower_components/underscore/underscore",backbone:"../bower_components/backbone/backbone",marionette:"../bower_components/backbone.marionette/lib/backbone.marionette","backbone.radio":"../bower_components/backbone.radio/build/backbone.radio",moment:"../bower_components/moment/moment",nprogress:"../bower_components/nprogress/nprogress",globalize:"../bower_components/globalize/lib/globalize",text:"../bower_components/requirejs-text/text",d3:"../bower_components/d3/d3",spin:"../bower_components/spin.js/spin",jqueryspin:"../bower_components/spin.js/jquery.spin",slimscroll:"../bower_components/jquery-slimscroll/jquery.slimscroll",bootstrap:"../bower_components/bootstrap/dist/js/bootstrap"},shim:{slimscroll:["jquery"],bootstrap:["jquery"]}},require(["config/load","apps/load","app"],function(t,e,n){return n.start()}))}.call(this),define("main",function(){});